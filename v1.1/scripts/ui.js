!function(e,t,n){"use strict";!function(){t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.layout","material.core.theming.palette","material.core.theming","material.core.animate","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.fabTrigger","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.virtualRepeat","material.components.whiteframe"])}(),function(){function e(e,t){if(t.has("$swipe")){var n="You are using the ngTouch module. \nAngular Material already has mobile click, tap, and swipe support... \nngTouch is not supported with Angular Material!";e.warn(n)}}function n(e,t){e.decorator("$$rAF",["$delegate",i]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function i(e){return e.throttle=function(t){var n,i,o,r;return function(){n=arguments,r=this,o=t,i||(i=!0,e(function(){o.apply(r,Array.prototype.slice.call(n)),i=!1}))}},e}t.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.gestures","material.core.theming"]).config(n).run(e),e.$inject=["$log","$injector"],n.$inject=["$provide","$mdThemingProvider"]}(),function(){function e(e){function t(e){return n?"webkit"+e.charAt(0).toUpperCase()+e.substring(1):e}var n=/webkit/i.test(e.vendorPrefix);return{KEY_CODE:{COMMA:188,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(n?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(n?" webkitAnimationEnd":""),TRANSFORM:t("transform"),TRANSFORM_ORIGIN:t("transformOrigin"),TRANSITION:t("transition"),TRANSITION_DURATION:t("transitionDuration"),ANIMATION_PLAY_STATE:t("animationPlayState"),ANIMATION_DURATION:t("animationDuration"),ANIMATION_NAME:t("animationName"),ANIMATION_TIMING:t("animationTimingFunction"),ANIMATION_DIRECTION:t("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs"]}}t.module("material.core").factory("$mdConstant",e),e.$inject=["$sniffer"]}(),function(){function e(e,n){function i(){return[].concat(y)}function o(){return y.length}function r(e){return y.length&&e>-1&&e<y.length}function a(e){return e?r(u(e)+1):!1}function s(e){return e?r(u(e)-1):!1}function l(e){return r(e)?y[e]:null}function d(e,t){return y.filter(function(n){return n[e]===t})}function c(e,n){return e?(t.isNumber(n)||(n=y.length),y.splice(n,0,e),u(e)):-1}function h(e){p(e)&&y.splice(u(e),1)}function u(e){return y.indexOf(e)}function p(e){return e&&u(e)>-1}function m(){return y.length?y[0]:null}function f(){return y.length?y[y.length-1]:null}function g(e,i,o,a){o=o||v;for(var s=u(i);;){if(!r(s))return null;var l=s+(e?-1:1),d=null;if(r(l)?d=y[l]:n&&(d=e?f():m(),l=u(d)),null===d||l===a)return null;if(o(d))return d;t.isUndefined(a)&&(a=l),s=l}}var v=function(){return!0};e&&!t.isArray(e)&&(e=Array.prototype.slice.call(e)),n=!!n;var y=e||[];return{items:i,count:o,inRange:r,contains:p,indexOf:u,itemAt:l,findBy:d,add:c,remove:h,first:m,last:f,next:t.bind(null,g,!1),previous:t.bind(null,g,!0),hasPrevious:s,hasNext:a}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=e,t}])}])}(),function(){function e(e,n,i){function o(e){var n=u[e];t.isUndefined(n)&&(n=u[e]=r(e));var i=m[n];return t.isUndefined(i)&&(i=a(n)),i}function r(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function a(e){var t=p[e];return t||(t=p[e]=i.matchMedia(e)),t.addListener(s),m[t.media]=!!t.matches}function s(e){n.$evalAsync(function(){m[e.media]=!!e.matches})}function l(e){return p[e]}function d(t,n){for(var i=0;i<e.MEDIA_PRIORITY.length;i++){var o=e.MEDIA_PRIORITY[i];if(p[u[o]].matches){var r=h(t,n+"-"+o);if(t[r])return t[r]}}return t[h(t,n)]}function c(n,i,o){var r=[];return n.forEach(function(n){var a=h(i,n);t.isDefined(i[a])&&r.push(i.$observe(a,t.bind(void 0,o,null)));for(var s in e.MEDIA)a=h(i,n+"-"+s),t.isDefined(i[a])&&r.push(i.$observe(a,t.bind(void 0,o,s)))}),function(){r.forEach(function(e){e()})}}function h(e,t){return f[t]||(f[t]=e.$normalize(t))}var u={},p={},m={},f={};return o.getResponsiveAttribute=d,o.getQuery=l,o.watchResponsiveAttributes=c,o}t.module("material.core").factory("$mdMedia",e),e.$inject=["$mdConstant","$rootScope","$window"]}(),function(){function i(i,r,a,s,l,d,c,h,u){function p(e){return e[0]||e}var m=d.startSymbol(),f=d.endSymbol(),g="{{"===m&&"}}"===f,v=function(e,n,i){var o=!1;if(e&&e.length){var r=u.getComputedStyle(e[0]);o=t.isDefined(r[n])&&(i?r[n]==i:!0)}return o},y={dom:{},now:e.performance?t.bind(e.performance,e.performance.now):Date.now||function(){return(new Date).getTime()},clientRect:function(e,t,n){var i=p(e);t=p(t||i.offsetParent||document.body);var o=i.getBoundingClientRect(),r=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:o.left-r.left,top:o.top-r.top,width:o.width,height:o.height}},offsetRect:function(e,t){return y.clientRect(e,t,!0)},nodesToArray:function(e){e=e||[];for(var t=[],n=0;n<e.length;++n)t.push(e.item(n));return t},scrollTop:function(e){e=t.element(e||i[0].body);var o=e[0]==i[0].body?i[0].body:n,r=o?o.scrollTop+o.parentElement.scrollTop:0;return r||Math.abs(e[0].getBoundingClientRect().top)},findFocusTarget:function(e,n){function i(e,n){var i,o=e[0].querySelectorAll(n);if(o&&o.length){var r=/\s*\[?([\-a-z]*)\]?\s*/i,a=r.exec(n),s=a?a[1]:null;o.length&&t.forEach(o,function(e){e=t.element(e);var n=e[0].getAttribute(s),o=n&&y.validateScope(e)?e.scope().$eval(n)!==!1:!0;o&&(i=e)})}return i}var o,r="[md-autofocus]";return o=i(e,n||r),o||n==r||(o=i(e,"[md-auto-focus]"),o||(o=i(e,r))),o},disableScrollAround:function(e,n){function o(e){function n(e){}function o(e){e.preventDefault()}e=t.element(e||s)[0];var r=50,a=t.element('<div class="md-scroll-mask" style="z-index: '+r+'">  <div class="md-scroll-mask-bar"></div></div>');return e.appendChild(a[0]),a.on("wheel",o),a.on("touchmove",o),i.on("keydown",n),function(){a.off("wheel"),a.off("touchmove"),a[0].parentNode.removeChild(a[0]),i.off("keydown",n),delete y.disableScrollAround._enableScrolling}}function r(){var e=s.parentNode,t=e.getAttribute("style")||"",n=s.getAttribute("style")||"",i=y.scrollTop(s),o=s.clientWidth;return s.scrollHeight>s.clientHeight+1&&(a(s,{position:"fixed",width:"100%",top:-i+"px"}),a(e,{overflowY:"scroll"})),s.clientWidth<o&&a(s,{overflow:"hidden"}),function(){s.setAttribute("style",n),e.setAttribute("style",t),s.scrollTop=i,e.scrollTop=i}}function a(e,t){for(var n in t)e.style[n]=t[n]}if(y.disableScrollAround._count=y.disableScrollAround._count||0,++y.disableScrollAround._count,y.disableScrollAround._enableScrolling)return y.disableScrollAround._enableScrolling;e=t.element(e);var s=i[0].body,l=r(),d=o(n);return y.disableScrollAround._enableScrolling=function(){--y.disableScrollAround._count||(l(),d(),delete y.disableScrollAround._enableScrolling)}},enableScrolling:function(){var e=this.disableScrollAround._enableScrolling;e&&e()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var e=t.element('<div style="width: 100%; z-index: -1; position: absolute; height: 35px; overflow-y: scroll"><div style="height: 60px;"></div></div>');i[0].body.appendChild(e[0]),this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth,e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function o(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",o))},!0);var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!1,!0,e,{},0,0,0,0,!1,!1,!1,!1,0,null),i.$material=!0,i.$focus=!0,n.dispatchEvent(i)},createBackdrop:function(e,t){return a(y.supplant('<md-backdrop class="{0}">',[t]))(e)},supplant:function(e,t,n){return n=n||/\{([^\{\}]*)\}/g,e.replace(n,function(e,n){var i=n.split("."),o=t;try{for(var r in i)i.hasOwnProperty(r)&&(o=o[i[r]])}catch(a){o=e}return"string"==typeof o||"number"==typeof o?o:e})},fakeNgModel:function(){return{$fake:!0,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,i,o){var a;return function(){var s=i,l=Array.prototype.slice.call(arguments);r.cancel(a),a=r(function(){a=n,e.apply(s,l)},t||10,o)}},throttle:function(e,t){var n;return function(){var i=this,o=arguments,r=y.now();(!n||r-n>t)&&(e.apply(i,o),n=r)}},time:function(e){var t=y.now();return e(),y.now()-t},valueOnUse:function(e,t,n){var i=null,o=Array.prototype.slice.call(arguments),r=o.length>3?o.slice(3):[];Object.defineProperty(e,t,{get:function(){return null===i&&(i=n.apply(e,r)),i}})},nextUid:function(){return""+o++},validateScope:function(e){var n=e&&t.isDefined(e.scope());return n||c.warn("element.scope() is not available when 'debug mode' == false. @see https://docs.angularjs.org/guide/production!"),n},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,n,i){if(e instanceof t.element&&(e=e[0]),n=n.toUpperCase(),i&&(e=e.parentNode),!e)return null;do if(e.nodeName===n)return e;while(e=e.parentNode);return null},elementContains:function(n,i){var o=e.Node&&e.Node.prototype&&Node.prototype.contains,r=o?t.bind(n,n.contains):t.bind(n,function(e){return n===i||!!(16&this.compareDocumentPosition(e))});return r(i)},extractElementByName:function(e,n,i,o){function r(e){return a(e)||(i?s(e):null)}function a(e){if(e)for(var t=0,i=e.length;i>t;t++)if(e[t].nodeName.toLowerCase()===n)return e[t];return null}function s(e){var t;if(e)for(var n=0,i=e.length;i>n;n++){var o=e[n];if(!t)for(var a=0,s=o.childNodes.length;s>a;a++)t=t||r([o.childNodes[a]])}return t}var l=r(e);return!l&&o&&c.warn(y.supplant("Unable to find node '{0}' in element '{1}'.",[n,e[0].outerHTML])),t.element(l||e)},initOptionalProperties:function(e,n,i){i=i||{},t.forEach(e.$$isolateBindings,function(o,r){if(o.optional&&t.isUndefined(e[r])){var a=t.isDefined(n[o.attrName]);e[r]=t.isDefined(i[r])?i[r]:a}})},nextTick:function(e,t,n){function i(){var e=n&&n.$$destroyed,t=e?[]:o.queue,i=e?null:o.digest;o.queue=[],o.timeout=null,o.digest=!1,t.forEach(function(e){e()}),i&&s.$digest()}var o=y.nextTick,a=o.timeout,l=o.queue||[];return l.push(e),null==t&&(t=!0),o.digest=o.digest||t,o.queue=l,a||(o.timeout=r(i,0,!1))},processTemplate:function(e){return g?e:e&&t.isString(e)?e.replace(/\{\{/g,m).replace(/}}/g,f):e},getParentWithPointerEvents:function(e){for(var t=e.parent();v(t,"pointer-events","none");)t=t.parent();return t},getNearestContentElement:function(e){for(var t=e.parent()[0];t&&t!==h[0]&&t!==document.body&&"MD-CONTENT"!==t.nodeName.toUpperCase();)t=t.parentNode;return t},hasComputedStyle:v};return y.dom.animator=l(y),y}var o=0;t.module("material.core").factory("$mdUtil",i),i.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window"],t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this},t.element.prototype.blur=t.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function e(e,n,i){function o(e,i,o){var r=t.element(e)[0]||e;!r||r.hasAttribute(i)&&0!==r.getAttribute(i).length||l(r,i)||(o=t.isString(o)?o.trim():"",o.length?e.attr(i,o):n.warn('ARIA: Attribute "',i,'", required for accessibility, is missing on node:',r))}function r(t,n,i){e(function(){o(t,n,i())})}function a(e,t){r(e,t,function(){return s(e)})}function s(e){return e.text().trim()}function l(e,t){function n(e){var t=e.currentStyle?e.currentStyle:i.getComputedStyle(e);return"none"===t.display}var o=e.hasChildNodes(),r=!1;if(o)for(var a=e.childNodes,s=0;s<a.length;s++){var l=a[s];1===l.nodeType&&l.hasAttribute(t)&&(n(l)||(r=!0))}return r}return{expect:o,expectAsync:r,expectWithText:a}}t.module("material.core").service("$mdAria",e),e.$inject=["$$rAF","$log","$window"]}(),function(){function e(e,n,i,o,r,a){this.compile=function(s){var l=s.templateUrl,d=s.template||"",c=s.controller,h=s.controllerAs,u=t.extend({},s.resolve||{}),p=t.extend({},s.locals||{}),m=s.transformTemplate||t.identity,f=s.bindToController;return t.forEach(u,function(e,n){t.isString(e)?u[n]=i.get(e):u[n]=i.invoke(e)}),t.extend(u,p),l?u.$template=n.get(l,{cache:a}).then(function(e){return e.data}):u.$template=e.when(d),e.all(u).then(function(e){var n,i=m(e.$template,s),a=s.element||t.element("<div>").html(i.trim()).contents(),l=o(a);return n={locals:e,element:a,link:function(i){if(e.$scope=i,c){var o=r(c,e,!0);f&&t.extend(o.instance,e);var s=o();a.data("$ngControllerController",s),a.children().data("$ngControllerController",s),h&&(i[h]=s),n.controller=s}return l(i)}}})}}t.module("material.core").service("$mdCompiler",e),e.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]}(),function(){function n(){}function i(n,i,o){function r(e){return function(t,n){n.distance<this.state.options.maxDistance&&this.dispatchEvent(t,e,n)}}function a(e,t,n){var i=m[t.replace(/^\$md./,"")];if(!i)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(m).join(", "));return i.registerElement(e,n)}function l(e,i){var o=new n(e);return t.extend(o,i),m[e]=o,g}var d=navigator.userAgent||navigator.vendor||e.opera,h=d.match(/ipad|iphone|ipod/i),u=d.match(/android/i),p="undefined"!=typeof e.jQuery&&t.element===e.jQuery,g={handler:l,register:a,isHijackingClicks:(h||u)&&!p&&!f};if(g.isHijackingClicks){var v=6;g.handler("click",{options:{maxDistance:v},onEnd:r("click")}),g.handler("focus",{options:{maxDistance:v},onEnd:function(e,t){function n(e){var t=["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"];return"-1"!=e.getAttribute("tabindex")&&!e.hasAttribute("DISABLED")&&(e.hasAttribute("tabindex")||e.hasAttribute("href")||-1!=t.indexOf(e.nodeName))}t.distance<this.state.options.maxDistance&&n(e.target)&&(this.dispatchEvent(e,"focus",t),e.target.focus())}}),g.handler("mouseup",{options:{maxDistance:v},onEnd:r("mouseup")}),g.handler("mousedown",{onStart:function(e){this.dispatchEvent(e,"mousedown")}})}return g.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e,t){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){o.cancel(this.state.timeout)},onStart:function(e,n){return this.state.registeredParent?(this.state.pos={x:n.x,y:n.y},void(this.state.timeout=o(t.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(e,t){e.preventDefault();var n=this.state.pos.x-t.x,i=this.state.pos.y-t.y;Math.sqrt(n*n+i*i)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onStart:function(e){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,i;e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,i=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(t.distanceY)>this.state.options.minDistance,i=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=s(e),c(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):i&&this.cancel())},dispatchDragMove:i.throttle(function(e){this.state.isRunning&&(c(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e,t){this.state.dragPointer&&(c(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){var n;Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance?(n="left"==t.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(e,n)):Math.abs(t.velocityY)>this.state.options.minVelocity&&Math.abs(t.distanceY)>this.state.options.minDistance&&(n="up"==t.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(e,n))}})}function o(e){this.name=e,this.state={}}function r(){function n(e,n,i){i=i||u;var o=new t.element.Event(n);o.$material=!0,o.pointer=i,o.srcEvent=e,t.extend(o,{clientX:i.x,clientY:i.y,screenX:i.x,screenY:i.y,pageX:i.x,pageY:i.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),t.element(i.target).trigger(o)}function i(t,n,i){i=i||u;var o;"click"===n||"mouseup"==n||"mousedown"==n?(o=document.createEvent("MouseEvents"),o.initMouseEvent(n,!0,!0,e,t.detail,i.x,i.y,i.x,i.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(o=document.createEvent("CustomEvent"),o.initCustomEvent(n,!0,!0,{})),o.$material=!0,o.pointer=i,o.srcEvent=t,i.target.dispatchEvent(o)}var r="undefined"!=typeof e.jQuery&&t.element===e.jQuery;return o.prototype={options:{},dispatchEvent:r?n:i,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,n){if(!this.state.isRunning){var i=this.getNearestParent(e.target),o=i&&i.$mdGesture[this.name]||{};this.state={isRunning:!0,options:t.extend({},this.options,o),registeredParent:i},this.onStart(e,n)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(e,t){function n(){delete e[0].$mdGesture[i.name],e.off("$destroy",n)}var i=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",n),n}},o}function a(e,n){function i(e){var t=!e.clientX&&!e.clientY;t||e.$material||e.isIonicTap||d(e)||(e.preventDefault(),e.stopPropagation())}function o(e){var t=0===e.clientX&&0===e.clientY;t||e.$material||e.isIonicTap||d(e)?(g=null,"label"==e.target.tagName.toLowerCase()&&(g={x:e.x,y:e.y})):(e.preventDefault(),e.stopPropagation(),g=null)}function r(e,t){var i;for(var o in m)i=m[o],i instanceof n&&("start"===e&&i.cancel(),i[e](t,u))}function a(e){if(!u){var t=+Date.now();p&&!l(e,p)&&t-p.endTime<1500||(u=s(e),r("start",e))}}function h(e){u&&l(e,u)&&(c(e,u),r("move",e))}function f(e){u&&l(e,u)&&(c(e,u),u.endTime=+Date.now(),r("end",e),p=u,u=null)}document.contains||(document.contains=function(e){return document.body.contains(e)}),!v&&e.isHijackingClicks&&(document.addEventListener("click",o,!0),document.addEventListener("mouseup",i,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("focus",i,!0),v=!0);var y="mousedown touchstart pointerdown",b="mousemove touchmove pointermove",_="mouseup mouseleave touchend touchcancel pointerup pointercancel";t.element(document).on(y,a).on(b,h).on(_,f).on("$$mdGestureReset",function(){p=u=null})}function s(e){var t=h(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}function l(e,t){return e&&t&&e.type.charAt(0)===t.type}function d(e){return g&&g.x==e.x&&g.y==e.y}function c(e,t){var n=h(e),i=t.x=n.pageX,o=t.y=n.pageY;t.distanceX=i-t.startX,t.distanceY=o-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"down":t.distanceY<0?"up":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function h(e){return e=e.originalEvent||e,e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}var u,p,m={},f=!1,g=null,v=!1;t.module("material.core.gestures",[]).provider("$mdGesture",n).factory("$$MdGestureHandler",r).run(a),n.prototype={skipClickHijack:function(){return f=!0},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new i(e,t,n)}]},i.$inject=["$$MdGestureHandler","$$rAF","$timeout"],a.$inject=["$mdGesture","$$MdGestureHandler"]}(),function(){function e(){function e(e){function n(e){return l.optionsFactory=e.options,l.methods=(e.methods||[]).concat(a),d}function i(e,t){return s[e]=t,d}function o(t,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return l.presets[t]={methods:n.methods.concat(a),optionsFactory:n.options,argOption:n.argOption},d}function r(n,i){function o(e){return e=e||{},e._options&&(e=e._options),h.show(t.extend({},c,e))}function r(e){return h.destroy(e)}function a(t,n){var o={};return o[e]=u,i.invoke(t||function(){return n},{},o)}var d,c,h=n(),u={hide:h.hide,cancel:h.cancel,show:o,destroy:r};return d=l.methods||[],c=a(l.optionsFactory,{}),t.forEach(s,function(e,t){u[t]=e}),t.forEach(l.presets,function(e,n){function i(e){this._options=t.extend({},o,e)}var o=a(e.optionsFactory,{}),r=(e.methods||[]).concat(d);if(t.extend(o,{$type:n}),t.forEach(r,function(e){i.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var s="show"+n.charAt(0).toUpperCase()+n.slice(1);u[s]=function(e){var t=u[n](e);return u.show(t)}}u[n]=function(n){return arguments.length&&e.argOption&&!t.isObject(n)&&!t.isArray(n)?(new i)[e.argOption](n):new i(n)}}),u}var a=["onHide","onShow","onRemove"],s={},l={presets:{}},d={setDefaults:n,addPreset:o,addMethod:i,$get:r};return d.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]}),r.$inject=["$$interimElement","$injector"],d}function i(e,i,o,r,a,s,l,d,c,h,u){return function(){function p(e){e=e||{};var t=new v(e||{}),n=!e.skipHide&&_.length?y.hide():i.when(!0);return n["finally"](function(){_.push(t),t.show()["catch"](function(e){return e})}),t.deferred.promise}function m(e,t){function o(n){return n.remove(e,!1,t||{})["catch"](function(e){return e}),n.deferred.promise}if(!_.length)return i.when(e);if(t=t||{},t.closeAll){var r=i.all(_.reverse().map(o));return _=[],r}if(t.closeTo!==n)return i.all(_.splice(t.closeTo).map(o));var a=_.pop();return o(a)}function f(e,t){var n=_.shift();return n?(n.remove(e,!0,t||{})["catch"](function(e){return e}),n.deferred.promise):i.when(e)}function g(e){var n=e?null:_.shift(),o=t.element(e).length?t.element(e)[0].parentNode:null;if(o){var r=_.filter(function(e){var t=e.options.element[0];return t===o});r.length>0&&(n=r[0],_.splice(_.indexOf(n),1))}return n?n.remove(b,!1,{$destroy:!0}):i.when(b)}function v(u){function p(){return i(function(e,t){function n(e){C.deferred.reject(e),t(e)}g(u).then(function(t){w=v(t,u),T=x(w,u,t.controller).then(e,n)},n)})}function m(e,n,o){function r(e){C.deferred.resolve(e)}function a(e){C.deferred.reject(e)}return w?(u=t.extend(u||{},o||{}),u.cancelAutoHide&&u.cancelAutoHide(),u.element.triggerHandler("$mdInterimElementRemove"),u.$destroy===!0?E(u.element,u).then(function(){n&&a(e)||r(e)}):(i.when(T)["finally"](function(){E(u.element,u).then(function(){n&&a(e)||r(e)},a)}),C.deferred.promise)):i.when(!1)}function f(e){return e=e||{},e.template&&(e.template=d.processTemplate(e.template)),t.extend({preserveScope:!1,cancelAutoHide:t.noop,scope:e.scope||r.$new(e.isolateScope),onShow:function(e,t,n){return l.enter(t,n.parent)},onRemove:function(e,t){return t&&l.leave(t)||i.when()}},e)}function g(e){var t=e.skipCompile?null:c.compile(e);return t||i(function(t){t({locals:{},link:function(){return e.element}})})}function v(e,n){t.extend(e.locals,n);var i=e.link(n.scope);return n.element=i,n.parent=b(i,n),n.themable&&h(i),i}function b(n,i){var o=i.parent;if(o=t.isFunction(o)?o(i.scope,n,i):t.isString(o)?t.element(e[0].querySelector(o)):t.element(o),!(o||{}).length){var r;return s[0]&&s[0].querySelector&&(r=s[0].querySelector(":not(svg) > body")),r||(r=s[0]),"#comment"==r.nodeName&&(r=e[0].body),t.element(r)}return o}function _(){var e,i=t.noop;u.hideDelay&&(e=a(y.hide,u.hideDelay),i=function(){a.cancel(e)}),u.cancelAutoHide=function(){i(),u.cancelAutoHide=n}}function x(e,n,o){var r=n.onShowing||t.noop,a=n.onComplete||t.noop;return r(n.scope,e,n,o),i(function(t,r){try{i.when(n.onShow(n.scope,e,n,o)).then(function(){a(n.scope,e,n),_(),t(e)},r)}catch(s){r(s.message)}})}function E(e,n){var i=n.onRemoving||t.noop;return o(function(t,r){try{var a=o.when(n.onRemove(n.scope,e,n)||!0);i(e,a),1==n.$destroy?t(e):a.then(function(){!n.preserveScope&&n.scope&&n.scope.$destroy(),t(e)},r)}catch(s){r(s.message)}})}var C,w,T=i.when(!0);return u=f(u),C={options:u,deferred:i.defer(),show:p,remove:m}}var y,b=!1,_=[];return y={show:p,hide:m,cancel:f,destroy:g,$injector_:u}}}return e.$get=i,i.$inject=["$document","$q","$$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector"],e}t.module("material.core").provider("$$interimElement",e)}(),function(){!function(){function e(e){function a(e){return e.replace(l,"").replace(d,function(e,t,n,i){return i?n.toUpperCase():n})}var l=/^((?:x|data)[\:\-_])/i,d=/([\:\-\_]+(.))/g,c=["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl"],h=["layout","flex","flex-order","flex-offset","layout-align"],u=["show","hide","layout-padding","layout-margin"];t.forEach(c,function(n){t.forEach(h,function(t){var i=n?t+"-"+n:t;e.directive(a(i),o(i))}),t.forEach(u,function(t){var i=n?t+"-"+n:t;e.directive(a(i),r(i))})}),e.directive("mdLayoutCss",n).directive("ngCloak",i("ng-cloak")).directive("layoutWrap",r("layout-wrap")).directive("layoutNoWrap",r("layout-no-wrap")).directive("layoutFill",r("layout-fill")).directive("layoutLtMd",s("layout-lt-md",!0)).directive("layoutLtLg",s("layout-lt-lg",!0)).directive("flexLtMd",s("flex-lt-md",!0)).directive("flexLtLg",s("flex-lt-lg",!0)).directive("layoutAlignLtMd",s("layout-align-lt-md")).directive("layoutAlignLtLg",s("layout-align-lt-lg")).directive("flexOrderLtMd",s("flex-order-lt-md")).directive("flexOrderLtLg",s("flex-order-lt-lg")).directive("offsetLtMd",s("flex-offset-lt-md")).directive("offsetLtLg",s("flex-offset-lt-lg")).directive("hideLtMd",s("hide-lt-md")).directive("hideLtLg",s("hide-lt-lg")).directive("showLtMd",s("show-lt-md")).directive("showLtLg",s("show-lt-lg"))}function n(){return{restrict:"A",priority:"900",compile:function(e,n){return w.enabled=!1,t.noop}}}function i(e){return["$timeout",function(n){return{restrict:"A",priority:-10,compile:function(i){return w.enabled?(i.addClass(e),function(t,i){n(function(){i.removeClass(e)},10,!1)}):t.noop}}}]}function o(e){function n(t,n,i){var o=a(n,e,i),r=i.$observe(i.$normalize(e),o);o(u(e,i,"")),t.$on("$destroy",function(){r()})}return["$mdUtil","$interpolate","$log",function(i,o,r){return f=i,g=o,v=r,{restrict:"A",compile:function(i,o){var r;return w.enabled&&(l(e,o,i,v),d(e,u(e,o,""),c(i,e,o)),r=n),r||t.noop}}}]}function r(e){function n(t,n){n.addClass(e)}return["$mdUtil","$interpolate","$log",function(i,o,r){return f=i,g=o,v=r,{restrict:"A",compile:function(i,o){var r;return w.enabled&&(d(e,u(e,o,""),c(i,e,o)),n(null,i),r=n),r||t.noop}}}]}function a(e,n){var i;return function(o){var r=d(n,o||"");t.isDefined(r)&&(i&&e.removeClass(i),i=r?n+"-"+r.replace(b,"-"):n,e.addClass(i))}}function s(e){var n=e.split("-");return["$log",function(i){return i.warn(e+"has been deprecated. Please use a `"+n[0]+"-gt-<xxx>` variant."),t.noop}]}function l(e,t,n,i){var o,r,a,s=n[0].nodeName.toLowerCase();switch(e.replace(y,"")){case"flex":("md-button"==s||"fieldset"==s)&&(r="<"+s+" "+e+"></"+s+">",a="https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers",o="Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",i.warn(f.supplant(o,[r,a])))}}function d(e,n,i){var o=n;if(!h(n)){switch(e.replace(y,"")){case"layout":p(n,x)||(n=x[0]);break;case"flex":p(n,_)||isNaN(n)&&(n="");break;case"flex-offset":case"flex-order":(!n||isNaN(+n))&&(n="0");break;case"layout-align":var r=m(n);n=f.supplant("{main}-{cross}",r);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-no-wrap":n=""}n!=o&&(i||t.noop)(n)}return n}function c(e,t,n){return function(e){h(e)||(n[n.$normalize(t)]=e)}}function h(e){return(e||"").indexOf(g.startSymbol())>-1}function u(e,t,n){var i=t.$normalize(e);return t[i]?t[i].replace(b,"-"):n||null}function p(e,t,n){e=n&&e?e.replace(b,n):e;var i=!1;return e&&t.forEach(function(t){t=n?t.replace(b,n):t,i=i||t===e}),i}function m(e){var t,n={main:"start",cross:"stretch"};return e=e||"",(0==e.indexOf("-")||0==e.indexOf(" "))&&(e="none"+e),t=e.toLowerCase().trim().replace(b,"-").split("-"),t.length&&"space"===t[0]&&(t=[t[0]+"-"+t[1],t[2]]),t.length>0&&(n.main=t[0]||n.main),t.length>1&&(n.cross=t[1]||n.cross),E.indexOf(n.main)<0&&(n.main="start"),C.indexOf(n.cross)<0&&(n.cross="stretch"),n}var f,g,v,y=/(-gt)?-(sm|md|lg)/g,b=/\s+/g,_=["grow","initial","auto","none","noshrink","nogrow"],x=["row","column"],E=["","start","center","end","stretch","space-around","space-between"],C=["","start","center","end","stretch"],w={enabled:!0,breakpoints:[]};e(t.module("material.core.layout",["ng"]))}()}(),function(){function e(e,n){function i(e){return e&&""!==e}var o,r=[],a={};return o={notFoundError:function(t){e.error("No instance found for handle",t)},getInstances:function(){return r},get:function(e){if(!i(e))return null;var t,n,o;for(t=0,n=r.length;n>t;t++)if(o=r[t],o.$$mdHandle===e)return o;return null},register:function(e,n){function i(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}function o(){var t=a[n];t&&(t.resolve(e),delete a[n])}return n?(e.$$mdHandle=n,r.push(e),o(),i):t.noop},when:function(e){if(i(e)){var t=n.defer(),r=o.get(e);return r?t.resolve(r):a[e]=t,t.promise}return n.reject("Invalid `md-component-id` value.")}}}t.module("material.core").factory("$mdComponentRegistry",e),
e.$inject=["$log","$q"]}(),function(){!function(){function e(e){function n(e){return e.hasClass("md-icon-button")?{isMenuItem:e.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:e.hasClass("md-menu-item"),dimBackground:!0}}return{attach:function(i,o,r){return r=t.extend(n(o),r),e.attach(i,o,r)}}}t.module("material.core").factory("$mdButtonInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){!function(){function e(e){function n(n,i,o){return e.attach(n,i,t.extend({center:!0,dimBackground:!1,fitRipple:!0},o))}return{attach:n}}t.module("material.core").factory("$mdCheckboxInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){!function(){function e(e){function n(n,i,o){return e.attach(n,i,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},o))}return{attach:n}}t.module("material.core").factory("$mdListInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){function e(e,n){return{controller:t.noop,link:function(t,i,o){o.hasOwnProperty("mdInkRippleCheckbox")?n.attach(t,i):e.attach(t,i)}}}function n(e){function n(n,o,r){return o.controller("mdNoInk")?t.noop:e.instantiate(i,{$scope:n,$element:o,rippleOptions:r})}return{attach:n}}function i(e,n,i,o,r,a){this.$window=o,this.$timeout=r,this.$mdUtil=a,this.$scope=e,this.$element=n,this.options=i,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,a.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(n.controller("mdInkRipple")||{}).createRipple=t.bind(this,this.createRipple),(n.controller("mdInkRipple")||{}).setColor=t.bind(this,this.color),this.bindEvents()}function o(e,n){(e.mousedown||e.lastRipple)&&(e.mousedown=!1,e.$mdUtil.nextTick(t.bind(e,n),!1))}function r(){return{controller:t.noop}}t.module("material.core").factory("$mdInkRipple",n).directive("mdInkRipple",e).directive("mdNoInk",r).directive("mdNoBar",r).directive("mdNoStretch",r);var a=450;e.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],n.$inject=["$injector"],i.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil"],i.prototype.color=function(e){function n(){var e=i.options&&i.options.colorElement?i.options.colorElement:[],t=e.length?e[0]:i.$element[0];return t?i.$window.getComputedStyle(t).color:"rgb(0,0,0)"}var i=this;return t.isDefined(e)&&(i._color=i._parseColor(e)),i._color||i._parseColor(i.inkRipple())||i._parseColor(n())},i.prototype.calculateColor=function(){return this.color()},i.prototype._parseColor=function(e,t){function n(e){var t="#"===e[0]?e.substr(1):e,n=t.length/3,i=t.substr(0,n),o=t.substr(n,n),r=t.substr(2*n);return 1===n&&(i+=i,o+=o,r+=r),"rgba("+parseInt(i,16)+","+parseInt(o,16)+","+parseInt(r,16)+",0.1)"}function i(e){return e.replace(")",", 0.1)").replace("(","a(")}return t=t||1,e?0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,(.1*t).toString()+")"):0===e.indexOf("rgb")?i(e):0===e.indexOf("#")?n(e):void 0:void 0},i.prototype.bindEvents=function(){this.$element.on("mousedown",t.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",t.bind(this,this.handleMouseup)),this.$element.on("mouseleave",t.bind(this,this.handleMouseup)),this.$element.on("touchmove",t.bind(this,this.handleTouchmove))},i.prototype.handleMousedown=function(e){if(!this.mousedown)if(e.hasOwnProperty("originalEvent")&&(e=e.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(e.srcElement!==this.$element[0]){var t=this.$element[0].getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;this.createRipple(n,i)}else this.createRipple(e.offsetX,e.offsetY)},i.prototype.handleMouseup=function(){o(this,this.clearRipples)},i.prototype.handleTouchmove=function(){o(this,this.deleteRipples)},i.prototype.deleteRipples=function(){for(var e=0;e<this.ripples.length;e++)this.ripples[e].remove()},i.prototype.clearRipples=function(){for(var e=0;e<this.ripples.length;e++)this.fadeInComplete(this.ripples[e])},i.prototype.createContainer=function(){var e=t.element('<div class="md-ripple-container"></div>');return this.$element.append(e),e},i.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},i.prototype.isRippleAllowed=function(){var e=this.$element[0];do{if(!e.tagName||"BODY"===e.tagName)break;if(e&&t.isFunction(e.hasAttribute)){if(e.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(e=e.parentNode);return!0},i.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},i.prototype.createRipple=function(e,n){function i(e){return e?e.replace("rgba","rgb").replace(/,[^\),]+\)/,")"):"rgb(0,0,0)"}function o(e,t,n){return e?Math.max(t,n):Math.sqrt(Math.pow(t,2)+Math.pow(n,2))}if(this.isRippleAllowed()){var r=this,s=t.element('<div class="md-ripple"></div>'),l=this.$element.prop("clientWidth"),d=this.$element.prop("clientHeight"),c=2*Math.max(Math.abs(l-e),e),h=2*Math.max(Math.abs(d-n),n),u=o(this.options.fitRipple,c,h),p=this.calculateColor();s.css({left:e+"px",top:n+"px",background:"black",width:u+"px",height:u+"px",backgroundColor:i(p),borderColor:i(p)}),this.lastRipple=s,this.clearTimeout(),this.timeout=this.$timeout(function(){r.clearTimeout(),r.mousedown||r.fadeInComplete(s)},.35*a,!1),this.options.dimBackground&&this.container.css({backgroundColor:p}),this.container.append(s),this.ripples.push(s),s.addClass("md-ripple-placed"),this.$mdUtil.nextTick(function(){s.addClass("md-ripple-scaled md-ripple-active"),r.$timeout(function(){r.clearRipples()},a,!1)},!1)}},i.prototype.fadeInComplete=function(e){this.lastRipple===e?this.timeout||this.mousedown||this.removeRipple(e):this.removeRipple(e)},i.prototype.removeRipple=function(e){var t=this,n=this.ripples.indexOf(e);0>n||(this.ripples.splice(this.ripples.indexOf(e),1),e.removeClass("md-ripple-active"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){t.fadeOutComplete(e)},a,!1))},i.prototype.fadeOutComplete=function(e){e.remove(),this.lastRipple=null}}(),function(){!function(){function e(e){function n(n,i,o){return e.attach(n,i,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},o))}return{attach:n}}t.module("material.core").factory("$mdTabInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900",contrastStrongLightColors:"600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1e3:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})}(),function(){function e(e){function i(e,t){return t=t||{},h[e]=a(e,t),y}function o(e,n){return a(e,t.extend({},h[e]||{},n))}function a(e,t){var n=T.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function l(e,n){if(u[e])return u[e];n=n||"default";var i="string"==typeof n?u[n]:n,o=new d(e);return i&&t.forEach(i.colors,function(e,n){o.colors[n]={name:e.name,hues:t.extend({},e.hues)}}),u[e]=o,o}function d(e){function n(e){if(e=0===arguments.length?!0:!!e,e!==i.isDark){i.isDark=e,i.foregroundPalette=i.isDark?f:m,i.foregroundShadow=i.isDark?g:v;var n=i.isDark?w:C,o=i.isDark?C:w;return t.forEach(n,function(e,t){var n=i.colors[t],r=o[t];if(n)for(var a in n.hues)n.hues[a]===r[a]&&(n.hues[a]=e[a])}),i}}var i=this;i.name=e,i.colors={},i.dark=n,n(!1),x.forEach(function(e){var n=(i.isDark?w:C)[e];i[e+"Palette"]=function(o,r){var a=i.colors[e]={name:o,hues:t.extend({},n,r)};return Object.keys(a.hues).forEach(function(e){if(!n[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",i.name).replace("%3",o).replace("%4",Object.keys(n).join(", ")))}),Object.keys(a.hues).map(function(e){return a.hues[e]}).forEach(function(t){if(-1==T.indexOf(t))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",i.name).replace("%3",e).replace("%4",o).replace("%5",T.join(", ")))}),i},i[e+"Color"]=function(){var t=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+e+"Color() has been deprecated. Use $mdThemingProviderTheme."+e+"Palette() instead."),i[e+"Palette"].apply(i,t)}})}function p(e,i){function o(e){return e===n||""===e?!0:r.THEMES[e]!==n}function r(t,i){i===n&&(i=t,t=n),t===n&&(t=e),r.inherit(i,i)}return r.inherit=function(n,r){function a(e){if(e){o(e)||i.warn("Attempted to use unregistered theme '"+e+"'. Register it with $mdThemingProvider.theme().");var t=n.data("$mdThemeName");t&&n.removeClass("md-"+t+"-theme"),n.addClass("md-"+e+"-theme"),n.data("$mdThemeName",e),s&&n.data("$mdThemeController",s)}}var s=r.controller("mdTheme"),l=n.attr("md-theme-watch");if((_||t.isDefined(l))&&"false"!=l){var d=e.$watch(function(){return s&&s.$mdTheme||("default"==b?"":b)},a);n.on("$destroy",d)}else{var c=s&&s.$mdTheme||("default"==b?"":b);a(c)}},r.THEMES=t.extend({},u),r.defaultTheme=function(){return b},r.registered=o,r.generateTheme=s,r}h={},u={};var y,b="default",_=!1;return t.extend(h,e),p.$inject=["$rootScope","$log"],y={definePalette:i,extendPalette:o,theme:l,setDefaultTheme:function(e){b=e},alwaysWatchTheme:function(e){_=e},generateThemesOnDemand:function(e){S=e},$get:p,_LIGHT_DEFAULT_HUES:C,_DARK_DEFAULT_HUES:w,_PALETTES:h,_THEMES:u,_parseRules:r,_rgba:c}}function i(e,t,n){return{priority:100,link:{pre:function(i,o,r){var a={$setTheme:function(t){e.registered(t)||n.warn("attempted to use unregistered theme '"+t+"'"),a.$mdTheme=t}};o.data("$mdThemeController",a),a.$setTheme(t(r.mdTheme)(i)),r.$observe("mdTheme",a.$setTheme)}}}}function o(e){return e}function r(e,n,i){l(e,n),i=i.replace(/THEME_NAME/g,e.name);var o=[],r=e.colors[n],a=new RegExp(".md-"+e.name+"-theme","g"),s=new RegExp("('|\")?{{\\s*("+n+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),d=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,u=h[r.name];return i=i.replace(d,function(t,n,i,o,r){return"foreground"===n?"shadow"==i?e.foregroundShadow:e.foregroundPalette[i]||e.foregroundPalette[1]:(0===i.indexOf("hue")&&(i=e.colors[n].hues[i]),c((h[e.colors[n].name][i]||"")[r?"contrast":"value"],o))}),t.forEach(r.hues,function(t,n){var r=i.replace(s,function(e,n,i,o,r){return c(u[t]["color"===o?"value":"contrast"],r)});if("default"!==n&&(r=r.replace(a,".md-"+e.name+"-theme.md-"+n)),"default"==e.name){var l=/((?:(?:(?: |>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)+) )?)((?:(?:\w|\.|-)+)?)\.md-default-theme((?: |>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g;r=r.replace(l,function(e,t,n,i){return e+", "+t+n+i})}o.push(r)}),o}function a(e){function n(e){var n=e.contrastDefaultColor,i=e.contrastLightColors||[],o=e.contrastStrongLightColors||[],r=e.contrastDarkColors||[];"string"==typeof i&&(i=i.split(" ")),"string"==typeof o&&(o=o.split(" ")),"string"==typeof r&&(r=r.split(" ")),delete e.contrastDefaultColor,delete e.contrastLightColors,delete e.contrastStrongLightColors,delete e.contrastDarkColors,t.forEach(e,function(a,s){function l(){return"light"===n?r.indexOf(s)>-1?y:o.indexOf(s)>-1?_:b:i.indexOf(s)>-1?o.indexOf(s)>-1?_:b:y}if(!t.isObject(a)){var c=d(a);if(!c)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",a).replace("%2",e.name).replace("%3",s));e[s]={value:c,contrast:l()}}})}var i=document.head,o=i?i.firstElementChild:null,r=e.has("$MD_THEME_CSS")?e.get("$MD_THEME_CSS"):"";if(o&&0!==r.length){t.forEach(h,n);var a=r.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.length}).map(function(e){return e.trim()+"}"}),l=new RegExp("md-("+x.join("|")+")","g");x.forEach(function(e){M[e]=""}),a.forEach(function(e){for(var t,n=(e.match(l),0);t=x[n];n++)if(e.indexOf(".md-"+t)>-1)return M[t]+=e;for(n=0;t=x[n];n++)if(e.indexOf(t)>-1)return M[t]+=e;return M[E]+=e}),S||t.forEach(u,function(e){p[e.name]||s(e.name)})}}function s(e){var t=u[e],n=document.head,i=n?n.firstElementChild:null;p[e]||(x.forEach(function(e){for(var o=r(t,e,M[e]);o.length;){var a=o.shift();if(a){var s=document.createElement("style");s.setAttribute("md-theme-style",""),s.appendChild(document.createTextNode(a)),n.insertBefore(s,i)}}}),t.colors.primary.name==t.colors.accent.name&&console.warn("$mdThemingProvider: Using the same palette for primary and accent. This violates the material design spec."),p[t.name]=!0)}function l(e,t){if(!h[(e.colors[t]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(h).join(", ")))}function d(e){if(t.isArray(e)&&3==e.length)return e;if(/^rgb/.test(e))return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==e.charAt(0)&&(e=e.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(e)){var n=e.length/3,i=e.substr(0,n),o=e.substr(n,n),r=e.substr(2*n);return 1===n&&(i+=i,o+=o,r+=r),[parseInt(i,16),parseInt(o,16),parseInt(r,16)]}}function c(e,n){return e?(4==e.length&&(e=t.copy(e),n?e.pop():n=e.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+e.join(",")+","+n+")":"rgb("+e.join(",")+")"):"rgb('0,0,0')"}t.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",i).directive("mdThemable",o).provider("$mdTheming",e).run(a);var h,u,p={},m={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"},f={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"},g="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",v="",y=d("rgba(0,0,0,0.87)"),b=d("rgba(255,255,255,0.87)"),_=d("rgb(255,255,255)"),x=["primary","accent","warn","background"],E="primary",C={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"A100","hue-1":"300","hue-2":"800","hue-3":"900"}},w={background:{"default":"800","hue-1":"600","hue-2":"300","hue-3":"900"}};x.forEach(function(e){var t={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};C[e]||(C[e]=t),w[e]||(w[e]=t)});var T=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],S=!1;e.$inject=["$mdColorPalette"],i.$inject=["$mdTheming","$interpolate","$log"],o.$inject=["$mdTheming"];var M={};a.$inject=["$injector"]}(),function(){function e(e,n,i,o,r){var a;return a={translate3d:function(e,t,n,i){function o(n){return r(e,{to:n||t,addClass:i.transitionOutClass,removeClass:i.transitionInClass}).start()}return r(e,{from:t,to:n,addClass:i.transitionInClass}).start().then(function(){return o})},waitTransitionEnd:function(e,t){var r=3e3;return n(function(n,a){function s(t){t&&t.target!==e[0]||(t&&i.cancel(l),e.off(o.CSS.TRANSITIONEND,s),n())}t=t||{};var l=i(s,t.timeout||r);e.on(o.CSS.TRANSITIONEND,s)})},calculateZoomToOrigin:function(n,i){function o(){var e=n?n.parent():null,t=e?e.parent():null;return t?a.clientRect(t):null}var r=i.element,s=i.bounds,l="translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )",d=t.bind(null,e.supplant,l),c=d({centerX:0,centerY:0,scaleX:.5,scaleY:.5});if(r||s){var h=r?a.clientRect(r)||o():a.copyRect(s),u=a.copyRect(n[0].getBoundingClientRect()),p=a.centerPointFor(u),m=a.centerPointFor(h);c=d({centerX:m.x-p.x,centerY:m.y-p.y,scaleX:Math.round(100*Math.min(.5,h.width/u.width))/100,scaleY:Math.round(100*Math.min(.5,h.height/u.height))/100})}return c},toCss:function(e){function n(e,n,o){t.forEach(n.split(" "),function(e){i[e]=o})}var i={},r="left top right bottom width height x y min-width min-height max-width max-height";return t.forEach(e,function(e,a){if(!t.isUndefined(e))if(r.indexOf(a)>=0)i[a]=e+"px";else switch(a){case"transition":n(a,o.CSS.TRANSITION,e);break;case"transform":n(a,o.CSS.TRANSFORM,e);break;case"transformOrigin":n(a,o.CSS.TRANSFORM_ORIGIN,e)}}),i},toTransformCss:function(e,n,i){var r={};return t.forEach(o.CSS.TRANSFORM.split(" "),function(t){r[t]=e}),n&&(i=i||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",r.transition=i),r},copyRect:function(e,n){return e?(n=n||{},t.forEach("left top right bottom width height".split(" "),function(t){n[t]=Math.round(e[t])}),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(e){var n=t.element(e)[0].getBoundingClientRect(),i=function(e){return e&&e.width>0&&e.height>0};return i(n)?a.copyRect(n):null},centerPointFor:function(e){return e?{x:Math.round(e.left+e.width/2),y:Math.round(e.top+e.height/2)}:{x:0,y:0}}}}t.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(t,n,i,o){return function(r){return e(r,t,n,i,o)}}])}(),function(){t.version.minor>=4?t.module("material.core.animate",[]):!function(){function e(e){return e.replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()})}var n=t.forEach,i=t.isDefined(document.documentElement.style.WebkitAppearance),o=i?"-webkit-":"",r=(i?"webkitTransitionEnd ":"")+"transitionend",a=(i?"webkitAnimationEnd ":"")+"animationend",s=["$document",function(e){return function(){return e[0].body.clientWidth+1}}],l=["$$rAF",function(e){return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}],d=["$q","$$rAFMutex",function(e,i){function o(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=i(),this._state=0}var r=0,a=1,s=2;return o.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===s?e():this._doneCallbacks.push(e)},progress:t.noop,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===r&&(t._state=a,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){this._state!==s&&(n(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=s)}},o}];t.module("material.core.animate",[]).factory("$$forceReflow",s).factory("$$AnimateRunner",d).factory("$$rAFMutex",l).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout",function(t,s,l,d,c,h){function u(i,s){var d=[],c=_(i);s.transitionStyle&&d.push([o+"transition",s.transitionStyle]),s.keyframeStyle&&d.push([o+"animation",s.keyframeStyle]),s.delay&&d.push([o+"transition-delay",s.delay+"s"]),s.duration&&d.push([o+"transition-duration",s.duration+"s"]);var u=s.keyframeStyle||s.to&&(s.duration>0||s.transitionStyle),f=!!s.addClass||!!s.removeClass,E=u||f;x(i,!0),y(i,s);var C,w,T=!1;return{close:t.close,start:function(){function t(){return T?void 0:(T=!0,C&&w&&i.off(C,w),p(i,s),v(i,s),n(d,function(t){c.style[e(t[0])]=""}),u.complete(!0),u)}var u=new l;return g(function(){if(x(i,!1),!E)return t();n(d,function(t){var n=t[0],i=t[1];c.style[e(n)]=i}),p(i,s);var l=m(i);if(0===l.duration)return t();var u=[];s.easing&&(l.transitionDuration&&u.push([o+"transition-timing-function",s.easing]),l.animationDuration&&u.push([o+"animation-timing-function",s.easing])),s.delay&&l.animationDelay&&u.push([o+"animation-delay",s.delay+"s"]),s.duration&&l.animationDuration&&u.push([o+"animation-duration",s.duration+"s"]),n(u,function(t){var n=t[0],i=t[1];c.style[e(n)]=i,d.push(t)});var f=l.delay,g=1e3*f,v=l.duration,y=1e3*v,_=Date.now();C=[],l.transitionDuration&&C.push(r),l.animationDuration&&C.push(a),C=C.join(" "),w=function(e){e.stopPropagation();var n=e.originalEvent||e,i=n.timeStamp||Date.now(),o=parseFloat(n.elapsedTime.toFixed(3));Math.max(i-_,0)>=g&&o>=v&&t()},i.on(C,w),b(i,s),h(t,g+1.5*y,!1)}),u}}}function p(e,t){t.addClass&&(c.addClass(e,t.addClass),t.addClass=null),t.removeClass&&(c.removeClass(e,t.removeClass),t.removeClass=null)}function m(e){function n(e){return i?"Webkit"+e.charAt(0).toUpperCase()+e.substr(1):e}var o=_(e),r=t.getComputedStyle(o),a=f(r[n("transitionDuration")]),s=f(r[n("animationDuration")]),l=f(r[n("transitionDelay")]),d=f(r[n("animationDelay")]);s*=parseInt(r[n("animationIterationCount")],10)||1;var c=Math.max(s,a),h=Math.max(d,l);return{duration:c,delay:h,animationDuration:s,transitionDuration:a,animationDelay:d,transitionDelay:l}}function f(e){var t=0,i=(e||"").split(/\s*,\s*/);return n(i,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function g(e){E&&E(),C.push(e),E=s(function(){E=null;for(var e=d(),t=0;t<C.length;t++)C[t](e);C.length=0})}function v(e,t){y(e,t),b(e,t)}function y(e,t){t.from&&(e.css(t.from),t.from=null)}function b(e,t){t.to&&(e.css(t.to),t.to=null)}function _(e){for(var t=0;t<e.length;t++)if(1===e[t].nodeType)return e[t]}function x(t,n){var i=_(t),r=e(o+"transition-delay");i.style[r]=n?"-9999s":""}var E,C=[];return u}])}()}(),function(){t.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$animate","$rootElement","$window","$log","$$rAF","$document",function(e,t,n,i,o,r,a){function s(s,d,c){var h=i.getComputedStyle(a[0].body);if("fixed"==h.position){var u=parseInt(h.height,10)+Math.abs(parseInt(h.top,10));d.css({height:u+"px"})}t.pin&&t.pin(d,n),r(function(){var t=d.parent()[0];if(t){"BODY"==t.nodeName&&d.css({position:"fixed"});var n=i.getComputedStyle(t);"static"==n.position&&o.warn(l)}e.inherit(d,d.parent())})}var l="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:s}}])}(),function(){function e(e){return{restrict:"E",link:function(t,n,i){t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e,n,r,a,s,l,d){function c(i,o,d,c){o=r.extractElementByName(o,"md-bottom-sheet"),p=r.createBackdrop(i,"md-bottom-sheet-backdrop md-opaque"),d.clickOutsideToClose&&p.on("click",function(){r.nextTick(s.cancel,!0)}),a.inherit(p,d.parent),e.enter(p,d.parent,null);var h=new u(o,d.parent);return d.bottomSheet=h,a.inherit(h.element,d.parent),d.disableParentScroll&&(d.restoreScroll=r.disableScrollAround(h.element,d.parent)),e.enter(h.element,d.parent).then(function(){var e=r.findFocusTarget(o)||t.element(o[0].querySelector("button")||o[0].querySelector("a")||o[0].querySelector("[ng-click]"));e.focus(),d.escapeToClose&&(d.rootElementKeyupCallback=function(e){e.keyCode===n.KEY_CODE.ESCAPE&&r.nextTick(s.cancel,!0)},l.on("keyup",d.rootElementKeyupCallback))})}function h(t,n,i){var o=i.bottomSheet;return e.leave(p),e.leave(o.element).then(function(){i.disableParentScroll&&(i.restoreScroll(),delete i.restoreScroll),o.cleanup()})}function u(e,t){function a(t){e.css(n.CSS.TRANSITION_DURATION,"0ms")}function l(t){var i=t.pointer.distanceY;5>i&&(i=Math.max(-o,i/2)),e.css(n.CSS.TRANSFORM,"translate3d(0,"+(o+i)+"px,0)")}function c(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>i)){var o=e.prop("offsetHeight")-t.pointer.distanceY,a=Math.min(o/t.pointer.velocityY*.75,500);e.css(n.CSS.TRANSITION_DURATION,a+"ms"),r.nextTick(s.cancel,!0)}else e.css(n.CSS.TRANSITION_DURATION,""),e.css(n.CSS.TRANSFORM,"")}var h=d.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",a).on("$md.drag",l).on("$md.dragend",c),{element:e,cleanup:function(){h(),t.off("$md.dragstart",a),t.off("$md.drag",l),t.off("$md.dragend",c)}}}var p;return{themable:!0,onShow:c,onRemove:h,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0}}var i=.5,o=80;return n.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"],e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:n})}t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",n),e.$inject=["$mdBottomSheet"],n.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,i,o){function r(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}function a(e,t){if(r(t))return'<a class="md-button" ng-transclude></a>';var n="undefined"==typeof t.type?"button":t.type;return'<button class="md-button" type="'+n+'" ng-transclude></button>'}function s(a,s,l){var d=s[0];n(s),e.attach(a,s);var c=d.textContent.trim();c||i.expect(s,"aria-label"),r(l)&&t.isDefined(l.ngDisabled)&&a.$watch(l.ngDisabled,function(e){s.attr("tabindex",e?-1:0)}),s.on("click",function(e){l.disabled===!0&&(e.preventDefault(),e.stopImmediatePropagation())}),a.mouseActive=!1,s.on("mousedown",function(){a.mouseActive=!0,o(function(){a.mouseActive=!1},100)}).on("focus",function(){a.mouseActive===!1&&s.addClass("md-focused")}).on("blur",function(e){s.removeClass("md-focused")})}return{restrict:"EA",replace:!0,transclude:!0,template:a,link:s}}t.module("material.components.button",["material.core"]).directive("mdButton",e),e.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$timeout"]}(),function(){function e(e){return{restrict:"E",link:function(t,n){e(n)}}}t.module("material.components.card",["material.core"]).directive("mdCard",e),e.$inject=["$mdTheming"]}(),function(){function e(e,n,i,o,r,a){function s(s,d){return d.type="checkbox",d.tabindex=d.tabindex||"0",s.attr("role",d.type),s.on("click",function(e){this.hasAttribute("disabled")&&e.stopImmediatePropagation()}),function(s,d,c,h){function u(e,t,n){c[e]&&s.$watch(c[e],function(e){n[e]&&d.attr(t,n[e])})}function p(e){var t=e.which||e.keyCode;(t===i.KEY_CODE.SPACE||t===i.KEY_CODE.ENTER)&&(e.preventDefault(),d.hasClass("md-focused")||d.addClass("md-focused"),m(e))}function m(e){d[0].hasAttribute("disabled")||s.$apply(function(){var t=c.ngChecked?c.checked:!h.$viewValue;h.$setViewValue(t,e&&e.type),h.$render()})}function f(){h.$viewValue?d.addClass(l):d.removeClass(l)}h=h||r.fakeNgModel(),
o(d),c.ngChecked&&s.$watch(s.$eval.bind(s,c.ngChecked),h.$setViewValue.bind(h)),u("ngDisabled","tabindex",{"true":"-1","false":c.tabindex}),n.expectWithText(d,"aria-label"),e.link.pre(s,{on:t.noop,0:{}},c,[h]),s.mouseActive=!1,d.on("click",m).on("keypress",p).on("mousedown",function(){s.mouseActive=!0,a(function(){s.mouseActive=!1},100)}).on("focus",function(){s.mouseActive===!1&&d.addClass("md-focused")}).on("blur",function(){d.removeClass("md-focused")}),h.$render=f}}e=e[0];var l="md-checked";return{restrict:"E",transclude:!0,require:"?ngModel",priority:210,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:s}}t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e),e.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"]}(),function(){t.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){function e(e){function t(e,t){this.$scope=e,this.$element=t}return{restrict:"E",controller:["$scope","$element",t],link:function(t,i,o){i[0],e(i),t.$broadcast("$mdContentLoaded",i),n(i[0])}}}function n(e){t.element(e).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===e.scrollTop?e.scrollTop=1:e.scrollHeight===e.scrollTop+e.offsetHeight&&(e.scrollTop-=1)))})}t.module("material.components.content",["material.core"]).directive("mdContent",e),e.$inject=["$mdTheming"]}(),function(){!function(){function e(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(o-i)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody role="rowgroup" md-virtual-repeat="i in ctrl.items" md-calendar-month md-month-offset="$index" class="md-calendar-month" md-start-index="ctrl.getSelectedMonthIndex()" md-item-size="'+i+'"></tbody></table></md-virtual-repeat-container></div>',scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter"},require:["ngModel","mdCalendar"],controller:n,controllerAs:"ctrl",bindToController:!0,link:function(e,t,n,i){var o=i[0],r=i[1];r.configureNgModel(o)}}}function n(e,t,n,i,o,r,a,l,d,c,h){if(a(e),this.items={length:2e3},this.maxDate&&this.minDate){var u=l.getMonthDistance(this.minDate,this.maxDate)+1;u=Math.max(u,1),u+=1,this.items.length=u}this.$animate=i,this.$q=o,this.$mdInkRipple=c,this.$mdUtil=h,this.keyCode=r.KEY_CODE,this.dateUtil=l,this.dateLocale=d,this.$element=e,this.$scope=n,this.calendarElement=e[0].querySelector(".md-calendar"),this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.today=this.dateUtil.createDateAtMidnight(),this.firstRenderableDate=this.dateUtil.incrementMonths(this.today,-this.items.length/2),this.minDate&&this.minDate>this.firstRenderableDate?this.firstRenderableDate=this.minDate:this.maxDate&&(this.items.length-2,this.firstRenderableDate=this.dateUtil.incrementMonths(this.maxDate,-(this.items.length-2))),this.id=s++,this.ngModelCtrl=null,this.selectedDate=null,this.displayDate=null,this.focusDate=null,this.isInitialized=!1,this.isMonthTransitionInProgress=!1,t.tabindex||e.attr("tabindex","-1");var p=this;this.cellClickHandler=function(){var e=this;this.hasAttribute("data-timestamp")&&n.$apply(function(){var t=Number(e.getAttribute("data-timestamp"));p.setNgModelValue(p.dateUtil.createDateAtMidnight(t))})},this.attachCalendarEventListeners()}t.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]).directive("mdCalendar",e);var i=265,o=45,r="md-calendar-selected-date",a="md-focus",s=0;n.$inject=["$element","$attrs","$scope","$animate","$q","$mdConstant","$mdTheming","$$mdDateUtil","$mdDateLocale","$mdInkRipple","$mdUtil"],n.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.changeSelectedDate(t.ngModelCtrl.$viewValue)}},n.prototype.buildInitialCalendarDisplay=function(){this.buildWeekHeader(),this.hideVerticalScrollbar(),this.displayDate=this.selectedDate||this.today,this.isInitialized=!0},n.prototype.hideVerticalScrollbar=function(){var e=this.$element[0],t=e.querySelector(".md-calendar-scroll-mask"),n=this.calendarScroller,i=e.querySelector(".md-calendar-day-header").clientWidth,o=n.offsetWidth-n.clientWidth;t.style.width=i+"px",n.style.width=i+o+"px",n.style.paddingRight=o+"px"},n.prototype.attachCalendarEventListeners=function(){this.$element.on("keydown",t.bind(this,this.handleKeyEvent))},n.prototype.handleKeyEvent=function(e){var t=this;this.$scope.$apply(function(){if(e.which==t.keyCode.ESCAPE||e.which==t.keyCode.TAB)return t.$scope.$emit("md-calendar-close"),void(e.which==t.keyCode.TAB&&e.preventDefault());if(e.which===t.keyCode.ENTER)return t.setNgModelValue(t.displayDate),void e.preventDefault();var n=t.getFocusDateFromKeyEvent(e);n&&(n=t.boundDateByMinAndMax(n),e.preventDefault(),e.stopPropagation(),t.changeDisplayDate(n).then(function(){t.focus(n)}))})},n.prototype.getFocusDateFromKeyEvent=function(e){var t=this.dateUtil,n=this.keyCode;switch(e.which){case n.RIGHT_ARROW:return t.incrementDays(this.displayDate,1);case n.LEFT_ARROW:return t.incrementDays(this.displayDate,-1);case n.DOWN_ARROW:return e.metaKey?t.incrementMonths(this.displayDate,1):t.incrementDays(this.displayDate,7);case n.UP_ARROW:return e.metaKey?t.incrementMonths(this.displayDate,-1):t.incrementDays(this.displayDate,-7);case n.PAGE_DOWN:return t.incrementMonths(this.displayDate,1);case n.PAGE_UP:return t.incrementMonths(this.displayDate,-1);case n.HOME:return t.getFirstDateOfMonth(this.displayDate);case n.END:return t.getLastDateOfMonth(this.displayDate);default:return null}},n.prototype.getSelectedMonthIndex=function(){return this.dateUtil.getMonthDistance(this.firstRenderableDate,this.selectedDate||this.today)},n.prototype.scrollToMonth=function(e){if(this.dateUtil.isValidDate(e)){var t=this.dateUtil.getMonthDistance(this.firstRenderableDate,e);this.calendarScroller.scrollTop=t*i}},n.prototype.setNgModelValue=function(e){this.$scope.$emit("md-calendar-change",e),this.ngModelCtrl.$setViewValue(e),this.ngModelCtrl.$render()},n.prototype.focus=function(e){var t=e||this.selectedDate||this.today,n=this.calendarElement.querySelector(".md-focus");n&&n.classList.remove(a);var i=this.getDateId(t),o=document.getElementById(i);o?(o.classList.add(a),o.focus()):this.focusDate=t},n.prototype.boundDateByMinAndMax=function(e){var t=e;return this.minDate&&e<this.minDate&&(t=new Date(this.minDate.getTime())),this.maxDate&&e>this.maxDate&&(t=new Date(this.maxDate.getTime())),t},n.prototype.changeSelectedDate=function(e){var t=this,n=this.selectedDate;this.selectedDate=e,this.changeDisplayDate(e).then(function(){if(n){var i=document.getElementById(t.getDateId(n));i&&(i.classList.remove(r),i.setAttribute("aria-selected","false"))}if(e){var o=document.getElementById(t.getDateId(e));o&&(o.classList.add(r),o.setAttribute("aria-selected","true"))}})},n.prototype.changeDisplayDate=function(e){if(!this.isInitialized)return this.buildInitialCalendarDisplay(),this.$q.when();if(!this.dateUtil.isValidDate(e)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var t=this.animateDateChange(e);this.displayDate=e;var n=this;return t.then(function(){n.isMonthTransitionInProgress=!1}),t},n.prototype.animateDateChange=function(e){return this.scrollToMonth(e),this.$q.when()},n.prototype.buildWeekHeader=function(){for(var e=this.dateLocale.firstDayOfWeek,t=this.dateLocale.shortDays,n=document.createElement("tr"),i=0;7>i;i++){var o=document.createElement("th");o.textContent=t[(i+e)%7],n.appendChild(o)}this.$element.find("thead").append(n)},n.prototype.getDateId=function(e){return["md",this.id,e.getFullYear(),e.getMonth(),e.getDate()].join("-")}}()}(),function(){!function(){function e(){return{require:["^^mdCalendar","mdCalendarMonth"],scope:{offset:"=mdMonthOffset"},controller:n,controllerAs:"mdMonthCtrl",bindToController:!0,link:function(e,t,n,i){var o=i[0],r=i[1];r.calendarCtrl=o,r.generateContent(),e.$watch(function(){return r.offset},function(e,t){e!=t&&r.generateContent()})}}}function n(e,t,n){this.dateUtil=t,this.dateLocale=n,this.$element=e,this.calendarCtrl=null,this.offset,this.focusAfterAppend=null}t.module("material.components.datepicker").directive("mdCalendarMonth",e);var i="md-calendar-date-today",o="md-calendar-selected-date",r="md-focus";n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],n.prototype.generateContent=function(){var e=this.calendarCtrl,t=this.dateUtil.incrementMonths(e.firstRenderableDate,this.offset);this.$element.empty(),this.$element.append(this.buildCalendarForMonth(t)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(r),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},n.prototype.buildDateCell=function(e){var t=this.calendarCtrl,n=document.createElement("td");if(n.tabIndex=-1,n.classList.add("md-calendar-date"),n.setAttribute("role","gridcell"),e){n.setAttribute("tabindex","-1"),n.setAttribute("aria-label",this.dateLocale.longDateFormatter(e)),n.id=t.getDateId(e),n.setAttribute("data-timestamp",e.getTime()),this.dateUtil.isSameDay(e,t.today)&&n.classList.add(i),this.dateUtil.isValidDate(t.selectedDate)&&this.dateUtil.isSameDay(e,t.selectedDate)&&(n.classList.add(o),n.setAttribute("aria-selected","true"));var r=this.dateLocale.dates[e.getDate()];if(this.isDateEnabled(e)){var a=document.createElement("span");n.appendChild(a),a.classList.add("md-calendar-date-selection-indicator"),a.textContent=r,n.addEventListener("click",t.cellClickHandler),t.focusDate&&this.dateUtil.isSameDay(e,t.focusDate)&&(this.focusAfterAppend=n)}else n.classList.add("md-calendar-date-disabled"),n.textContent=r}return n},n.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!t.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(e))},n.prototype.buildDateRow=function(e){var t=document.createElement("tr");return t.setAttribute("role","row"),t.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(e)),t},n.prototype.buildCalendarForMonth=function(e){var t=this.dateUtil.isValidDate(e)?e:new Date,n=this.dateUtil.getFirstDateOfMonth(t),i=this.getLocaleDay_(n),o=this.dateUtil.getNumberOfDaysInMonth(t),r=document.createDocumentFragment(),a=1,s=this.buildDateRow(a);r.appendChild(s);var l=this.offset===this.calendarCtrl.items.length-1,d=0,c=document.createElement("td");if(c.classList.add("md-calendar-month-label"),this.calendarCtrl.maxDate&&n>this.calendarCtrl.maxDate&&c.classList.add("md-calendar-month-label-disabled"),c.textContent=this.dateLocale.monthHeaderFormatter(t),2>=i){c.setAttribute("colspan","7");var h=this.buildDateRow();if(h.appendChild(c),r.insertBefore(h,s),l)return r}else d=2,c.setAttribute("colspan","2"),s.appendChild(c);for(var u=d;i>u;u++)s.appendChild(this.buildDateCell());for(var p=i,m=n,f=1;o>=f;f++){if(7===p){if(l)return r;p=0,a++,s=this.buildDateRow(a),r.appendChild(s)}m.setDate(f);var g=this.buildDateCell(m);s.appendChild(g),p++}for(;s.childNodes.length<7;)s.appendChild(this.buildDateCell());for(;r.childNodes.length<6;){for(var v=this.buildDateRow(),u=0;7>u;u++)v.appendChild(this.buildDateCell());r.appendChild(v)}return r},n.prototype.getLocaleDay_=function(e){return(e.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}()}(),function(){!function(){t.module("material.components.datepicker").config(["$provide",function(e){function t(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.msgCalendar="",this.msgOpenCalendar=""}t.prototype.$get=function(e){function t(e){if(!e)return"";var t=e.toLocaleTimeString(),n=e;return 0!=e.getHours()||-1===t.indexOf("11:")&&-1===t.indexOf("23:")||(n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),1,0,0)),n.toLocaleDateString()}function n(e){return new Date(e)}function i(e){e=e.trim();var t=/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;return t.test(e)}function o(e){return u.shortMonths[e.getMonth()]+" "+e.getFullYear()}function r(e){return"Week "+e}function a(e){return[u.days[e.getDay()],u.months[e.getMonth()],u.dates[e.getDate()],e.getFullYear()].join(" ")}for(var s=e.DATETIME_FORMATS.DAY.map(function(e){return e[0]}),l=Array(32),d=1;31>=d;d++)l[d]=d;var c="Calendar",h="Open calendar",u={months:this.months||e.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||e.DATETIME_FORMATS.SHORTMONTH,days:this.days||e.DATETIME_FORMATS.DAY,shortDays:this.shortDays||s,dates:this.dates||l,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||t,parseDate:this.parseDate||n,isDateComplete:this.isDateComplete||i,monthHeaderFormatter:this.monthHeaderFormatter||o,weekNumberFormatter:this.weekNumberFormatter||r,longDateFormatter:this.longDateFormatter||a,msgCalendar:this.msgCalendar||c,msgOpenCalendar:this.msgOpenCalendar||h};return u},t.prototype.$get.$inject=["$locale"],e.provider("$mdDateLocale",new t)}])}()}(),function(){!function(){function n(){return{template:'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" md-svg-icon="md-calendar"></md-icon></md-button><div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input class="md-datepicker-input" aria-haspopup="true" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"><md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.dateLocale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button></div><div class="md-datepicker-calendar-pane md-whiteframe-z1"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.dateLocale.msgCalendar}}" md-min-date="ctrl.minDate" md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>',require:["ngModel","mdDatepicker","?^mdInputContainer"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",dateFilter:"=mdDateFilter"},controller:i,controllerAs:"ctrl",bindToController:!0,link:function(e,t,n,i){var o=i[0],r=i[1],a=i[2];if(a)throw Error("md-datepicker should not be placed inside md-input-container.");r.configureNgModel(o)}}}function i(e,n,i,o,r,a,s,l,d,c,h,u){this.$compile=o,this.$timeout=r,this.$window=a,this.dateLocale=c,this.dateUtil=h,this.$mdConstant=s,this.$mdUtil=d,this.$$rAF=u,this.documentElement=t.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=n[0].querySelector("input"),this.ngInputElement=t.element(this.inputElement),this.inputContainer=n[0].querySelector(".md-datepicker-input-container"),this.calendarPane=n[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=n[0].querySelector(".md-datepicker-button"),this.inputMask=n[0].querySelector(".md-datepicker-input-mask-opaque"),this.$element=n,this.$attrs=i,this.$scope=e,this.date=null,this.isFocused=!1,this.isDisabled,this.setDisabled(n[0].disabled||t.isString(i.disabled)),this.isCalendarOpen=!1,this.calendarPaneOpenedFrom=null,this.calendarPane.id="md-date-pane"+d.nextUid(),l(n),this.bodyClickHandler=t.bind(this,this.handleBodyClick),this.windowResizeHandler=d.debounce(t.bind(this,this.closeCalendarPane),100),i.tabindex||n.attr("tabindex","-1"),this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners();var p=this;e.$on("$destroy",function(){p.detachCalendarPane()})}t.module("material.components.datepicker").directive("mdDatepicker",n);var o=3,r="md-datepicker-invalid",a=500,s=368,l=360;i.$inject=["$scope","$element","$attrs","$compile","$timeout","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF"],i.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){var e=t.ngModelCtrl.$viewValue;if(e&&!(e instanceof Date))throw Error("The ng-model for md-datepicker must be a Date instance. Currently the model is a: "+typeof e);t.date=e,t.inputElement.value=t.dateLocale.formatDate(e),t.resizeInputElement(),t.updateErrorState()}},i.prototype.attachChangeListeners=function(){var e=this;e.$scope.$on("md-calendar-change",function(t,n){e.ngModelCtrl.$setViewValue(n),e.date=n,e.inputElement.value=e.dateLocale.formatDate(n),e.closeCalendarPane(),e.resizeInputElement(),e.updateErrorState()}),e.ngInputElement.on("input",t.bind(e,e.resizeInputElement)),e.ngInputElement.on("input",e.$mdUtil.debounce(e.handleInputEvent,a,e))},i.prototype.attachInteractionListeners=function(){var e=this,t=this.$scope,n=this.$mdConstant.KEY_CODE;e.ngInputElement.on("keydown",function(i){i.altKey&&i.keyCode==n.DOWN_ARROW&&(e.openCalendarPane(i),t.$digest())}),t.$on("md-calendar-close",function(){e.closeCalendarPane()})},i.prototype.installPropertyInterceptors=function(){var e=this;if(this.$attrs.ngDisabled){var t=this.$mdUtil.validateScope(this.$element)?this.$element.scope():null;t&&t.$watch(this.$attrs.ngDisabled,function(t){e.setDisabled(t)})}Object.defineProperty(this,"placeholder",{get:function(){return e.inputElement.placeholder},set:function(t){e.inputElement.placeholder=t||""}})},i.prototype.setDisabled=function(e){this.isDisabled=e,this.inputElement.disabled=e,this.calendarButton.disabled=e},i.prototype.updateErrorState=function(e){var n=e||this.date;this.clearErrorState(),this.dateUtil.isValidDate(n)?(this.dateUtil.isValidDate(this.minDate)&&this.ngModelCtrl.$setValidity("mindate",n>=this.minDate),this.dateUtil.isValidDate(this.maxDate)&&this.ngModelCtrl.$setValidity("maxdate",n<=this.maxDate),t.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(n))):this.ngModelCtrl.$setValidity("valid",null==n),this.ngModelCtrl.$valid||this.inputContainer.classList.add(r)},i.prototype.clearErrorState=function(){this.inputContainer.classList.remove(r),["mindate","maxdate","filtered","valid"].forEach(function(e){this.ngModelCtrl.$setValidity(e,!0)},this)},i.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+o},i.prototype.handleInputEvent=function(){var e=this.inputElement.value,t=e?this.dateLocale.parseDate(e):null;this.dateUtil.setDateTimeToMidnight(t);var n=""==e||this.dateUtil.isValidDate(t)&&this.dateLocale.isDateComplete(e)&&this.isDateEnabled(t);n&&(this.ngModelCtrl.$setViewValue(t),this.date=t),this.updateErrorState(t)},i.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.minDate,this.maxDate)&&(!t.isFunction(this.dateFilter)||this.dateFilter(e))},i.prototype.attachCalendarPane=function(){var e=this.calendarPane;e.style.transform="",this.$element.addClass("md-datepicker-open");var t=this.inputContainer.getBoundingClientRect(),n=document.body.getBoundingClientRect(),i=t.top-n.top,o=t.left-n.left,r=n.top<0&&0==document.body.scrollTop?-n.top:document.body.scrollTop,a=n.left<0&&0==document.body.scrollLeft?-n.left:document.body.scrollLeft,d=r+this.$window.innerHeight,c=a+this.$window.innerWidth;if(o+l>c){if(c-l>0)o=c-l;else{o=a;var h=this.$window.innerWidth/l;e.style.transform="scale("+h+")"}e.classList.add("md-datepicker-pos-adjusted")}i+s>d&&d-s>r&&(i=d-s,e.classList.add("md-datepicker-pos-adjusted")),e.style.left=o+"px",e.style.top=i+"px",document.body.appendChild(e),this.inputMask.style.left=t.width+"px",this.$$rAF(function(){e.classList.add("md-pane-open")})},i.prototype.detachCalendarPane=function(){this.$element.removeClass("md-datepicker-open"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},i.prototype.openCalendarPane=function(t){if(!this.isCalendarOpen&&!this.isDisabled){this.isCalendarOpen=!0,this.calendarPaneOpenedFrom=t.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar();var n=this;this.$mdUtil.nextTick(function(){n.documentElement.on("click touchstart",n.bodyClickHandler)},!1),e.addEventListener("resize",this.windowResizeHandler)}},i.prototype.closeCalendarPane=function(){this.isCalendarOpen&&(this.isCalendarOpen=!1,this.detachCalendarPane(),this.calendarPaneOpenedFrom.focus(),this.calendarPaneOpenedFrom=null,this.$mdUtil.enableScrolling(),this.documentElement.off("click touchstart",this.bodyClickHandler),e.removeEventListener("resize",this.windowResizeHandler))},i.prototype.getCalendarCtrl=function(){return t.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},i.prototype.focusCalendar=function(){var e=this;this.$mdUtil.nextTick(function(){e.getCalendarCtrl().focus()},!1)},i.prototype.setFocused=function(e){this.isFocused=e},i.prototype.handleBodyClick=function(e){if(this.isCalendarOpen){var t=this.$mdUtil.getClosest(e.target,"md-calendar");t||this.closeCalendarPane(),this.$scope.$digest()}}}()}(),function(){!function(){t.module("material.components.datepicker").factory("$$mdDateUtil",function(){function e(e){return new Date(e.getFullYear(),e.getMonth(),1)}function n(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function i(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function o(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function r(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function a(e,t){return e.getDate()==t.getDate()&&r(e,t)}function s(e,t){var n=i(e);return r(n,t)}function l(e,t){var n=o(e);return r(t,n)}function d(e,t){return v((e.getTime()+t.getTime())/2)}function c(t){var n=e(t);return Math.floor((n.getDay()+t.getDate()-1)/7)}function h(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function u(e,t){var i=new Date(e.getFullYear(),e.getMonth()+t,1),o=n(i);return o<e.getDate()?i.setDate(o):i.setDate(e.getDate()),i}function p(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())}function m(e){return new Date(e.getFullYear(),e.getMonth(),n(e))}function f(e){return null!=e&&e.getTime&&!isNaN(e.getTime())}function g(e){f(e)&&e.setHours(0,0,0,0)}function v(e){var n;return n=t.isUndefined(e)?new Date:new Date(e),g(n),n}function y(e,n,i){return(!t.isDate(n)||e>=n)&&(!t.isDate(i)||i>=e)}return{getFirstDateOfMonth:e,getNumberOfDaysInMonth:n,getDateInNextMonth:i,getDateInPreviousMonth:o,isInNextMonth:s,isInPreviousMonth:l,getDateMidpoint:d,isSameMonthAndYear:r,getWeekOfMonth:c,incrementDays:h,incrementMonths:u,getLastDateOfMonth:m,isSameDay:a,getMonthDistance:p,isValidDate:f,setDateTimeToMidnight:g,createDateAtMidnight:v,isDateWithinRange:y}})}()}(),function(){function e(e,n,i){return{restrict:"E",link:function(o,r,a){n(r),e(function(){function e(){r.toggleClass("md-content-overflow",a.scrollHeight>a.clientHeight)}var n,a=r[0].querySelector("md-dialog-content");a&&(n=a.getElementsByTagName("img"),e(),t.element(n).on("load",e)),o.$on("$destroy",function(){i.destroy(r)})})}}}function i(e){function i(e,t){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type == \'confirm\'"               ng-click="dialog.abort()" class="md-primary">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary" md-autofocus="dialog.$type!=\'confirm\'">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:function(){this.hide=function(){e.hide(!0)},this.abort=function(){e.cancel()}},controllerAs:"dialog",bindToController:!0,theme:t.defaultTheme()}}function o(e,i,o,s,l,d,c,h,u,p){function m(e,t,n,i){if(i){if(i.mdHtmlContent=i.htmlContent||n.htmlContent||"",i.mdTextContent=i.textContent||n.textContent||i.content||n.content||"",i.mdHtmlContent&&!p.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(i.mdHtmlContent&&i.mdTextContent)throw Error("md-dialog cannot have both `htmlContent` and `textContent`")}}function f(e,n,i,r){function a(){var e=n[0].querySelectorAll(".md-actions");e.length>0&&u.warn("Using a class of md-actions is deprected, please use <md-dialog-actions>.")}function s(){function e(){var e=n[0].querySelector(".dialog-close");if(!e){var i=n[0].querySelectorAll(".md-actions button, md-dialog-actions button");e=i[i.length-1]}return t.element(e)}if(i.focusOnOpen){var r=o.findFocusTarget(n)||e();r.focus()}}return t.element(d[0].body).addClass("md-dialog-is-showing"),v(i),_(n.find("md-dialog"),i),b(e,n,i),C(n,i).then(function(){y(n,i),x(n,i),a(),s()})}function g(e,n,i){function o(){return w(n,i)}function s(){t.element(d[0].body).removeClass("md-dialog-is-showing"),n.remove(),i.$destroy||i.origin.focus()}return i.deactivateListeners(),i.unlockScreenReader(),i.hideBackdrop(i.$destroy),r&&r.parentNode&&r.parentNode.removeChild(r),a&&a.parentNode&&a.parentNode.removeChild(a),i.$destroy?s():o().then(s)}function v(e){function i(e,i){var o=t.element(e||{});if(o&&o.length){var r={top:0,left:0,height:0,width:0},a=t.isFunction(o[0].getBoundingClientRect);return t.extend(i||{},{element:a?o:n,bounds:a?o[0].getBoundingClientRect():t.extend({},r,o[0]),focus:t.bind(o,o.focus)})}}function o(e,n){if(t.isString(e)){var i=e,o=d[0].querySelectorAll(i);e=o.length?o[0]:null}return t.element(e||n)}e.origin=t.extend({element:null,bounds:null,focus:t.noop},e.origin||{}),e.parent=o(e.parent,h),e.closeTo=i(o(e.closeTo)),e.openFrom=i(o(e.openFrom)),e.targetEvent&&(e.origin=i(e.targetEvent.target,e.origin))}function y(n,i){var r=t.element(c),a=o.debounce(function(){E(n,i)},60),l=[],d=function(){var t="alert"==i.$type?e.hide:e.cancel;o.nextTick(t,!0)};if(i.escapeToClose){var h=i.parent,u=function(e){e.keyCode===s.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),d())};n.on("keydown",u),h.on("keydown",u),r.on("resize",a),l.push(function(){n.off("keydown",u),h.off("keydown",u),r.off("resize",a)})}if(i.clickOutsideToClose){var p,h=n,m=function(e){p=e.target},f=function(e){p===h[0]&&e.target===h[0]&&(e.stopPropagation(),e.preventDefault(),d())};h.on("mousedown",m),h.on("mouseup",f),l.push(function(){h.off("mousedown",m),h.off("mouseup",f)})}i.deactivateListeners=function(){l.forEach(function(e){e()}),i.deactivateListeners=null}}function b(e,t,n){n.disableParentScroll&&(n.restoreScroll=o.disableScrollAround(t,n.parent)),n.hasBackdrop&&(n.backdrop=o.createBackdrop(e,"md-dialog-backdrop md-opaque"),l.enter(n.backdrop,n.parent)),n.hideBackdrop=function(e){n.backdrop&&(e?n.backdrop.remove():l.leave(n.backdrop)),n.disableParentScroll&&(n.restoreScroll(),delete n.restoreScroll),n.hideBackdrop=null}}function _(e,n){var s="alert"===n.$type?"alertdialog":"dialog",l=e.find("md-dialog-content"),d=e.attr("id")||"dialog_"+o.nextUid();e.attr({role:s,tabIndex:"-1"}),0===l.length&&(l=e),l.attr("id",d),e.attr("aria-describedby",d),n.ariaLabel?i.expect(e,"aria-label",n.ariaLabel):i.expectAsync(e,"aria-label",function(){var e=l.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")}),r=document.createElement("div"),r.classList.add("md-dialog-focus-trap"),r.tabIndex=0,a=r.cloneNode(!1);var c=t.bind(e,e.focus);r.addEventListener("focus",c),a.addEventListener("focus",c),e[0].parentNode.insertBefore(r,e[0]),e.append(a)}function x(e,t){function n(e){for(;e.parentNode;){if(e===document.body)return;for(var t=e.parentNode.children,o=0;o<t.length;o++)e===t[o]||T(t[o],["SCRIPT","STYLE"])||t[o].setAttribute("aria-hidden",i);n(e=e.parentNode)}}var i=!0;n(e[0]),t.unlockScreenReader=function(){i=!1,n(e[0]),t.unlockScreenReader=null}}function E(e,t){var n="fixed"==c.getComputedStyle(d[0].body).position,i=t.backdrop?c.getComputedStyle(t.backdrop[0]):null,r=i?Math.min(d[0].body.clientHeight,Math.ceil(Math.abs(parseInt(i.height,10)))):0;return e.css({top:(n?o.scrollTop(t.parent):0)+"px",height:r?r+"px":"100%"}),e}function C(e,t){t.parent.append(e),E(e,t);var n=e.find("md-dialog"),i=o.dom.animator,r=i.calculateZoomToOrigin,a={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},s=i.toTransformCss(r(n,t.openFrom||t.origin)),l=i.toTransformCss("");return t.fullscreen&&n.addClass("md-dialog-fullscreen"),i.translate3d(n,s,l,a).then(function(e){return t.reverseAnimate=function(){return delete t.reverseAnimate,t.closeTo?(a={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},s=l,l=i.toTransformCss(r(n,t.closeTo)),i.translate3d(n,s,l,a)):e(i.toTransformCss(r(n,t.origin)))},!0})}function w(e,t){return t.reverseAnimate()}function T(e,t){return-1!==t.indexOf(e.nodeName)?!0:void 0}return{hasBackdrop:!0,isolateScope:!0,onShow:f,onShowing:m,onRemove:g,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(e,t){function n(e){return t.autoWrap&&!/<\/md-dialog>/g.test(e)?"<md-dialog>"+(e||"")+"</md-dialog>":e||""}return'<div class="md-dialog-container">'+n(e)+"</div>"}}}var r,a;return i.$inject=["$mdDialog","$mdTheming"],o.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector"],e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen"],options:o}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:i}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:i})}t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",i),e.$inject=["$$rAF","$mdTheming","$mdDialog"],i.$inject=["$$interimElementProvider"]}(),function(){function e(e){return{restrict:"E",link:e}}t.module("material.components.divider",["material.core"]).directive("mdDivider",e),e.$inject=["$mdTheming"]}(),function(){!function(){function e(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(e,n){var i=e.children(),o=!1;t.forEach(["","data-","x-"],function(e){o=o||(i.attr(e+"ng-repeat")?!0:!1)}),o?i.addClass("md-fab-action-item"):i.wrap('<div class="md-fab-action-item">')}}}t.module("material.components.fabActions",["material.core"]).directive("mdFabActions",e)}()}(),function(){!function(){function e(e,n,i,o,r,a){function s(){A.direction=A.direction||"down",A.isOpen=A.isOpen||!1,c(),n.addClass("md-animations-waiting")}function l(){var i=["click","focusin","focusout"];t.forEach(i,function(e){n.on(e,d)}),e.$on("$destroy",function(){t.forEach(i,function(e){n.off(e,d)}),m()})}function d(e){"click"==e.type&&M(e),"focusout"!=e.type||N||(N=a(function(){A.close()},100,!1)),"focusin"==e.type&&N&&(a.cancel(N),N=null)}function c(){A.currentActionIndex=-1}function h(){e.$watch("vm.direction",function(e,t){i.removeClass(n,"md-"+t),
i.addClass(n,"md-"+e),c()});var t,o;e.$watch("vm.isOpen",function(e){c(),t&&o||(t=$(),o=k()),e?p():m();var r=e?"md-is-open":"",a=e?"":"md-is-open";t.attr("aria-haspopup",!0),t.attr("aria-expanded",e),o.attr("aria-hidden",!e),i.setClass(n,r,a)})}function u(){n[0].scrollHeight>0?i.addClass(n,"md-animations-ready").then(function(){n.removeClass("md-animations-waiting")}):10>L&&(a(u,100),L+=1)}function p(){n.on("keydown",g),o.nextTick(function(){t.element(document).on("click touchend",f)})}function m(){n.off("keydown",g),t.element(document).off("click touchend",f)}function f(e){if(e.target){var t=o.getClosest(e.target,"md-fab-trigger"),n=o.getClosest(e.target,"md-fab-actions");t||n||A.close()}}function g(e){switch(e.which){case r.KEY_CODE.ESCAPE:return A.close(),e.preventDefault(),!1;case r.KEY_CODE.LEFT_ARROW:return x(e),!1;case r.KEY_CODE.UP_ARROW:return E(e),!1;case r.KEY_CODE.RIGHT_ARROW:return C(e),!1;case r.KEY_CODE.DOWN_ARROW:return w(e),!1}}function v(e){b(e,-1)}function y(e){b(e,1)}function b(e,n){var i=_();A.currentActionIndex=A.currentActionIndex+n,A.currentActionIndex=Math.min(i.length-1,A.currentActionIndex),A.currentActionIndex=Math.max(0,A.currentActionIndex);var o=t.element(i[A.currentActionIndex]).children()[0];t.element(o).attr("tabindex",0),o.focus(),e.preventDefault(),e.stopImmediatePropagation()}function _(){var e=k()[0].querySelectorAll(".md-fab-action-item");return t.forEach(e,function(e){t.element(t.element(e).children()[0]).attr("tabindex",-1)}),e}function x(e){"left"===A.direction?y(e):v(e)}function E(e){"down"===A.direction?v(e):y(e)}function C(e){"left"===A.direction?v(e):y(e)}function w(e){"up"===A.direction?v(e):y(e)}function T(e){return o.getClosest(e,"md-fab-trigger")}function S(e){return o.getClosest(e,"md-fab-actions")}function M(e){T(e.target)&&A.toggle(),S(e.target)&&A.close()}function $(){return n.find("md-fab-trigger")}function k(){return n.find("md-fab-actions")}var A=this;A.open=function(){e.$evalAsync("vm.isOpen = true")},A.close=function(){e.$evalAsync("vm.isOpen = false"),n.find("md-fab-trigger")[0].focus()},A.toggle=function(){e.$evalAsync("vm.isOpen = !vm.isOpen")},s(),l(),h();var L=0;u();var N}t.module("material.components.fabShared",["material.core"]).controller("FabController",e),e.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"]}()}(),function(){!function(){function n(){function e(e,t){t.prepend('<div class="md-css-variables"></div>')}return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"FabController",controllerAs:"vm",link:e}}function i(n){function i(e){n(e,r,!1)}function o(n){if(!n.hasClass("md-animations-waiting")||n.hasClass("md-animations-ready")){var i=n[0],o=n.controller("mdFabSpeedDial"),r=i.querySelectorAll(".md-fab-action-item"),a=i.querySelector("md-fab-trigger"),s=i.querySelector(".md-css-variables"),l=parseInt(e.getComputedStyle(s).zIndex);t.forEach(r,function(e,t){var n=e.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=r.length-t+l}),a.style.zIndex=l+r.length+1,o.isOpen||t.forEach(r,function(e,t){var n,i,r=e.style,s=(a.clientHeight-e.clientHeight)/2,l=(a.clientWidth-e.clientWidth)/2;switch(o.direction){case"up":n=e.scrollHeight*(t+1)+s,i="Y";break;case"down":n=-(e.scrollHeight*(t+1)+s),i="Y";break;case"left":n=e.scrollWidth*(t+1)+l,i="X";break;case"right":n=-(e.scrollWidth*(t+1)+l),i="X"}var d="translate"+i+"("+n+"px)";r.transform=r.webkitTransform=d})}}return{addClass:function(e,t,n){e.hasClass("md-fling")?(o(e),i(n)):n()},removeClass:function(e,t,n){o(e),i(n)}}}function o(n){function i(e){n(e,r,!1)}function o(n){var i=n[0],o=n.controller("mdFabSpeedDial"),r=i.querySelectorAll(".md-fab-action-item"),s=i.querySelector(".md-css-variables"),l=parseInt(e.getComputedStyle(s).zIndex);t.forEach(r,function(e,t){var n=e.style,i=t*a;n.opacity=o.isOpen?1:0,n.transform=n.webkitTransform=o.isOpen?"scale(1)":"scale(0.1)",n.transitionDelay=(o.isOpen?i:r.length-i)+"ms",n.zIndex=r.length-t+l})}var a=65;return{addClass:function(e,t,n){o(e),i(n)},removeClass:function(e,t,n){o(e),i(n)}}}var r=300;t.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabSpeedDial",n).animation(".md-fling",i).animation(".md-scale",o).service("mdFabSpeedDialFlingAnimation",i).service("mdFabSpeedDialScaleAnimation",o),i.$inject=["$timeout"],o.$inject=["$timeout"]}()}(),function(){!function(){function n(){function e(e,t,n){t.addClass("md-fab-toolbar"),t.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"FabController",controllerAs:"vm",link:e}}function i(){function n(n,i,o){if(i){var r=n[0],a=n.controller("mdFabToolbar"),s=r.querySelector(".md-fab-toolbar-background"),l=r.querySelector("md-fab-trigger button"),d=r.querySelector("md-toolbar"),c=r.querySelector("md-fab-trigger button md-icon"),h=n.find("md-fab-actions").children();if(l&&s){var u=e.getComputedStyle(l).getPropertyValue("background-color"),p=r.offsetWidth,m=(r.offsetHeight,2*(p/l.offsetWidth));s.style.backgroundColor=u,s.style.borderRadius=p+"px",a.isOpen?(d.style.pointerEvents="initial",s.style.width=l.offsetWidth+"px",s.style.height=l.offsetHeight+"px",s.style.transform="scale("+m+")",s.style.transitionDelay="0ms",c&&(c.style.transitionDelay=".3s"),t.forEach(h,function(e,t){e.style.transitionDelay=25*(h.length-t)+"ms"})):(d.style.pointerEvents="none",s.style.transform="scale(1)",s.style.top="0",n.hasClass("md-right")&&(s.style.left="0",s.style.right=null),n.hasClass("md-left")&&(s.style.right="0",s.style.left=null),s.style.transitionDelay="200ms",c&&(c.style.transitionDelay="0ms"),t.forEach(h,function(e,t){e.style.transitionDelay=200+25*t+"ms"}))}}}return{addClass:function(e,t,i){n(e,t,i),i()},removeClass:function(e,t,i){n(e,t,i),i()}}}t.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabToolbar",n).animation(".md-fab-toolbar",i).service("mdFabToolbarAnimation",i)}()}(),function(){!function(){function e(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"]}}t.module("material.components.fabTrigger",["material.core"]).directive("mdFabTrigger",e)}()}(),function(){function e(e,i,o,r){function a(n,a,s,l){function d(){for(var e in i.MEDIA)r(e),r.getQuery(i.MEDIA[e]).addListener(C);return r.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],s,h)}function c(){l.layoutDelegate=t.noop,w();for(var e in i.MEDIA)r.getQuery(i.MEDIA[e]).removeListener(C)}function h(e){null==e?l.invalidateLayout():r(e)&&l.invalidateLayout()}function u(e){var i=g(),r={tileSpans:v(i),colCount:y(),rowMode:x(),rowHeight:_(),gutter:b()};if(e||!t.equals(r,T)){var s=o(r.colCount,r.tileSpans,i).map(function(e,n){return{grid:{element:a,style:f(r.colCount,n,r.gutter,r.rowMode,r.rowHeight)},tiles:e.map(function(e,o){return{element:t.element(i[o]),style:m(e.position,e.spans,r.colCount,n,r.gutter,r.rowMode,r.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:s}}),T=r}}function p(e){return S+e+M}function m(e,t,n,i,o,r,a){var s=1/n*100,l=(n-1)/n,d=$({share:s,gutterShare:l,gutter:o}),c={left:k({unit:d,offset:e.col,gutter:o}),width:A({unit:d,span:t.col,gutter:o}),paddingTop:"",marginTop:"",top:"",height:""};switch(r){case"fixed":c.top=k({unit:a,offset:e.row,gutter:o}),c.height=A({unit:a,span:t.row,gutter:o});break;case"ratio":var h=s/a,u=$({share:h,gutterShare:l,gutter:o});c.paddingTop=A({unit:u,span:t.row,gutter:o}),c.marginTop=k({unit:u,offset:e.row,gutter:o});break;case"fit":var p=(i-1)/i,h=1/i*100,u=$({share:h,gutterShare:p,gutter:o});c.top=k({unit:u,offset:e.row,gutter:o}),c.height=A({unit:u,span:t.row,gutter:o})}return c}function f(e,t,n,i,o){var r={};switch(i){case"fixed":r.height=A({unit:o,span:t,gutter:n}),r.paddingBottom="";break;case"ratio":var a=1===e?0:(e-1)/e,s=1/e*100,l=s*(1/o),d=$({share:l,gutterShare:a,gutter:n});r.height="",r.paddingBottom=A({unit:d,span:t,gutter:n});break;case"fit":}return r}function g(){return[].filter.call(a.children(),function(e){return"MD-GRID-TILE"==e.tagName&&!e.$$mdDestroyed})}function v(e){return[].map.call(e,function(e){var n=t.element(e).controller("mdGridTile");return{row:parseInt(r.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(r.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function y(){var e=parseInt(r.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(e))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return e}function b(){return E(r.getResponsiveAttribute(s,"md-gutter")||1)}function _(){var e=r.getResponsiveAttribute(s,"md-row-height");switch(x()){case"fixed":return E(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function x(){var e=r.getResponsiveAttribute(s,"md-row-height");return"fit"==e?"fit":-1!==e.indexOf(":")?"ratio":"fixed"}function E(e){return/\D$/.test(e)?e:e+"px"}a.attr("role","list"),l.layoutDelegate=u;var C=t.bind(l,l.invalidateLayout),w=d();n.$on("$destroy",c);var T,S=e.startSymbol(),M=e.endSymbol(),$=e(p("share")+"% - ("+p("gutter")+" * "+p("gutterShare")+")"),k=e("calc(("+p("unit")+" + "+p("gutter")+") * "+p("offset")+")"),A=e("calc(("+p("unit")+") * "+p("span")+" + ("+p("span")+" - 1) * "+p("gutter")+")")}return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:a}}function n(e){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=e.nextTick,this.layoutDelegate=t.noop}function i(e){function n(t,n){var i,a,s,l,d,c;return l=e.time(function(){a=o(t,n)}),i={layoutInfo:function(){return a},map:function(t){return d=e.time(function(){var e=i.layoutInfo();s=t(e.positioning,e.rowCount)}),i},reflow:function(t){return c=e.time(function(){var e=t||r;e(s.grid,s.tiles)}),i},performance:function(){return{tileCount:n.length,layoutTime:l,mapTime:d,reflowTime:c,totalTime:l+d+c}}}}function i(e,t){e.element.css(e.style),t.forEach(function(e){e.element.css(e.style)})}function o(e,t){function n(t,n){if(t.col>e)throw"md-grid-list: Tile at position "+n+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var a=0,c=0;c-a<t.col;)s>=e?i():(a=d.indexOf(0,s),-1!==a&&-1!==(c=r(a+1))?s=c+1:(a=c=0,i()));return o(a,t.col,t.row),s=a+t.col,{col:a,row:l}}function i(){s=0,l++,o(0,e,-1)}function o(e,t,n){for(var i=e;e+t>i;i++)d[i]=Math.max(d[i]+n,0)}function r(e){var t;for(t=e;t<d.length;t++)if(0!==d[t])return t;return t===d.length?t:void 0}function a(){for(var t=[],n=0;e>n;n++)t.push(0);return t}var s=0,l=0,d=a();return{positioning:t.map(function(e,t){return{spans:e,position:n(e,t)}}),rowCount:l+Math.max.apply(Math,d)}}var r=i;return n.animateWith=function(e){r=t.isFunction(e)?e:i},n}function o(e){function n(n,i,o,r){i.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],o,t.bind(r,r.invalidateLayout));r.invalidateTiles(),n.$on("$destroy",function(){i[0].$$mdDestroyed=!0,a(),r.invalidateLayout()}),t.isDefined(n.$parent.$index)&&n.$watch(function(){return n.$parent.$index},function(e,t){e!==t&&r.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:n}}function r(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}t.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",o).directive("mdGridTileFooter",r).directive("mdGridTileHeader",r).factory("$mdGridLayout",i),e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],n.$inject=["$mdUtil"],n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(t.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}},i.$inject=["$mdUtil"],o.$inject=["$mdMedia"]}(),function(){t.module("material.components.icon",["material.core"])}(),function(){function n(e,t){function n(t,n,i){e(n),n.find("md-icon").length&&n.addClass("md-has-icon")}function i(e,n,i,o){var r=this;r.isErrorGetter=i.mdIsError&&t(i.mdIsError),r.delegateClick=function(){r.input.focus()},r.element=n,r.setFocused=function(e){n.toggleClass("md-input-focused",!!e)},r.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)},r.setHasPlaceholder=function(e){n.toggleClass("md-input-has-placeholder",!!e)},r.setInvalid=function(e){e?o.addClass(n,"md-input-invalid"):o.removeClass(n,"md-input-invalid")},e.$watch(function(){return r.label&&r.input},function(e){e&&!r.label.attr("for")&&r.label.attr("for",r.input.attr("id"))})}return i.$inject=["$scope","$element","$attrs","$animate"],{restrict:"E",link:n,controller:i}}function i(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,i){!i||n.mdNoFloat||t.hasClass("md-container-ignore")||(i.label=t,e.$on("$destroy",function(){i.label=null}))}}}function o(e,n,i){function o(o,r,a,s){function l(e){return h.setHasValue(!p.$isEmpty(e)),e}function d(){h.setHasValue(r.val().length>0||(r[0].validity||{}).badInput)}function c(){function i(e){return f(),e}function a(){if(c.style.height=c.offsetHeight+"px",r.addClass("md-no-flex"),isNaN(u)){d.style.height="auto",d.scrollTop=0;var e=s();e&&(d.style.height=e+"px")}else{d.setAttribute("rows",1),m||(d.style.minHeight="0",m=r.prop("clientHeight"),d.style.minHeight=null);var t=Math.min(u,Math.round(d.scrollHeight/m));d.setAttribute("rows",t),d.style.height=m*t+"px"}r.removeClass("md-no-flex"),c.style.height="auto"}function s(){var e=d.scrollHeight-d.offsetHeight;return d.offsetHeight+(e>0?e:0)}function l(e){d.scrollTop=0;var t=d.scrollHeight-d.offsetHeight,n=d.offsetHeight+t;d.style.height=n+"px"}if(!t.isDefined(r.attr("md-no-autogrow"))){var d=r[0],c=h.element[0],u=NaN,m=null;d.hasAttribute("rows")&&(u=parseInt(d.getAttribute("rows")));var f=e.debounce(a,1);if(p?(p.$formatters.push(i),p.$viewChangeListeners.push(i)):f(),r.on("keydown input",f),isNaN(u)&&(r.attr("rows","1"),r.on("scroll",l)),t.element(n).on("resize",f),o.$on("$destroy",function(){t.element(n).off("resize",f)}),t.isDefined(r.attr("md-detect-hidden"))){var g=function(){var e=!1;return function(){var t=0===d.offsetHeight;t===!1&&e===!0&&a(),e=t}}();o.$watch(function(){return e.nextTick(g,!1),!0})}}}var h=s[0],u=!!s[1],p=s[1]||e.fakeNgModel(),m=t.isDefined(a.readonly);if(h){if(h.input)throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!");h.input=r;var f=t.element('<div class="md-errors-spacer">');r.after(f),h.label||i.expect(r,"aria-label",r.attr("placeholder")),r.addClass("md-input"),r.attr("id")||r.attr("id","input_"+e.nextUid()),"textarea"===r[0].tagName.toLowerCase()&&c(),u||d();var g=h.isErrorGetter||function(){return p.$invalid&&(p.$touched||p.$$parentForm&&p.$$parentForm.$submitted)};o.$watch(g,h.setInvalid),p.$parsers.push(l),p.$formatters.push(l),r.on("input",d),m||r.on("focus",function(e){h.setFocused(!0)}).on("blur",function(e){h.setFocused(!1),d()}),o.$on("$destroy",function(){h.setFocused(!1),h.setHasValue(!1),h.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:o}}function r(e,n){function i(i,o,r,a){function s(e){return d.parent?(d.text(String(o.val()||e||"").length+"/"+l),e):e}var l,d,c,h=a[0],u=a[1];n.nextTick(function(){c=t.element(u.element[0].querySelector(".md-errors-spacer")),d=t.element('<div class="md-char-counter">'),c.append(d),r.$set("ngTrim","false"),h.$formatters.push(s),h.$viewChangeListeners.push(s),o.on("input keydown keyup",function(){s()}),i.$watch(r.mdMaxlength,function(n){l=n,t.isNumber(n)&&n>0?(d.parent().length||e.enter(d,c),s()):e.leave(d)}),h.$validators["md-maxlength"]=function(e,n){return!t.isNumber(l)||0>l?!0:(e||o.val()||n||"").length<=l}})}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:i}}function a(e){function n(e,n,i,o){if(o){var r=o.element.find("label"),a=t.isDefined(o.element.attr("md-no-float"));if(r&&r.length||a)return void o.setHasPlaceholder(!0);var s=i.placeholder;if(n.removeAttr("placeholder"),o.input&&"MD-SELECT"!=o.input[0].nodeName){var l='<label ng-click="delegateClick()">'+s+"</label>";o.element.addClass("md-icon-float"),o.element.prepend(l)}}}return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:n}}function s(){function e(e,n,i,o){o&&(n.toggleClass("md-input-messages-animation",!0),n.toggleClass("md-auto-hide",!0),("false"==i.mdAutoHide||t(i))&&n.toggleClass("md-auto-hide",!1))}function t(e){return y.some(function(t){return e[t]})}return{restrict:"EA",link:e,require:"^^?mdInputContainer"}}function l(e){function t(t){var n=e.getClosest(t,"md-input-container");return n?(t.toggleClass("md-input-message-animation",!0),{}):void 0}return{restrict:"EA",compile:t,priority:100}}function d(e,t){return{addClass:function(n,i,o){var r=v(n);"md-input-invalid"==i&&r.hasClass("md-auto-hide")&&u(n,t,e)["finally"](o)}}}function c(e,t){return{enter:function(n,i){u(n,t,e)["finally"](i)},leave:function(n,i){p(n,t,e)["finally"](i)},addClass:function(n,i,o){"ng-hide"==i?p(n,t,e)["finally"](o):o()},removeClass:function(n,i,o){"ng-hide"==i?u(n,t,e)["finally"](o):o()}}}function h(e){return{enter:function(t,n){var i=v(t);return i.hasClass("md-auto-hide")?void n():m(t,e)},leave:function(t,n){return f(t,e)}}}function u(e,n,i){var o,r=[],a=v(e);return t.forEach(a.children(),function(e){o=m(t.element(e),n),r.push(o.start())}),i.all(r)}function p(e,n,i){var o,r=[],a=v(e);return t.forEach(a.children(),function(e){o=f(t.element(e),n),r.push(o.start())}),i.all(r)}function m(e,t){var n=e[0].offsetHeight;return t(e,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-n+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function f(t,n){var i=t[0].offsetHeight,o=e.getComputedStyle(t[0]);return 0==o.opacity?n(t,{}):n(t,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-i+"px"},duration:.3})}function g(e){var t=e.controller("mdInputContainer");return t.element}function v(e){var n=g(e),i="ng-messages,data-ng-messages,x-ng-messages,[ng-messages],[data-ng-messages],[x-ng-messages]";return t.element(n[0].querySelector(i))}t.module("material.components.input",["material.core"]).directive("mdInputContainer",n).directive("label",i).directive("input",o).directive("textarea",o).directive("mdMaxlength",r).directive("placeholder",a).directive("ngMessages",s).directive("ngMessage",l).directive("ngMessageExp",l).animation(".md-input-invalid",d).animation(".md-input-messages-animation",c).animation(".md-input-message-animation",h),n.$inject=["$mdTheming","$parse"],o.$inject=["$mdUtil","$window","$mdAria"],r.$inject=["$animate","$mdUtil"],a.$inject=["$log"];var y=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"];l.$inject=["$mdUtil"],d.$inject=["$q","$animateCss"],c.$inject=["$q","$animateCss"],h.$inject=["$animateCss"]}(),function(){function e(e){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),e}}}function n(e,n,i,o){var r=["md-checkbox","md-switch"];return{restrict:"E",controller:"MdListController",compile:function(a,s){function l(){for(var e,t,n=["md-switch","md-checkbox"],i=0;t=n[i];++i)if((e=a.find(t)[0])&&!e.hasAttribute("aria-label")){var o=a.find("p")[0];if(!o)return;e.setAttribute("aria-label","Toggle "+o.textContent)}}function d(e){var n;"div"==e?(n=t.element('<div class="md-no-style md-list-item-inner">'),n.append(a.contents()),a.addClass("md-proxy-focus")):(n=t.element('<md-button class="md-no-style"><div class="md-list-item-inner"></div></md-button>'),h(a[0],n[0]),n.children().eq(0).append(a.contents())),a[0].setAttribute("tabindex","-1"),a.append(n)}function c(){if(v&&!p(v)&&v.hasAttribute("ng-click")){e.expect(v,"aria-label");var n=t.element('<md-button class="md-secondary-container md-icon-button">');h(v,n[0]),v.setAttribute("tabindex","-1"),v.classList.remove("md-secondary"),n.append(v),v=n[0]}v&&(v.hasAttribute("ng-click")||s.ngClick&&u(v))&&(a.addClass("md-with-secondary"),a.append(v))}function h(e,n){var i=["ng-if","ng-click","aria-label","ng-disabled","ui-sref","href","ng-href","ng-attr-ui-sref"];t.forEach(i,function(t){e.hasAttribute(t)&&(n.setAttribute(t,e.getAttribute(t)),e.removeAttribute(t))})}function u(e){return-1!=r.indexOf(e.nodeName.toLowerCase())}function p(e){var t=e.nodeName.toUpperCase();return"MD-BUTTON"==t||"BUTTON"==t}function m(e,a,s,l){function d(e){for(var t=e.attributes,n=0;n<t.length;n++)if("ngClick"===s.$normalize(t[n].name))return!0;return!1}function c(){var e=a.children();e.length&&!e[0].hasAttribute("ng-click")&&t.forEach(r,function(e){t.forEach(p.querySelectorAll(e),function(e){u.push(e)})})}function h(){(1==u.length||m)&&(a.addClass("md-clickable"),m||l.attachRipple(e,t.element(a[0].querySelector(".md-no-style"))))}var u=[],p=a[0].firstElementChild,m=p&&d(p);c(),h(),a.hasClass("md-proxy-focus")&&u.length&&t.forEach(u,function(n){n=t.element(n),e.mouseActive=!1,n.on("mousedown",function(){e.mouseActive=!0,o(function(){e.mouseActive=!1},100)}).on("focus",function(){e.mouseActive===!1&&a.addClass("md-focused"),n.on("blur",function t(){a.removeClass("md-focused"),n.off("blur",t)})})}),m||u.length||p&&p.addEventListener("keypress",function(e){if("INPUT"!=e.target.nodeName&&"TEXTAREA"!=e.target.nodeName){var t=e.which||e.keyCode;t==n.KEY_CODE.SPACE&&p&&(p.click(),e.preventDefault(),e.stopPropagation())}}),a.off("click"),a.off("keypress"),1==u.length&&p&&a.children().eq(0).on("click",function(e){var n=i.getClosest(e.target,"BUTTON");!n&&p.contains(e.target)&&t.forEach(u,function(n){e.target===n||n.contains(e.target)||t.element(n).triggerHandler("click")})})}var f,g,v=a[0].querySelector(".md-secondary");if(a[0].setAttribute("role","listitem"),s.ngClick||s.ngHref||s.href||s.uiSref||s.ngAttrUiSref)d("button");else{for(var y,b=0;y=r[b];++b)if(g=a[0].querySelector(y)){f=!0;break}f?d("div"):a[0].querySelector("md-button:not(.md-secondary):not(.md-exclude)")||a.addClass("md-no-proxy")}return c(),l(),m}}}function i(e,t,n){function i(e,t){var i={};n.attach(e,t,i)}var o=this;o.attachRipple=i}t.module("material.components.list",["material.core"]).controller("MdListController",i).directive("mdList",e).directive("mdListItem",n),e.$inject=["$mdTheming"],n.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],i.$inject=["$scope","$element","$mdListInkRipple"]}(),function(){t.module("material.components.menu",["material.core","material.components.backdrop"])}(),function(){t.module("material.components.menuBar",["material.core","material.components.menu"])}(),function(){function e(e,i,o){function r(e){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),a}function a(r,a,p){function m(){p.$observe("value",function(e){var t=s(e);a.attr("aria-valuenow",t),b()==h&&v(t)}),p.$observe("mdMode",function(e){switch(e){case h:case u:E.removeClass("ng-hide"),_&&E.removeClass(_),E.addClass(_="md-mode-"+e);break;default:_&&E.removeClass(_),E.addClass("ng-hide"),_=n}})}function f(){x.css({width:100*y()+"px",height:100*y()+"px"}),x.children().eq(0).css(C({transform:i.supplant("translate(-50%, -50%) scale( {0} )",[y()])}))}function g(){if(t.isUndefined(p.mdMode)){var e=t.isDefined(p.value),n=e?h:u,r="Auto-adding the missing md-mode='{0}' to the ProgressCircular element";o.debug(i.supplant(r,[n])),a.attr("md-mode",n),p.mdMode=n}}function v(e){if(b()){w=w||t.element(a[0].querySelector(".md-left > .md-half-circle")),T=T||t.element(a[0].querySelector(".md-right > .md-half-circle")),S=S||t.element(a[0].querySelector(".md-gap"));var n=l({borderBottomColor:50>=e?"transparent !important":"",transition:50>=e?"":"borderBottomColor 0.1s linear"}),o=l({transition:50>=e?"transform 0.1s linear":"",transform:i.supplant("rotate({0}deg)",[50>=e?135:(e-50)/50*180+135])}),r=l({transition:e>=50?"transform 0.1s linear":"",transform:i.supplant("rotate({0}deg)",[e>=50?45:e/50*180-135])});w.css(C(o)),T.css(C(r)),S.css(C(n))}}function y(){if(!p.mdDiameter)return c;var e=/([0-9]*)%/.exec(p.mdDiameter),t=Math.max(0,e&&e[1]/100||parseFloat(p.mdDiameter));return t>1?t/d:t}function b(){var e=(p.mdMode||"").trim();if(e)switch(e){case h:case u:break;default:e=n}return e}e(a);var _,x=a,E=t.element(a.children()[0]),C=i.dom.animator.toCss;a.attr("md-mode",b()),f(),g(),m();var w,T,S}function s(e){return Math.max(0,Math.min(e||0,100))}function l(e){for(var t in e)e.hasOwnProperty(t)&&""==e[t]&&delete e[t];return e}var d=100,c=.5,h="determinate",u="indeterminate";return{restrict:"E",scope:!0,template:'<div class="md-scale-wrapper"><div class="md-spinner-wrapper"><div class="md-inner"><div class="md-gap"></div><div class="md-left"><div class="md-half-circle"></div></div><div class="md-right"><div class="md-half-circle"></div></div></div></div></div>',compile:r}}t.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",e),e.$inject=["$mdTheming","$mdUtil","$log"]}(),function(){function e(e,i,o){function r(e,t,n){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),a}function a(r,a,u){function p(){u.$observe("value",function(e){var t=s(e);a.attr("aria-valuenow",t),f()!=h&&g(_,t)}),u.$observe("mdBufferValue",function(e){g(b,s(e))}),u.$observe("mdMode",function(e){switch(e){case h:case c:case l:case d:x.removeClass("ng-hide "+v),x.addClass(v="md-mode-"+e);break;default:v&&x.removeClass(v),x.addClass("ng-hide"),v=n}})}function m(){if(t.isUndefined(u.mdMode)){var e=t.isDefined(u.value),n=e?l:d,r="Auto-adding the missing md-mode='{0}' to the ProgressLinear element";o.debug(i.supplant(r,[n])),a.attr("md-mode",n),u.mdMode=n}}function f(){var e=(u.mdMode||"").trim();if(e)switch(e){case l:case d:case c:case h:break;default:e=n}return e}function g(e,n){if(f()){var o=i.supplant("translateX({0}%) scale({1},1)",[(n-100)/2,n/100]),r=y({transform:o});t.element(e).css(r)}}e(a);var v,y=i.dom.animator.toCss,b=t.element(a[0].querySelector(".md-bar1")),_=t.element(a[0].querySelector(".md-bar2")),x=t.element(a[0].querySelector(".md-container"));a.attr("md-mode",f()),m(),p()}function s(e){return Math.max(0,Math.min(e||0,100))}var l="determinate",d="indeterminate",c="buffer",h="query";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:r}}t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e),e.$inject=["$mdTheming","$mdUtil","$log"]}(),function(){function e(e,n,i,o){function r(r,a,s,l){function d(){a.hasClass("md-focused")||a.addClass("md-focused")}function c(i){var o=i.which||i.keyCode;if(o==n.KEY_CODE.ENTER||i.currentTarget==i.target)switch(o){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:i.preventDefault(),h.selectPrevious(),d();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:i.preventDefault(),h.selectNext(),d();break;case n.KEY_CODE.ENTER:var r=t.element(e.getClosest(a[0],"form"));r.length>0&&r.triggerHandler("submit")}}i(a);var h=l[0],u=l[1]||e.fakeNgModel();h.init(u),r.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",c).on("mousedown",function(e){r.mouseActive=!0,o(function(){r.mouseActive=!1},100)}).on("focus",function(){r.mouseActive===!1&&h.$element.addClass("md-focused")}).on("blur",function(){h.$element.removeClass("md-focused")})}function a(e){this._radioButtonRenderFns=[],this.$element=e}function s(){return{init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);-1!==t&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return l(this.$element,1)},selectPrevious:function(){return l(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)}}}function l(n,i){var o=e.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(o.count()){var r=function(e){return!t.element(e).attr("disabled")},a=n[0].querySelector("md-radio-button.md-checked"),s=o[0>i?"previous":"next"](a,r)||o.first();t.element(s).triggerHandler("click")}}return a.prototype=s(),{restrict:"E",controller:["$element",a],require:["mdRadioGroup","?ngModel"],link:{pre:r}}}function n(e,t,n){function i(i,r,a,s){function l(e){if(!s)throw"RadioGroupController not found.";s.add(c),a.$observe("value",c),r.on("click",d).on("$destroy",function(){s.remove(c)})}function d(e){r[0].hasAttribute("disabled")||i.$apply(function(){s.setViewValue(a.value,e&&e.type)})}function c(){function e(e){"MD-RADIO-GROUP"!=r.parent()[0].nodeName&&r.parent()[e?"addClass":"removeClass"](o)}var t=s.getViewValue()==a.value;t!==u&&(u=t,r.attr("aria-checked",t),t?(e(!0),r.addClass(o),s.setActiveDescendant(r.attr("id"))):(e(!1),r.removeClass(o)))}function h(n,i){function o(){return a.id||"radio_"+t.nextUid()}i.ariaId=o(),n.attr({id:i.ariaId,role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}var u;n(r),h(r,i),l()}var o="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:i}}t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",n),e.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],n.$inject=["$mdAria","$mdUtil","$mdTheming"]}(),function(){function e(e,i,o,r,a,s){function l(a,l){var d=t.element("<md-select-value><span></span></md-select-value>");if(d.append('<span class="md-select-icon" aria-hidden="true"></span>'),d.addClass("md-select-value"),d[0].hasAttribute("id")||d.attr("id","select_value_label_"+i.nextUid()),a.find("md-content").length||a.append(t.element("<md-content>").append(a.contents())),l.mdOnOpen&&(a.find("md-content").prepend(t.element('<div> <md-progress-circular md-mode="{{progressMode}}" ng-hide="$$loadingAsyncDone"></md-progress-circular></div>')),a.find("md-option").attr("ng-show","$$loadingAsyncDone")),l.name){var c=t.element('<select class="md-visually-hidden">');c.attr({name:"."+l.name,"ng-model":l.ngModel,"aria-hidden":"true",tabindex:"-1"});var h=a.find("md-option");t.forEach(h,function(e){var n=t.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?n.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&n.attr("value",e.getAttribute("value")),c.append(n)}),a.parent().append(c)}var u=t.isDefined(l.multiple)?"multiple":"",p='<div class="md-select-menu-container" aria-hidden="true"><md-select-menu {0}>{1}</md-select-menu></div>';return p=i.supplant(p,[u,a.html()]),a.empty().append(d),a.append(p),l.tabindex=l.tabindex||"0",function(a,l,d,c){function h(){var e=l.attr("aria-label")||l.attr("placeholder");!e&&x&&x.label&&(e=x.label.text()),b=e,r.expect(l,"aria-label",e)}function u(){$&&(A=A||$.find("md-select-menu").controller("mdSelectMenu"),E.setLabelText(A.selectedLabels()))}function p(){if(b){var e=A.selectedLabels({mode:"aria"});l.attr("aria-label",e.length?b+": "+e:b)}}function m(){x&&x.setHasValue(A.selectedLabels().length>0||(l[0].validity||{}).badInput)}function f(){if($=t.element(l[0].querySelector(".md-select-menu-container")),k=a,l.attr("md-container-class")){
var e=$[0].getAttribute("class")+" "+l.attr("md-container-class");$[0].setAttribute("class",e)}A=$.find("md-select-menu").controller("mdSelectMenu"),A.init(C,d.ngModel),l.on("$destroy",function(){$.remove()})}function g(e){var n=[32,13,38,40];if(-1!=n.indexOf(e.keyCode))e.preventDefault(),v(e);else if(e.keyCode<=90&&e.keyCode>=31){e.preventDefault();var i=A.optNodeForKeyboardSearch(e);if(!i)return;var o=t.element(i).controller("mdOption");A.isMultiple||A.deselect(Object.keys(A.selected)[0]),A.select(o.hashKey,o.value),A.refreshViewValue()}}function v(){k.isOpen=!0,l.attr("aria-expanded","true"),e.show({scope:k,preserveScope:!0,skipCompile:!0,element:$,target:l[0],selectCtrl:E,preserveElement:!0,hasBackdrop:!0,loadingAsync:d.mdOnOpen?a.$eval(d.mdOnOpen)||!0:!1})["finally"](function(){k.isOpen=!1,l.focus(),l.attr("aria-expanded","false"),C.$setTouched()})}var y,b,_=!0,x=c[0],E=c[1],C=c[2],w=c[3],T=l.find("md-select-value"),S=t.isDefined(d.readonly);if(x){var M=x.isErrorGetter||function(){return C.$invalid&&C.$touched};if(x.input)throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");x.input=l,x.label||r.expect(l,"aria-label",l.attr("placeholder")),a.$watch(M,x.setInvalid)}var $,k,A;if(f(),o(l),d.name&&w){var L=l.parent()[0].querySelector('select[name=".'+d.name+'"]');i.nextTick(function(){var e=t.element(L).controller("ngModel");e&&w.$removeControl(e)})}w&&i.nextTick(function(){w.$setPristine()});var N=C.$render;C.$render=function(){N(),u(),p(),m()},d.$observe("placeholder",C.$render),E.setLabelText=function(e){E.setIsPlaceholder(!e);var t=d.placeholder||(x&&x.label?x.label.text():"");e=e||t||"";var n=T.children().eq(0);n.html(e)},E.setIsPlaceholder=function(e){e?(T.addClass("md-select-placeholder"),x&&x.label&&x.label.addClass("md-placeholder")):(T.removeClass("md-select-placeholder"),x&&x.label&&x.label.removeClass("md-placeholder"))},S||(l.on("focus",function(e){x&&x.element.hasClass("md-input-has-value")&&x.setFocused(!0)}),i.nextTick(function(){l.on("blur",function(){_&&(_=!1,C.$setUntouched()),k.isOpen||(x&&x.setFocused(!1),m())})})),E.triggerClose=function(){s(d.mdOnClose)(a)},a.$$postDigest(function(){h(),u(),p()}),a.$watch(A.selectedLabels,u);var O;d.$observe("ngMultiple",function(e){O&&O();var t=s(e);O=a.$watch(function(){return t(a)},function(e,t){(e!==n||t!==n)&&(e?l.attr("multiple","multiple"):l.removeAttr("multiple"),l.attr("aria-multiselectable",e?"true":"false"),$&&(A.setMultiple(e),N=C.$render,C.$render=function(){N(),u(),p(),m()},C.$render()))})}),d.$observe("disabled",function(e){t.isString(e)&&(e=!0),(y===n||y!==e)&&(y=e,e?(l.attr({tabindex:-1,"aria-disabled":"true"}),l.off("click",v),l.off("keydown",g)):(l.attr({tabindex:d.tabindex,"aria-disabled":"false"}),l.on("click",v),l.on("keydown",g)))}),d.disabled||d.ngDisabled||(l.attr({tabindex:d.tabindex,"aria-disabled":"false"}),l.on("click",v),l.on("keydown",g));var D={role:"listbox","aria-expanded":"false","aria-multiselectable":d.multiple===n||d.ngMultiple?"false":"true"};l[0].hasAttribute("id")||(D.id="select_"+i.nextUid());var z="select_container_"+i.nextUid();$.attr("id",z),D["aria-owns"]=z,l.attr(D),a.$on("$destroy",function(){e.destroy()["finally"](function(){x&&(x.setFocused(!1),x.setHasValue(!1),x.input=null),C.$setTouched()})})}}return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:l,controller:function(){}}}function i(e,i,o){function r(e,n,r,a){function s(e){(13==e.keyCode||32==e.keyCode)&&l(e)}function l(n){var o=i.getClosest(n.target,"md-option"),r=o&&t.element(o).data("$mdOptionController");if(o&&r){if(o.hasAttribute("disabled"))return n.stopImmediatePropagation(),!1;var a=d.hashGetter(r.value),s=t.isDefined(d.selected[a]);e.$apply(function(){d.isMultiple?s?d.deselect(a):d.select(a,r.value):s||(d.deselect(Object.keys(d.selected)[0]),d.select(a,r.value)),d.refreshViewValue()})}}var d=a[0];o(n),n.on("click",l),n.on("keypress",s)}function a(o,r,a){function s(){var e=c.ngModel.$modelValue||c.ngModel.$viewValue||[];if(t.isArray(e)){var n=Object.keys(c.selected),i=e.map(c.hashGetter),o=n.filter(function(e){return-1===i.indexOf(e)});o.forEach(c.deselect),i.forEach(function(t,n){c.select(t,e[n])})}}function d(){var e=c.ngModel.$viewValue||c.ngModel.$modelValue;Object.keys(c.selected).forEach(c.deselect),c.select(c.hashGetter(e),e)}var c=this;c.isMultiple=t.isDefined(r.multiple),c.selected={},c.options={},o.$watchCollection(function(){return c.options},function(){c.ngModel.$render()});var h,u;c.setMultiple=function(e){function n(e,n){return t.isArray(e||n||[])}var i=c.ngModel;u=u||i.$isEmpty,c.isMultiple=e,h&&h(),c.isMultiple?(i.$validators["md-multiple"]=n,i.$render=s,o.$watchCollection(c.modelBinding,function(e){n(e)&&s(e),c.ngModel.$setPristine()}),i.$isEmpty=function(e){return!e||0===e.length}):(delete i.$validators["md-multiple"],i.$render=d)};var p,m,f,g="",v=300;c.optNodeForKeyboardSearch=function(e){p&&clearTimeout(p),p=setTimeout(function(){p=n,g="",f=n,m=n},v),g+=String.fromCharCode(e.keyCode);var i=new RegExp("^"+g,"i");m||(m=a.find("md-option"),f=new Array(m.length),t.forEach(m,function(e,t){f[t]=e.textContent.trim()}));for(var o=0;o<f.length;++o)if(i.test(f[o]))return m[o]},c.init=function(n,i){if(c.ngModel=n,c.modelBinding=i,n.$options&&n.$options.trackBy){var r={},a=e(n.$options.trackBy);c.hashGetter=function(e,t){return r.$value=e,a(t||o,r)}}else c.hashGetter=function(e){return t.isObject(e)?"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++l)):e};c.setMultiple(c.isMultiple)},c.selectedLabels=function(e){e=e||{};var t=e.mode||"html",n=i.nodesToArray(a[0].querySelectorAll("md-option[selected]"));if(n.length){var o;return"html"==t?o=function(e){return e.innerHTML}:"aria"==t&&(o=function(e){return e.hasAttribute("aria-label")?e.getAttribute("aria-label"):e.textContent}),n.map(o).join(", ")}return""},c.select=function(e,t){var n=c.options[e];n&&n.setSelected(!0),c.selected[e]=t},c.deselect=function(e){var t=c.options[e];t&&t.setSelected(!1),delete c.selected[e]},c.addOption=function(e,n){if(t.isDefined(c.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');c.options[e]=n,t.isDefined(c.selected[e])&&(c.select(e,n.value),c.refreshViewValue())},c.removeOption=function(e){delete c.options[e]},c.refreshViewValue=function(){var e,n=[];for(var i in c.selected)(e=c.options[i])?n.push(e.value):n.push(c.selected[i]);var o=c.ngModel.$options&&c.ngModel.$options.trackBy,r=c.isMultiple?n:n[0],a=c.ngModel.$modelValue;(o?t.equals(a,r):a==r)||(c.ngModel.$setViewValue(r),c.ngModel.$render())}}return a.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!0,controller:a,link:{pre:r}}}function o(e,n){function i(e,n){return e.append(t.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",n.tabindex||"0"),o}function o(i,o,r,a){function s(e,t,n){if(!c.hashGetter)return void(n||i.$$postDigest(function(){s(e,t,!0)}));var o=c.hashGetter(t,i),r=c.hashGetter(e,i);d.hashKey=r,d.value=e,c.removeOption(o,d),c.addOption(r,d)}function l(){var e={role:"option","aria-selected":"false"};o[0].hasAttribute("id")||(e.id="select_option_"+n.nextUid()),o.attr(e)}var d=a[0],c=a[1];t.isDefined(r.ngValue)?i.$watch(r.ngValue,s):t.isDefined(r.value)?s(r.value):i.$watch(function(){return o.text()},s),r.$observe("disabled",function(e){e?o.attr("tabindex","-1"):o.attr("tabindex","0")}),i.$$postDigest(function(){r.$observe("selected",function(e){t.isDefined(e)&&("string"==typeof e&&(e=!0),e?(c.isMultiple||c.deselect(Object.keys(c.selected)[0]),c.select(d.hashKey,d.value)):c.deselect(d.hashKey),c.refreshViewValue())})}),e.attach(i,o),l(),i.$on("$destroy",function(){c.removeOption(d.hashKey,d)})}function r(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return r.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:r,compile:i}}function r(){function e(e,n){var i=e.find("label");i.length||(i=t.element("<label>"),e.prepend(i)),i.addClass("md-container-ignore"),n.label&&i.text(n.label)}return{restrict:"E",compile:e}}function a(e){function i(e,i,d,c,h,u,p,m,f){function g(e,t,n){function i(){return p(t,{addClass:"md-leave"}).start()}function o(){t.removeClass("md-active"),t.attr("aria-hidden","true"),t[0].style.display="none",y(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}return n=n||{},n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),n.$destroy===!0?o():i().then(o)}function v(o,r,a){function s(e,t,n){return n.parent.append(t),h(function(e,n){try{p(t,{removeClass:"md-leave",duration:0}).start().then(l).then(e)}catch(i){n(i)}})}function l(){return h(function(e){if(a.isRemoved)return h.reject(!1);var t=b(o,r,a);t.container.element.css(x.toCss(t.container.styles)),t.dropDown.element.css(x.toCss(t.dropDown.styles)),u(function(){r.addClass("md-active"),t.dropDown.element.css(x.toCss({transform:""})),v(a.focusedNode),e()})})}function g(e,t,n){return n.disableParentScroll&&!d.getClosest(n.target,"MD-DIALOG")?n.restoreScroll=d.disableScrollAround(n.element,n.parent):n.disableParentScroll=!1,n.hasBackdrop&&(n.backdrop=d.createBackdrop(e,"md-select-backdrop md-click-catcher"),m.enter(n.backdrop,f[0].body,null,{duration:0})),function(){n.backdrop&&n.backdrop.remove(),n.disableParentScroll&&n.restoreScroll(),delete n.restoreScroll}}function v(e){e&&!e.hasAttribute("disabled")&&e.focus()}function y(e,n){var i=r.find("md-select-menu");if(!n.target)throw new Error(d.supplant(_,[n.target]));t.extend(n,{isRemoved:!1,target:t.element(n.target),parent:t.element(n.parent),selectEl:i,contentEl:r.find("md-content"),optionNodes:i[0].getElementsByTagName("md-option")})}function E(){var e=function(e,t,n){return function(){if(!n.isRemoved){var i=b(e,t,n),o=i.container,r=i.dropDown;o.element.css(x.toCss(o.styles)),r.element.css(x.toCss(r.styles))}}}(o,r,a),n=t.element(c);return n.on("resize",e),n.on("orientationchange",e),function(){n.off("resize",e),n.off("orientationchange",e)}}function C(){a.loadingAsync&&!a.isRemoved&&(o.$$loadingAsyncDone=!1,o.progressMode="indeterminate",h.when(a.loadingAsync).then(function(){o.$$loadingAsyncDone=!0,o.progressMode="",delete a.loadingAsync}).then(function(){u(l)}))}function w(){function t(t){t.preventDefault(),t.stopPropagation(),a.restoreFocus=!1,d.nextTick(e.hide,!0)}function o(t){var n=i.KEY_CODE;switch(t.preventDefault(),t.stopPropagation(),t.keyCode){case n.UP_ARROW:return c();case n.DOWN_ARROW:return l();case n.SPACE:case n.ENTER:var o=d.getClosest(t.target,"md-option");o&&(u.triggerHandler({type:"click",target:o}),t.preventDefault()),h(t);break;case n.TAB:case n.ESCAPE:t.stopPropagation(),t.preventDefault(),a.restoreFocus=!0,d.nextTick(e.hide,!0);break;default:if(t.keyCode>=31&&t.keyCode<=90){var r=u.controller("mdSelectMenu").optNodeForKeyboardSearch(t);a.focusedNode=r||a.focusedNode,r&&r.focus()}}}function s(e){var t,i=d.nodesToArray(a.optionNodes),o=i.indexOf(a.focusedNode);do-1===o?o=0:"next"===e&&o<i.length-1?o++:"prev"===e&&o>0&&o--,t=i[o],t.hasAttribute("disabled")&&(t=n);while(!t&&o<i.length-1&&o>0);t&&t.focus(),a.focusedNode=t}function l(){s("next")}function c(){s("prev")}function h(t){function n(){var e=!1;if(t&&t.currentTarget.children.length>0){var n=t.currentTarget.children[0],i=n.scrollHeight>n.clientHeight;if(i&&n.children.length>0){var o=t.pageX-t.currentTarget.getBoundingClientRect().left;o>n.querySelector("md-option").offsetWidth&&(e=!0)}}return e}if(!(t&&"click"==t.type&&t.currentTarget!=u[0]||n())){var i=d.getClosest(t.target,"md-option");i&&i.hasAttribute&&!i.hasAttribute("disabled")&&(t.preventDefault(),t.stopPropagation(),p.isMultiple||(a.restoreFocus=!0,d.nextTick(function(){e.hide(p.ngModel.$viewValue)},!0)))}}if(!a.isRemoved){var u=a.selectEl,p=u.controller("mdSelectMenu")||{};return r.addClass("md-clickable"),a.backdrop&&a.backdrop.on("click",t),u.on("keydown",o),u.on("click",h),function(){a.backdrop&&a.backdrop.off("click",t),u.off("keydown",o),u.off("click",h),r.removeClass("md-clickable"),a.isRemoved=!0}}}return C(),y(o,a),a.hideBackdrop=g(o,r,a),s(o,r,a).then(function(e){return r.attr("aria-hidden","false"),a.alreadyOpen=!0,a.cleanupInteraction=w(),a.cleanupResizing=E(),e},a.hideBackdrop)}function y(e){var t=e.selectCtrl;if(t){var n=e.selectEl.controller("mdSelectMenu");t.setLabelText(n.selectedLabels()),t.triggerClose()}}function b(e,n,i){var h,u=n[0],p=i.target[0].children[0],m=f[0].body,g=i.selectEl[0],v=i.contentEl[0],y=m.getBoundingClientRect(),b=p.getBoundingClientRect(),_=!1,x={left:y.left+s,top:s,bottom:y.height-s,right:y.width-s-(d.floatingScrollbars()?16:0)},E={top:b.top-x.top,left:b.left-x.left,right:x.right-(b.left+b.width),bottom:x.bottom-(b.top+b.height)},C=y.width-2*s,w=g.querySelector("md-option[selected]"),T=g.getElementsByTagName("md-option"),S=g.getElementsByTagName("md-optgroup"),M=l(n,v),$=o(i.loadingAsync);h=$?v.firstElementChild||v:w?w:S.length?S[0]:T.length?T[0]:v.firstElementChild||v,v.offsetWidth>C?v.style["max-width"]=C+"px":v.style.maxWidth=null,_&&(v.style["min-width"]=b.width+"px"),M&&g.classList.add("md-overflow");var k=h;"MD-OPTGROUP"===(k.tagName||"").toUpperCase()&&(k=T[0]||v.firstElementChild||v,h=k),i.focusedNode=k,u.style.display="block";var A=g.getBoundingClientRect(),L=a(h);if(h){var N=c.getComputedStyle(h);L.paddingLeft=parseInt(N.paddingLeft,10)||0,L.paddingRight=parseInt(N.paddingRight,10)||0}if(M){var O=v.offsetHeight/2;v.scrollTop=L.top+L.height/2-O,E.top<O?v.scrollTop=Math.min(L.top,v.scrollTop+O-E.top):E.bottom<O&&(v.scrollTop=Math.max(L.top+L.height-A.height,v.scrollTop-O+E.bottom))}var D,z,I,R;_?(D=b.left,z=b.top+b.height,I="50% 0",z+A.height>x.bottom&&(z=b.top-A.height,I="50% 100%")):(D=b.left+L.left-L.paddingLeft+2,z=Math.floor(b.top+b.height/2-L.height/2-L.top+v.scrollTop)+2,I=L.left+b.width/2+"px "+(L.top+L.height/2-v.scrollTop)+"px 0px",R=Math.min(b.width+L.paddingLeft+L.paddingRight,C));var H=u.getBoundingClientRect(),P=Math.round(100*Math.min(b.width/A.width,1))/100,F=Math.round(100*Math.min(b.height/A.height,1))/100;return{container:{element:t.element(u),styles:{left:Math.floor(r(x.left,D,x.right-H.width)),top:Math.floor(r(x.top,z,x.bottom-H.height)),"min-width":R}},dropDown:{element:t.element(g),styles:{transformOrigin:I,transform:i.alreadyOpen?"":d.supplant("scale({0},{1})",[P,F])}}}}var _="$mdSelect.show() expected a target element in options.target but got '{0}'!",x=d.dom.animator;return{parent:"body",themable:!0,onShow:v,onRemove:g,hasBackdrop:!0,disableParentScroll:!0}}function o(e){return e&&t.isFunction(e.then)}function r(e,t,n){return Math.max(e,Math.min(t,n))}function a(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}function l(e,t){var n=!1;try{var i=e[0].style.display;e[0].style.display="block",n=t.scrollHeight>t.offsetHeight,e[0].style.display=i}finally{}return n}return i.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],e("$mdSelect").setDefaults({methods:["target"],options:i})}var s=8,l=0;t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",e).directive("mdSelectMenu",i).directive("mdOption",o).directive("mdOptgroup",r).provider("$mdSelect",a),e.$inject=["$mdSelect","$mdUtil","$mdTheming","$mdAria","$compile","$parse"],i.$inject=["$parse","$mdUtil","$mdTheming"],o.$inject=["$mdButtonInkRipple","$mdUtil"],a.$inject=["$$interimElementProvider"]}(),function(){function e(e,t){return["$mdUtil",function(n){return{restrict:"A",multiElement:!0,link:function(i,o,r){var a=i.$on("$md-resize-enable",function(){a(),i.$watch(r[e],function(e){!!e===t&&(n.nextTick(function(){i.$broadcast("$md-resize")}),n.dom.animator.waitTransitionEnd(o).then(function(){i.$broadcast("$md-resize")}))})})}}}]}t.module("material.components.showHide",["material.core"]).directive("ngShow",e("ngShow",!0)).directive("ngHide",e("ngHide",!1))}(),function(){function e(e,n){return function(i){function o(){return e.when(i).then(function(e){return s=e,e})}var r,a="SideNav '"+i+"' is not available!",s=e.get(i);return s||e.notFoundError(i),r={isOpen:function(){return s&&s.isOpen()},isLockedOpen:function(){return s&&s.isLockedOpen()},toggle:function(){return s?s.toggle():n.reject(a)},open:function(){return s?s.open():n.reject(a)},close:function(){return s?s.close():n.reject(a)},then:function(e){var i=s?n.when(s):o();return i.then(e||t.noop)}}}}function i(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,n,i){}}}function o(e,i,o,r,a,s,l,d,c,h){function u(s,u,p,m){function f(e,t){s.isLockedOpen=e,e===t?u.toggleClass("md-locked-open",!!e):a[e?"addClass":"removeClass"](u,"md-locked-open"),S.toggleClass("md-locked-open",!!e)}function g(e){var t=i.findFocusTarget(u)||i.findFocusTarget(u,"[md-sidenav-focus]")||u,n=u.parent();return n[e?"on":"off"]("keydown",b),S[e?"on":"off"]("click",_),e&&(E=h[0].activeElement),v(e),C=c.all([e?a.enter(S,n):a.leave(S),a[e?"removeClass":"addClass"](u,"md-closed")]).then(function(){s.isOpen&&t&&t.focus()})}function v(e){var i=u.parent();e&&!x?(x=i.css("overflow"),i.css("overflow","hidden")):t.isDefined(x)&&(i.css("overflow",x),x=n)}function y(e){return s.isOpen==e?c.when(!0):c(function(t){s.isOpen=e,i.nextTick(function(){C.then(function(e){s.isOpen||(E&&E.focus(),E=null),t(e)})})})}function b(e){var t=e.keyCode===o.KEY_CODE.ESCAPE;return t?_(e):c.when(!0)}function _(e){return e.preventDefault(),m.close()}var x,E=null,C=c.when(!0),w=l(p.mdIsLockedOpen),T=function(){return w(s.$parent,{$media:function(t){return d.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),e(t)},$mdMedia:e})},S=i.createBackdrop(s,"md-sidenav-backdrop md-opaque ng-enter");r.inherit(S,u),u.on("$destroy",function(){S.remove(),m.destroy()}),s.$on("$destroy",function(){S.remove()}),s.$watch(T,f),s.$watch("isOpen",g),m.$toggleOpen=y}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed"),e.attr("tabIndex","-1"),u}}}function r(e,t,n,i,o){var r=this;r.isOpen=function(){return!!e.isOpen},r.isLockedOpen=function(){return!!e.isLockedOpen},r.open=function(){return r.$toggleOpen(!0)},r.close=function(){return r.$toggleOpen(!1)},r.toggle=function(){return r.$toggleOpen(!e.isOpen)},r.$toggleOpen=function(t){return o.when(e.isOpen=t)},r.destroy=i.register(r,n.mdComponentId)}t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",o).directive("mdSidenavFocus",i).controller("$mdSidenavController",r),e.$inject=["$mdComponentRegistry","$q"],o.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$animate","$compile","$parse","$log","$q","$document"],r.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]}(),function(){function e(e,n,i,o,r,a,s,l,d){function c(e,t){return e.attr({tabIndex:0,role:"slider"}),i.expect(e,"aria-label"),h}function h(i,c,h,u){function p(){b(),C(),y()}function m(e){G=parseFloat(e),c.attr("aria-valuemin",e),p()}function f(e){X=parseFloat(e),c.attr("aria-valuemax",e),p()}function g(e){Z=parseFloat(e),y()}function v(e){c.attr("aria-disabled",!!e)}function y(){if(t.isDefined(h.mdDiscrete)&&!t.isUndefined(Z)){if(0>=Z){var e="Slider step value must be greater than zero when in discrete mode";throw d.error(e),new Error(e)}var i=Math.floor((X-G)/Z);if(!K){K=t.element('<canvas style="position:absolute;">'),Y.append(K);var o=n.getComputedStyle(Y[0]);Q=K[0].getContext("2d"),Q.fillStyle=o.backgroundColor||"black"}var r=_();K[0].width=r.width,K[0].height=r.height;for(var a,s=0;i>=s;s++)a=Math.floor(r.width*(s/i)),Q.fillRect(a-1,0,2,r.height)}}function b(){J=W[0].getBoundingClientRect()}function _(){return U(),J}function x(e){if(!c[0].hasAttribute("disabled")){var t;e.keyCode===r.KEY_CODE.LEFT_ARROW?t=-Z:e.keyCode===r.KEY_CODE.RIGHT_ARROW&&(t=Z),t&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),i.$evalAsync(function(){E(u.$viewValue+t)}))}}function E(e){u.$setViewValue(w(T(e)))}function C(){isNaN(u.$viewValue)&&(u.$viewValue=u.$modelValue);var e=(u.$viewValue-G)/(X-G);i.modelValue=u.$viewValue,c.attr("aria-valuenow",u.$viewValue),S(e),F.text(u.$viewValue)}function w(e){return t.isNumber(e)?Math.max(G,Math.min(X,e)):void 0}function T(e){if(t.isNumber(e)){var n=Math.round((e-G)/Z)*Z+G;return Math.round(1e3*n)/1e3}}function S(e){var t=100*e+"%";q.css("width",t),B.css("left",t),c.toggleClass("md-min",0===e),c.toggleClass("md-max",1===e)}function M(e){if(!H()){c.addClass("md-active"),c[0].focus(),b();var t=I(z(e.pointer.x)),n=w(T(t));i.$apply(function(){E(n),S(R(n))})}}function $(e){if(!H()){c.removeClass("md-dragging md-active");var t=I(z(e.pointer.x)),n=w(T(t));i.$apply(function(){E(n),C()})}}function k(e){H()||(ee=!0,e.stopPropagation(),c.addClass("md-dragging"),N(e))}function A(e){ee&&(e.stopPropagation(),N(e))}function L(e){ee&&(e.stopPropagation(),ee=!1)}function N(e){te?D(e.pointer.x):O(e.pointer.x)}function O(e){i.$evalAsync(function(){E(I(z(e)))})}function D(e){var t=I(z(e)),n=w(T(t));S(z(e)),F.text(n)}function z(e){return Math.max(0,Math.min(1,(e-J.left)/J.width))}function I(e){return G+e*(X-G)}function R(e){return(e-G)/(X-G)}a(c),u=u||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var H=t.noop;null!=h.disabled?H=function(){return!0}:h.ngDisabled&&(H=t.bind(null,l(h.ngDisabled),i.$parent));var P=t.element(c[0].querySelector(".md-thumb")),F=t.element(c[0].querySelector(".md-thumb-text")),B=P.parent(),W=t.element(c[0].querySelector(".md-track-container")),q=t.element(c[0].querySelector(".md-track-fill")),Y=t.element(c[0].querySelector(".md-track-ticks")),U=o.throttle(b,5e3);t.isDefined(h.min)?h.$observe("min",m):m(0),t.isDefined(h.max)?h.$observe("max",f):f(100),t.isDefined(h.step)?h.$observe("step",g):g(1);var V=t.noop;h.ngDisabled&&(V=i.$parent.$watch(h.ngDisabled,v)),s.register(c,"drag"),c.on("keydown",x).on("$md.pressdown",M).on("$md.pressup",$).on("$md.dragstart",k).on("$md.drag",A).on("$md.dragend",L),setTimeout(p,0);var j=e.throttle(p);t.element(n).on("resize",j),i.$on("$destroy",function(){t.element(n).off("resize",j),V()}),u.$render=C,u.$viewChangeListeners.push(C),u.$formatters.push(w),u.$formatters.push(T);var G,X,Z,K,Q,J={};b();var ee=!1,te=t.isDefined(h.mdDiscrete)}return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div>',compile:c}}t.module("material.components.slider",["material.core"]).directive("mdSlider",e),e.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log"]}(),function(){function e(e,i,o,r){function a(e){function t(e,t){t.addClass("md-sticky-clone");var n={element:e,clone:t};return f.items.push(n),r.nextTick(function(){p.prepend(n.clone)}),m(),function(){f.items.forEach(function(t,n){t.element[0]===e[0]&&(f.items.splice(n,1),t.clone.remove())}),m()}}function a(){f.items.forEach(s),f.items=f.items.sort(function(e,t){return e.top<t.top?-1:1});for(var e,t=p.prop("scrollTop"),n=f.items.length-1;n>=0;n--)if(t>f.items[n].top){e=f.items[n];break}c(e)}function s(e){var t=e.element[0];for(e.top=0,e.left=0;t&&t!==p[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t=t.offsetParent;e.height=e.element.prop("offsetHeight"),e.clone.css("margin-left",e.left+"px"),r.floatingScrollbars()&&e.clone.css("margin-right","0")}function d(){var e=p.prop("scrollTop"),t=e>(d.prevScrollTop||0);if(d.prevScrollTop=e,0===e)return void c(null);if(t){if(f.next&&f.next.top<=e)return void c(f.next);if(f.current&&f.next&&f.next.top-e<=f.next.height)return void u(f.current,e+(f.next.top-f.next.height-e))}if(!t){if(f.current&&f.prev&&e<f.current.top)return void c(f.prev);if(f.next&&f.current&&e>=f.next.top-f.current.height)return void u(f.current,e+(f.next.top-e-f.current.height))}f.current&&u(f.current,e)}function c(e){if(f.current!==e){f.current&&(u(f.current,null),h(f.current,null)),e&&h(e,"active"),f.current=e;var t=f.items.indexOf(e);f.next=f.items[t+1],f.prev=f.items[t-1],h(f.next,"next"),h(f.prev,"prev")}}function h(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function u(e,t){e&&(null===t||t===n?e.translateY&&(e.translateY=null,e.clone.css(i.CSS.TRANSFORM,"")):(e.translateY=t,e.clone.css(i.CSS.TRANSFORM,"translate3d("+e.left+"px,"+t+"px,0)")))}var p=e.$element,m=o.throttle(a);l(p),p.on("$scrollstart",m),p.on("$scroll",d);var f;return f={prev:null,current:null,next:null,items:[],add:t,refreshElements:a}}function s(n){var i,o=t.element("<div>");e[0].body.appendChild(o[0]);for(var r=["sticky","-webkit-sticky"],a=0;a<r.length;++a)if(o.css({position:r[a],top:0,"z-index":2}),o.css("position")==r[a]){i=r[a];break}return o.remove(),i}function l(e){function t(){+r.now()-i>a?(n=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),o.throttle(t))}var n,i,a=200;e.on("scroll touchmove",function(){n||(n=!0,o.throttle(t),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),i=+r.now()})}var d=s();return function(e,t,n){var i=t.controller("mdContent");if(i)if(d)t.css({position:d,top:0,"z-index":2});else{var o=i.$element.data("$$sticky");o||(o=a(i),i.$element.data("$$sticky",o));var r=o.add(t,n||t.clone());e.$on("$destroy",r)}}}t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e),e.$inject=["$document","$mdConstant","$$rAF","$mdUtil"]}(),function(){function e(e,n,i,o){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader">  <div class="md-subheader-inner">    <span class="md-subheader-content"></span>  </div></div>',link:function(r,a,s,l,d){function c(e){return t.element(e[0].querySelector(".md-subheader-content"))}i(a);var h=a[0].outerHTML;d(r,function(e){c(a).append(e)}),a.hasClass("md-no-sticky")||d(r,function(t){var i='<div class="md-subheader-wrapper">'+h+"</div>",s=n(i)(r);e(r,a,s),o.nextTick(function(){c(s).append(t)})})}}}t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e),e.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil"]}(),function(){function e(e){function t(e){function t(t,o,r){var a=e(r[n]);o.on(i,function(e){t.$apply(function(){a(t,{$event:e})})})}return{restrict:"A",link:t}}var n="md"+e,i="$md."+e.toLowerCase();return t.$inject=["$parse"],t}t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",e("SwipeLeft")).directive("mdSwipeRight",e("SwipeRight")).directive("mdSwipeUp",e("SwipeUp")).directive("mdSwipeDown",e("SwipeDown"))}(),function(){function e(e,n,i,o,r,a){function s(e,s){var d=l.compile(e,s);return e.addClass("md-dragging"),function(e,s,l,c){function h(t){f&&f(e)||(t.stopPropagation(),s.addClass("md-dragging"),y={width:g.prop("offsetWidth")},s.removeClass("transition"))}function u(e){if(y){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/y.width,n=c.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),g.css(i.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),y.translate=n}}function p(e){if(y){e.stopPropagation(),s.removeClass("md-dragging"),g.css(i.CSS.TRANSFORM,"");var t=c.$viewValue?y.translate>.5:y.translate<.5;t&&m(!c.$viewValue),y=null}}function m(t){e.$apply(function(){c.$setViewValue(t),c.$render()})}c=c||n.fakeNgModel();var f=null;null!=l.disabled?f=function(){return!0}:l.ngDisabled&&(f=o(l.ngDisabled));var g=t.element(s[0].querySelector(".md-thumb-container")),v=t.element(s[0].querySelector(".md-container"));r(function(){s.removeClass("md-dragging")}),d(e,s,l,c),f&&e.$watch(f,function(e){s.attr("tabindex",e?-1:0)}),a.register(v,"drag"),v.on("$md.dragstart",h).on("$md.drag",u).on("$md.dragend",p);var y}}var l=e[0];return{restrict:"E",priority:210,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:"?ngModel",compile:s}}t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e),e.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture"]}(),function(){t.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function e(e){return{restrict:"E",link:function(t,n,i){t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e){o=e}function i(e,n,i,r){function a(t,a,s){o=s.textContent||s.content;var c=!r("gt-sm");return a=i.extractElementByName(a,"md-toast",!0),s.onSwipe=function(e,t){var o=e.type.replace("$md.",""),r=o.replace("swipe","");"down"===r&&-1!=s.position.indexOf("top")&&!c||"up"===r&&(-1!=s.position.indexOf("bottom")||c)||("left"!==r&&"right"!==r||!c)&&(a.addClass("md-"+o),i.nextTick(n.cancel))},s.openClass=l(s.position),s.parent.addClass(s.openClass),i.hasComputedStyle(s.parent,"position","static")&&s.parent.css("position","relative"),a.on(d,s.onSwipe),a.addClass(c?"md-bottom":s.position.split(" ").map(function(e){return"md-"+e}).join(" ")),s.parent&&s.parent.addClass("md-toast-animating"),e.enter(a,s.parent).then(function(){s.parent&&s.parent.removeClass("md-toast-animating")})}function s(t,n,o){return n.off(d,o.onSwipe),o.parent&&o.parent.addClass("md-toast-animating"),o.openClass&&o.parent.removeClass(o.openClass),(1==o.$destroy?n.remove():e.leave(n)).then(function(){o.parent&&o.parent.removeClass("md-toast-animating"),i.hasComputedStyle(o.parent,"position","static")&&o.parent.css("position","")})}function l(e){return r("gt-sm")?"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"}var d="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:a,onRemove:s,position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(e,n){var i=n.autoWrap&&e&&!/md-toast-content/g.test(e);if(i){var o=t.element(e),r='<div class="md-toast-content">'+o.html()+"</div>";return o.empty().append(r),o[0].outerHTML}return i?'<div class="md-toast-content">'+e+"</div>":e||""}}}var o,r="ok",a=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent"],options:i}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","highlightAction","theme","parent"],options:["$mdToast","$mdTheming",function(e,t){var n={template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content">    <span flex role="alert" aria-relevant="all" aria-atomic="true">      {{ toast.content }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:["$scope",function(t){var n=this;t.$watch(function(){return o},function(){n.content=o}),this.resolve=function(){e.hide(r)}}],theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0};return n}]}).addMethod("updateTextContent",n).addMethod("updateContent",n);return i.$inject=["$animate","$mdToast","$mdUtil","$mdMedia"],a}t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",n),
e.$inject=["$mdToast"],n.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,i,o,r){var a=t.bind(null,i.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(s,l,d){function c(){function o(e){var t=l.parent().find("md-content");!f&&t.length&&c(null,t),e=s.$eval(e),e===!1?g():g=u()}function c(e,t){t&&l.parent()[0]===t.parent()[0]&&(f&&f.off("scroll",_),f=t,g=u())}function h(e){var t=e?e.target.scrollTop:y;x(),v=Math.min(m/b,Math.max(0,v+t-y)),l.css(n.CSS.TRANSFORM,a([-v*b])),f.css(n.CSS.TRANSFORM,a([(m-v)*b])),y=t,i.nextTick(function(){var e=l.hasClass("md-whiteframe-z1");e&&!v?r.removeClass(l,"md-whiteframe-z1"):!e&&v&&r.addClass(l,"md-whiteframe-z1")})}function u(){return f?(f.on("scroll",_),f.attr("scroll-shrink","true"),e(p),function(){f.off("scroll",_),f.attr("scroll-shrink","false"),e(p)}):t.noop}function p(){m=l.prop("offsetHeight");var e=-m*b+"px";f.css({"margin-top":e,"margin-bottom":e}),h()}var m,f,g=t.noop,v=0,y=0,b=d.mdShrinkSpeedFactor||.5,_=e.throttle(h),x=i.debounce(p,5e3);s.$on("$mdContentLoaded",c),d.$observe("mdScrollShrink",o),d.ngShow&&s.$watch(d.ngShow,p),d.ngHide&&s.$watch(d.ngHide,p),s.$on("$destroy",g)}o(l),t.isDefined(d.mdScrollShrink)&&c()}}}t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e),e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"]}(),function(){function e(e,n,i,o,r,a,s,l,d){function c(s,c,p){function m(){t.isDefined(p.mdDelay)||(s.delay=h)}function f(){var e="center top";switch(s.direction){case"left":e="right center";break;case"right":e="left center";break;case"top":e="center bottom";break;case"bottom":e="center top"}S.css("transform-origin",e)}function g(){s.$on("$destroy",function(){s.visible=!1,c.remove(),t.element(n).off("resize",$)}),s.$watch("visible",function(e){e?x():E()}),s.$watch("direction",C)}function v(){T.attr("aria-label")||T.text().trim()||T.attr("aria-label",c.text().trim())}function y(){c.detach(),c.attr("role","tooltip")}function b(){function e(){_(!1)}var i=!1,r=t.element(n);if(T[0]&&"MutationObserver"in n){var a=new MutationObserver(function(e){e.forEach(function(e){"disabled"===e.attributeName&&T[0].disabled&&(_(!1),s.$digest())})});a.observe(T[0],{attributes:!0})}var l=function(){d=document.activeElement===T[0]},d=!1;r.on("blur",l),r.on("resize",$),document.addEventListener("scroll",e,!0),s.$on("$destroy",function(){r.off("blur",l),r.off("resize",$),document.removeEventListener("scroll",e,!0),a&&a.disconnect()});var c=function(e){return"focus"===e.type&&d?void(d=!1):(T.on("blur mouseleave touchend touchcancel",h),void _(!0))},h=function(){var e=s.hasOwnProperty("autohide")?s.autohide:p.hasOwnProperty("mdAutohide");(e||i||o[0].activeElement!==T[0])&&(T.off("blur mouseleave touchend touchcancel",h),T.triggerHandler("blur"),_(!1)),i=!1};T.on("mousedown",function(){i=!0}),T.on("focus mouseenter touchstart",c)}function _(t){_.value=!!t,_.queued||(t?(_.queued=!0,e(function(){s.visible=_.value,_.queued=!1},s.delay)):r.nextTick(function(){s.visible=!1}))}function x(){return M.append(c),r.hasComputedStyle(c,"display","none")?(s.visible=!1,void c.detach()):(C(),void t.forEach([c,S],function(e){l.addClass(e,"md-show")}))}function E(){var e=[];t.forEach([c,S],function(t){t.parent()&&t.hasClass("md-show")&&e.push(l.removeClass(t,"md-show"))}),d.all(e).then(function(){s.visible||c.detach()})}function C(){s.visible&&(f(),w())}function w(){function e(e){var t={left:e.left,top:e.top};return t.left=Math.min(t.left,M.prop("scrollWidth")-n.width-u),t.left=Math.max(t.left,u),t.top=Math.min(t.top,M.prop("scrollHeight")-n.height-u),t.top=Math.max(t.top,u),t}function t(e){return"left"===e?{left:i.left-n.width-u,top:i.top+i.height/2-n.height/2}:"right"===e?{left:i.left+i.width+u,top:i.top+i.height/2-n.height/2}:"top"===e?{left:i.left+i.width/2-n.width/2,top:i.top-n.height-u}:{left:i.left+i.width/2-n.width/2,top:i.top+i.height+u}}var n=r.offsetRect(c,M),i=r.offsetRect(T,M),o=t(s.direction),a=c.prop("offsetParent");s.direction?o=e(o):a&&o.top>a.scrollHeight-n.height-u&&(o=e(t("top"))),c.css({left:o.left+"px",top:o.top+"px"})}a(c);var T=r.getParentWithPointerEvents(c),S=t.element(c[0].getElementsByClassName("md-content")[0]),M=t.element(document.body),$=i.throttle(function(){C()});l.pin&&l.pin(c,T),m(),y(),b(),f(),g(),v()}var h=0,u=8;return{restrict:"E",transclude:!0,priority:210,template:'<div class="md-content" ng-transclude></div>',scope:{delay:"=?mdDelay",visible:"=?mdVisible",autohide:"=?mdAutohide",direction:"@?mdDirection"},link:c}}t.module("material.components.tooltip",["material.core"]).directive("mdTooltip",e),e.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]}(),function(){function e(){return{controller:i,template:n,compile:function(e,t){e.addClass("md-virtual-repeat-container").addClass(t.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}function n(e){return'<div class="md-virtual-repeat-scroller"><div class="md-virtual-repeat-sizer"></div><div class="md-virtual-repeat-offsetter">'+e[0].innerHTML+"</div></div>"}function i(e,n,i,o,r,a,s,l){this.$rootScope=o,this.$scope=a,this.$element=s,this.$attrs=l,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.$attrs.mdTopIndex?(this.bindTopIndex=i(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),t.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,t.bind(this,function(e){e!==this.topIndex&&this.scrollToIndex(e)}))):this.topIndex=0,this.scroller=s[0].getElementsByClassName("md-virtual-repeat-scroller")[0],this.sizer=this.scroller.getElementsByClassName("md-virtual-repeat-sizer")[0],this.offsetter=this.scroller.getElementsByClassName("md-virtual-repeat-offsetter")[0];var d=t.bind(this,this.updateSize);e(t.bind(this,function(){d();var e=n.debounce(d,10,null,!1),i=t.element(r);this.size||e(),i.on("resize",e),a.$on("$destroy",function(){i.off("resize",e)}),a.$emit("$md-resize-enable"),a.$on("$md-resize",d)}))}function o(e){return{controller:r,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(t,n){var i=n.mdVirtualRepeat,o=i.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),r=o[1],a=e(o[2]),s=n.mdExtraName&&e(n.mdExtraName);return function(e,t,n,i,o){i[0].link_(i[1],o,r,a,s)}}}}function r(e,n,i,o,r,a,s){this.$scope=e,this.$element=n,this.$attrs=i,this.$browser=o,this.$document=r,this.$rootScope=a,this.$$rAF=s,this.onDemand=i.hasOwnProperty("mdOnDemand"),this.browserCheckUrlChange=o.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=e.$eval(i.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=t.noop,this.blocks={},this.pooledBlocks=[]}function a(e){if(!t.isFunction(e.getItemAtIndex)||!t.isFunction(e.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength() ");this.model=e}t.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",e).directive("mdVirtualRepeat",o);var s=1533917,l=3;i.$inject=["$$rAF","$mdUtil","$parse","$rootScope","$window","$scope","$element","$attrs"],i.prototype.register=function(e){this.repeater=e,t.element(this.scroller).on("scroll wheel touchmove touchend",t.bind(this,this.handleScroll_))},i.prototype.isHorizontal=function(){return this.horizontal},i.prototype.getSize=function(){return this.size},i.prototype.setSize_=function(e){this.size=e,this.$element[0].style[this.isHorizontal()?"width":"height"]=e+"px"},i.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.repeater&&this.repeater.containerUpdated())},i.prototype.getScrollSize=function(){return this.scrollSize},i.prototype.sizeScroller_=function(e){var t=this.isHorizontal()?"width":"height",n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",s>e)this.sizer.style[t]=e+"px";else{this.sizer.style[t]="auto",this.sizer.style[n]="auto";var i=Math.floor(e/s),o=document.createElement("div");o.style[t]=s+"px",o.style[n]="1px";for(var r=0;i>r;r++)this.sizer.appendChild(o.cloneNode(!1));o.style[t]=e-i*s+"px",this.sizer.appendChild(o)}},i.prototype.autoShrink_=function(e){var t=Math.max(e,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&t!==this.size){var n=this.originalSize||this.size;!n||n>t?(this.originalSize||(this.originalSize=this.size),this.setSize_(t)):this.originalSize&&(this.setSize_(this.originalSize),this.originalSize=null),this.repeater.containerUpdated()}},i.prototype.setScrollSize=function(e){var t=e+this.offsetSize;this.scrollSize!==t&&(this.sizeScroller_(t),this.autoShrink_(t),this.scrollSize=t)},i.prototype.getScrollOffset=function(){return this.scrollOffset},i.prototype.scrollTo=function(e){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=e,this.handleScroll_()},i.prototype.scrollToIndex=function(e){var t=this.repeater.getItemSize(),n=this.repeater.itemsLength;e>n&&(e=n-1),this.scrollTo(t*e)},i.prototype.resetScroll=function(){this.scrollTo(0)},i.prototype.handleScroll_=function(){var e=this.isHorizontal()?this.scroller.scrollLeft:this.scroller.scrollTop;if(e!==this.scrollOffset){var t=this.repeater.getItemSize();if(t){var n=Math.max(0,Math.floor(e/t)-l),i=this.isHorizontal()?"translateX(":"translateY(";if(i+=n*t+"px)",this.scrollOffset=e,this.offsetter.style.webkitTransform=i,this.offsetter.style.transform=i,this.bindTopIndex){var o=Math.floor(e/t);o!==this.topIndex&&o<this.repeater.itemsLength&&(this.topIndex=o,this.bindTopIndex.assign(this.$scope,o),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},o.$inject=["$parse"],r.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF"],r.Block,r.prototype.link_=function(e,n,i,o,r){this.container=e,this.transclude=n,this.repeatName=i,this.rawRepeatListExpression=o,this.extraName=r,this.sized=!1,this.repeatListExpression=t.bind(this,this.repeatListExpression_),this.container.register(this)},r.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var e=this.getBlock_(0);e.element[0].parentNode||this.parentNode.appendChild(e.element[0]),this.itemSize=e.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=e,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},r.prototype.repeatListExpression_=function(e){var t=this.rawRepeatListExpression(e);if(this.onDemand&&t){var n=new a(t);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return t},r.prototype.containerUpdated=function(){return this.itemSize?(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e,t){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(e,t)}))),this.updateIndexes_(),void((this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof a&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items)))):(this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e){e&&e.length&&this.$$rAF(t.bind(this,this.readItemSize_))})),void(this.$rootScope.$$phase||this.$scope.$digest()))},r.prototype.getItemSize=function(){return this.itemSize},r.prototype.virtualRepeatUpdate_=function(e,n){this.isVirtualRepeatUpdating_=!0;var i=e&&e.length||0,o=!1;if(this.items&&i<this.items.length&&0!==this.container.getScrollOffset())return this.items=e,void this.container.resetScroll();if(i!==this.itemsLength&&(o=!0,this.itemsLength=i),this.items=e,(e!==n||o)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,o&&this.container.setScrollSize(i*this.itemSize),this.isFirstRender){this.isFirstRender=!1;var r=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.container.scrollToIndex(r)}Object.keys(this.blocks).forEach(function(e){var t=parseInt(e,10);(t<this.newStartIndex||t>=this.newEndIndex)&&this.poolBlock_(t)},this),this.$browser.$$checkUrlChange=t.noop;var a,s,l=[],d=[];for(a=this.newStartIndex;a<this.newEndIndex&&null==this.blocks[a];a++)s=this.getBlock_(a),this.updateBlock_(s,a),l.push(s);for(;null!=this.blocks[a];a++)this.updateBlock_(this.blocks[a],a);for(var c=a-1;a<this.newEndIndex;a++)s=this.getBlock_(a),this.updateBlock_(s,a),d.push(s);l.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(l),this.$element[0].nextSibling),d.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(d),this.blocks[c]&&this.blocks[c].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isVirtualRepeatUpdating_=!1},r.prototype.getBlock_=function(e){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var n;return this.transclude(t.bind(this,function(t,i){n={element:t,"new":!0,scope:i},this.updateScope_(i,e),this.parentNode.appendChild(t[0])})),n},r.prototype.updateBlock_=function(e,t){this.blocks[t]=e,(e["new"]||e.scope.$index!==t||e.scope[this.repeatName]!==this.items[t])&&(e["new"]=!1,this.updateScope_(e.scope,t),this.$rootScope.$$phase||e.scope.$digest())},r.prototype.updateScope_=function(e,t){e.$index=t,e[this.repeatName]=this.items&&this.items[t],this.extraName&&(e[this.extraName(this.$scope)]=this.items[t])},r.prototype.poolBlock_=function(e){this.pooledBlocks.push(this.blocks[e]),this.parentNode.removeChild(this.blocks[e].element[0]),delete this.blocks[e]},r.prototype.domFragmentFromBlocks_=function(e){var t=this.$document[0].createDocumentFragment();return e.forEach(function(e){t.appendChild(e.element[0])}),t},r.prototype.updateIndexes_=function(){var e=this.items?this.items.length:0,t=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(e-t,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+t+l,this.newEndIndex=Math.min(e,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-l)},a.prototype.$$includeIndexes=function(e,t){for(var n=e;t>n;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()}}(),function(){t.module("material.components.whiteframe",[])}(),function(){function e(e,i,s,l,d,c,h,u,p,m){function f(){s.initOptionalProperties(e,p,{searchText:null,selectedItem:null}),d(i),b(),s.nextTick(function(){x(),v(),y(),i.on("focus",y)})}function g(){function t(){var e=0,t=i.find("md-input-container");if(t.length){var n=t.find("input");e=t.prop("offsetHeight"),e-=n.prop("offsetTop"),e-=n.prop("offsetHeight"),e+=t.prop("offsetTop")}return e}function n(){var e=he.scrollContainer.getBoundingClientRect(),t={};e.right>h.right-r&&(t.left=d.right-e.width+"px"),he.$.scrollContainer.css(t)}if(!he)return s.nextTick(g,!1,e);var l,d=he.wrap.getBoundingClientRect(),c=he.snap.getBoundingClientRect(),h=he.root.getBoundingClientRect(),u=c.bottom-h.top,m=h.bottom-c.top,f=d.left-h.left,v=d.width,y=t();p.mdFloatingLabel&&(f+=a,v-=2*a),l={left:f+"px",minWidth:v+"px",maxWidth:Math.max(d.right-h.left,h.right-d.left)-r+"px"},u>m&&h.height-d.bottom-r<o?(l.top="auto",l.bottom=m+"px",l.maxHeight=Math.min(o,d.top-h.top-r)+"px"):(l.top=u-y+"px",l.bottom="auto",l.maxHeight=Math.min(o,h.bottom+s.scrollTop()-d.bottom-r)+"px"),he.$.scrollContainer.css(l),s.nextTick(n,!1)}function v(){he.$.root.length&&(d(he.$.scrollContainer),he.$.scrollContainer.detach(),he.$.root.append(he.$.scrollContainer),h.pin&&h.pin(he.$.scrollContainer,u))}function y(){e.autofocus&&he.input.focus()}function b(){var n=parseInt(e.delay,10)||0;p.$observe("disabled",function(e){le.isDisabled=!!e}),p.$observe("required",function(e){le.isRequired=!!e}),e.$watch("searchText",n?s.debounce(D,n):D),e.$watch("selectedItem",$),t.element(c).on("resize",g),e.$on("$destroy",_)}function _(){if(t.element(c).off("resize",g),he){var e="ul scroller scrollContainer input".split(" ");t.forEach(e,function(e){he.$[e].remove()})}}function x(){he={main:i[0],scrollContainer:i[0].getElementsByClassName("md-virtual-repeat-container")[0],scroller:i[0].getElementsByClassName("md-virtual-repeat-scroller")[0],ul:i.find("ul")[0],input:i.find("input")[0],wrap:i.find("md-autocomplete-wrap")[0],root:document.body},he.li=he.ul.getElementsByTagName("li"),he.snap=E(),he.$=C(he)}function E(){for(var e=i;e.length;e=e.parent())if(t.isDefined(e.attr("md-autocomplete-snap")))return e[0];return he.wrap}function C(e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t.element(e[i]));return n}function w(t,n){!t&&n?(g(),he&&s.nextTick(function(){s.disableScrollAround(he.ul)},!1,e)):t&&!n&&s.nextTick(function(){s.enableScrolling()},!1,e)}function T(){pe=!0}function S(){fe||he.input.focus(),pe=!1,le.hidden=Y()}function M(){he.input.focus()}function $(t,n){t&&F(t).then(function(i){e.searchText=i,L(t,n)}),t!==n&&k()}function k(){t.isFunction(e.itemChange)&&e.itemChange(B(e.selectedItem))}function A(){t.isFunction(e.textChange)&&e.textChange()}function L(e,t){me.forEach(function(n){n(e,t)})}function N(e){-1==me.indexOf(e)&&me.push(e)}function O(e){var t=me.indexOf(e);-1!=t&&me.splice(t,1)}function D(t,n){le.index=W(),t!==n&&F(e.selectedItem).then(function(i){t!==i&&(e.selectedItem=null,t!==n&&A(),Z()?ae():(le.matches=[],q(!1),te()))})}function z(){fe=!1,pe||(le.hidden=Y())}function I(e){e&&(pe=!1,fe=!1),he.input.blur()}function R(){fe=!0,t.isString(e.searchText)||(e.searchText=""),le.hidden=Y(),le.hidden||ae()}function H(e){switch(e.keyCode){case l.KEY_CODE.DOWN_ARROW:if(le.loading)return;e.stopPropagation(),e.preventDefault(),le.index=Math.min(le.index+1,le.matches.length-1),ie(),te();break;case l.KEY_CODE.UP_ARROW:if(le.loading)return;e.stopPropagation(),e.preventDefault(),le.index=le.index<0?le.matches.length-1:Math.max(0,le.index-1),ie(),te();break;case l.KEY_CODE.TAB:if(S(),le.hidden||le.loading||le.index<0||le.matches.length<1)return;Q(le.index);break;case l.KEY_CODE.ENTER:if(le.hidden||le.loading||le.index<0||le.matches.length<1)return;if(j())return;e.stopPropagation(),e.preventDefault(),Q(le.index);break;case l.KEY_CODE.ESCAPE:e.stopPropagation(),e.preventDefault(),J(),I(!0)}}function P(){return t.isNumber(e.minLength)?e.minLength:1}function F(t){function n(t){return t&&e.itemText?e.itemText(B(t)):null}return m.when(n(t)||t)}function B(e){if(!e)return n;var t={};return le.itemName&&(t[le.itemName]=e),t}function W(){return e.autoselect?0:-1}function q(e){le.loading!=e&&(le.loading=e),le.hidden=Y()}function Y(){return le.loading&&!V()?!0:j()?!0:fe?!U():!0}function U(){return Z()&&V()||re()}function V(){return le.matches.length?!0:!1}function j(){return le.scope.selectedItem?!0:!1}function G(){return le.loading&&!j()}function X(){return F(le.matches[le.index])}function Z(){return(e.searchText||"").length>=P()}function K(e,t,n){Object.defineProperty(le,e,{get:function(){return n},set:function(e){var i=n;n=e,t(e,i)}})}function Q(t){s.nextTick(function(){F(le.matches[t]).then(function(e){var t=he.$.input.controller("ngModel");t.$setViewValue(e),t.$render()})["finally"](function(){e.selectedItem=le.matches[t],q(!1)})},!1)}function J(){q(!0),le.index=0,le.matches=[],e.searchText="",Q(-1);var t=document.createEvent("CustomEvent");t.initCustomEvent("input",!0,!0,{value:e.searchText}),he.input.dispatchEvent(t),he.input.focus()}function ee(n){function i(t){ue[r]=t,(n||"")===(e.searchText||"")&&(le.matches=t,le.hidden=Y(),e.selectOnMatch&&se(),te(),g())}var o=e.$parent.$eval(ce),r=n.toLowerCase();t.isArray(o)?i(o):o&&(q(!0),s.nextTick(function(){o.success&&o.success(i),o.then&&o.then(i),o["finally"]&&o["finally"](function(){q(!1)})},!0,e))}function te(){X().then(function(e){le.messages=[ne(),e]})}function ne(){if(ge===le.matches.length)return"";switch(ge=le.matches.length,le.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+le.matches.length+" matches available."}}function ie(){if(he.li[0]){var e=he.li[0].offsetHeight,t=e*le.index,n=t+e,i=he.scroller.clientHeight,o=he.scroller.scrollTop;o>t?oe(t):n>o+i&&oe(n-i)}}function oe(e){he.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(e)}function re(){var e=(le.scope.searchText||"").length;return le.hasNotFound&&!V()&&!le.loading&&e>=P()&&fe&&!j()}function ae(){var t=e.searchText||"",n=t.toLowerCase();!e.noCache&&ue[n]?(le.matches=ue[n],te()):ee(t),le.hidden=Y()}function se(){var t=e.searchText,n=le.matches,i=n[0];1===n.length&&F(i).then(function(e){t==e&&Q(0)})}var le=this,de=e.itemsExpr.split(/ in /i),ce=de[1],he=null,ue={},pe=!1,me=[],fe=!1,ge=0;return K("hidden",w,!0),le.scope=e,le.parent=e.$parent,le.itemName=de[0],le.matches=[],le.loading=!1,le.hidden=!0,le.index=null,le.messages=[],le.id=s.nextUid(),le.isDisabled=null,le.isRequired=null,le.hasNotFound=!1,le.keydown=H,le.blur=z,le.focus=R,le.clear=J,le.select=Q,le.listEnter=T,le.listLeave=S,le.mouseUp=M,le.getCurrentDisplayValue=X,le.registerSelectedItemWatcher=N,le.unregisterSelectedItemWatcher=O,le.notFoundVisible=re,le.loadingIsVisible=G,f()}t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",e);var i=41,o=5.5*i,r=8,a=2;e.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q"]}(),function(){function e(){var e=!1;return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",selectOnMatch:"=?mdSelectOnMatch",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId"},link:function(t,n,i,o){o.hasNotFound=e},template:function(t,n){function i(){var e=t.find("md-item-template").detach(),n=e.length?e.html():t.html();return e.length||t.empty(),"<md-autocomplete-parent-scope md-autocomplete-replace>"+n+"</md-autocomplete-parent-scope>"}function o(){var e=t.find("md-not-found").detach(),n=e.length?e.html():"";return n?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+n+"</li>":""}function r(){return n.mdFloatingLabel?'            <md-input-container flex ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  '+(null!=d?'tabindex="'+d+'"':"")+'                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur()"                  ng-focus="$mdAutocompleteCtrl.focus()"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+l+"</div>            </md-input-container>":'            <input flex type="search"                '+(null!=d?'tabindex="'+d+'"':"")+'                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur()"                ng-focus="$mdAutocompleteCtrl.focus()"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>            <button                type="button"                tabindex="-1"                ng-if="$mdAutocompleteCtrl.scope.searchText && !$mdAutocompleteCtrl.isDisabled"                ng-click="$mdAutocompleteCtrl.clear()">              <md-icon md-svg-icon="md-close"></md-icon>              <span class="md-visually-hidden">Clear</span>            </button>                '}var a=o(),s=i(),l=t.html(),d=n.tabindex;return e=a?!0:!1,n.hasOwnProperty("tabindex")||t.attr("tabindex","-1"),'        <md-autocomplete-wrap            layout="row"            ng-class="{ \'md-whiteframe-z1\': !floatingLabel, \'md-menu-showing\': !$mdAutocompleteCtrl.hidden }"            role="listbox">          '+r()+'          <md-progress-linear              class="'+(n.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-autocomplete-suggestions-container md-whiteframe-z1"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}">              <li md-virtual-repeat="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-click="$mdAutocompleteCtrl.select($index)"                  md-extra-name="$mdAutocompleteCtrl.itemName">                  '+s+"                  </li>"+a+'            </ul>          </md-virtual-repeat-container>        </md-autocomplete-wrap>        <aria-status            class="md-visually-hidden"            role="status"            aria-live="assertive">          <p ng-repeat="message in $mdAutocompleteCtrl.messages track by $index" ng-if="message">{{message}}</p>        </aria-status>'}}}t.module("material.components.autocomplete").directive("mdAutocomplete",e)}(),function(){function e(e,t){function n(e,n,i){return function(e,n,o){function r(n,i){l[i]=e[n],e.$watch(n,function(e){t.nextTick(function(){l[i]=e})})}function a(){var t=!1,n=!1;e.$watch(function(){n||t||(t=!0,e.$$postDigest(function(){n||l.$digest(),t=n=!1}))}),l.$watch(function(){n=!0})}var s=e.$mdAutocompleteCtrl,l=s.parent.$new(),d=s.itemName;r("$index","$index"),r("item",d),a(),i(l,function(e){n.after(e)})}}return{restrict:"AE",compile:n,terminal:!0,transclude:"element"}}t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",e),e.$inject=["$compile","$mdUtil"]}(),function(){function e(e,n,i){function o(o,r){var s=null,l=null,d=i.mdHighlightFlags||"",c=e.$watch(function(e){return{term:o(e),unsafeText:r(e)}},function(e,i){(null===s||e.unsafeText!==i.unsafeText)&&(s=t.element("<div>").text(e.unsafeText).html()),(null===l||e.term!==i.term)&&(l=a(e.term,d)),n.html(s.replace(l,'<span class="highlight">$&</span>'))},!0);n.on("$destroy",c)}function r(e){return e&&e.replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&")}function a(e,t){var n="";return t.indexOf("^")>=1&&(n+="^"),n+=e,t.indexOf("$")>=1&&(n+="$"),new RegExp(r(n),t.replace(/[\$\^]/g,""))}this.init=o}t.module("material.components.autocomplete").controller("MdHighlightCtrl",e),e.$inject=["$scope","$element","$attrs"]}(),function(){function e(e,t){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(n,i){var o=t(i.mdHighlightText),r=e(n.html());return function(e,t,n,i){i.init(o,r)}}}}t.module("material.components.autocomplete").directive("mdHighlightText",e),e.$inject=["$interpolate","$parse"]}(),function(){function e(e,i){function o(n,o){return n.append(i.processTemplate(r)),function(n,i,o,r){i.addClass("md-chip"),e(i),r&&t.element(i[0].querySelector(".md-chip-content")).on("blur",function(){r.selectedChip=-1})}}var r=i.processTemplate(n);return{restrict:"E",require:"^?mdChips",compile:o}}t.module("material.components.chips").directive("mdChip",e);var n='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>';e.$inject=["$mdTheming","$mdUtil"]}(),function(){function e(e){function t(t,n,i,o){n.on("click",function(e){t.$apply(function(){o.removeChip(t.$$replacedScope.$index)})}),e(function(){n.attr({tabindex:-1,"aria-hidden":!0}),n.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:t}}t.module("material.components.chips").directive("mdChipRemove",e),e.$inject=["$timeout"]}(),function(){function e(e){function t(t,n,i){var o=t.$parent.$mdChipsCtrl,r=o.parent.$new(!1,o.parent);r.$$replacedScope=t,r.$chip=t.$chip,r.$index=t.$index,r.$mdChipsCtrl=o;var a=o.$scope.$eval(i.mdChipTransclude);n.html(a),e(n.contents())(r)}return{restrict:"EA",terminal:!0,link:t,scope:!1}}t.module("material.components.chips").directive("mdChipTransclude",e),e.$inject=["$compile"]}(),function(){function e(e,t,n,i,o){this.$timeout=o,this.$mdConstant=t,this.$scope=e,this.parent=e.$parent,this.$log=n,this.$element=i,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.hasAutocomplete=!1,this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useOnAppend=!1,this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.useOnSelect=!1}t.module("material.components.chips").controller("MdChipsCtrl",e),e.$inject=["$scope","$mdConstant","$log","$element","$timeout"],e.prototype.inputKeydown=function(e){var t=this.getChipBuffer();if(!(this.hasAutocomplete&&e.isDefaultPrevented&&e.isDefaultPrevented())){if(e.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(t)return;return e.preventDefault(),e.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),-1!==this.separatorKeys.indexOf(e.keyCode)){if(this.hasAutocomplete&&this.requireMatch||!t)return;e.preventDefault(),this.appendChip(t),this.resetChipBuffer()}}},e.prototype.chipKeydown=function(e){if(!this.getChipBuffer())switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:
case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;e.preventDefault(),this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault(),this.selectedChip<0&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault(),this.onFocus()}},e.prototype.getPlaceholder=function(){var e=this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return e?this.placeholder:this.secondaryPlaceholder},e.prototype.removeAndSelectAdjacentChip=function(e){var n=this.getAdjacentChipIndex(e);this.removeChip(e),this.$timeout(t.bind(this,function(){this.selectAndFocusChipSafe(n)}))},e.prototype.resetSelectedChip=function(){this.selectedChip=-1},e.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return 0==t?-1:e==t?e-1:e},e.prototype.appendChip=function(e){if(this.useTransformChip&&this.transformChip){var n=this.transformChip({$chip:e});t.isDefined(n)&&(e=n)}if(t.isObject(e)){var i=this.items.some(function(n){return t.equals(e,n)});if(i)return}if(!(null==e||this.items.indexOf(e)+1)){var o=this.items.push(e);this.useOnAdd&&this.onAdd&&this.onAdd({$chip:e,$index:o})}},e.prototype.useOnAppendExpression=function(){this.$log.warn("md-on-append is deprecated; please use md-transform-chip or md-on-add instead"),this.useTransformChip&&this.transformChip||(this.useTransformChip=!0,this.transformChip=this.onAppend)},e.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},e.prototype.useOnAddExpression=function(){this.useOnAdd=!0},e.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},e.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},e.prototype.getChipBuffer=function(){return this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer},e.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},e.prototype.removeChip=function(e){var t=this.items.splice(e,1);t&&t.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:t[0],$index:e})},e.prototype.removeChipAndFocusInput=function(e){this.removeChip(e),this.onFocus()},e.prototype.selectAndFocusChipSafe=function(e){return this.items.length?e===this.items.length?this.onFocus():(e=Math.max(e,0),e=Math.min(e,this.items.length-1),this.selectChip(e),void this.focusChip(e)):(this.selectChip(-1),void this.onFocus())},e.prototype.selectChip=function(e){e>=-1&&e<=this.items.length?(this.selectedChip=e,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[this.selectedChip]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},e.prototype.selectAndFocusChip=function(e){this.selectChip(e),-1!=e&&this.focusChip(e)},e.prototype.focusChip=function(e){this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content').focus()},e.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}},e.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus(),this.resetSelectedChip()},e.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.resetSelectedChip()},e.prototype.onInputBlur=function(){this.inputHasFocus=!1},e.prototype.configureUserInput=function(e){this.userInputElement=e;var n=e.controller("ngModel");n!=this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var i=this.$scope,o=this,r=function(e,n){i.$evalAsync(t.bind(o,n,e))};e.attr({tabindex:0}).on("keydown",function(e){r(e,o.inputKeydown)}).on("focus",function(e){r(e,o.onInputFocus)}).on("blur",function(e){r(e,o.onInputBlur)})},e.prototype.configureAutocomplete=function(e){e&&(this.hasAutocomplete=!0,e.registerSelectedItemWatcher(t.bind(this,function(e){e&&(this.appendChip(e),this.resetChipBuffer())})),this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur)))},e.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0}}(),function(){function e(e,t,a,s,l){function d(n,i){function o(e){if(i.ngModel){var t=r[0].querySelector(e);return t&&t.outerHTML}}var r=i.$mdUserTemplate;i.$mdUserTemplate=null;var d=o("md-chips>*[md-chip-remove]")||h.remove,c=o("md-chips>md-chip-template")||h["default"],u=o("md-chips>md-autocomplete")||o("md-chips>input")||h.input,p=r.find("md-chip");return r[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(n,o,r,s){t.initOptionalProperties(n,i),e(o);var m=s[0];if(m.chipContentsTemplate=c,m.chipRemoveTemplate=d,m.chipInputTemplate=u,o.attr({"aria-hidden":!0,tabindex:-1}).on("focus",function(){m.onFocus()}),i.ngModel&&(m.configureNgModel(o.controller("ngModel")),r.mdTransformChip&&m.useTransformChipExpression(),r.mdOnAppend&&m.useOnAppendExpression(),r.mdOnAdd&&m.useOnAddExpression(),r.mdOnRemove&&m.useOnRemoveExpression(),r.mdOnSelect&&m.useOnSelectExpression(),u!=h.input&&n.$watch("$mdChipsCtrl.readonly",function(e){e||t.nextTick(function(){0===u.indexOf("<md-autocomplete")&&m.configureAutocomplete(o.find("md-autocomplete").controller("mdAutocomplete")),m.configureUserInput(o.find("input"))})}),t.nextTick(function(){var e=o.find("input");e&&e.toggleClass("md-input",!0)})),p.length>0){var f=a(p.clone())(n.$parent);l(function(){o.find("md-chips-wrap").prepend(f)})}}}function c(){return{chips:t.processTemplate(n),input:t.processTemplate(i),"default":t.processTemplate(o),remove:t.processTemplate(r)}}var h=c();return{template:function(e,t){return t.$mdUserTemplate=e.clone(),h.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:d,scope:{readonly:"=readonly",placeholder:"@",secondaryPlaceholder:"@",transformChip:"&mdTransformChip",onAppend:"&mdOnAppend",onAdd:"&mdOnAdd",onRemove:"&mdOnRemove",onSelect:"&mdOnSelect",deleteHint:"@",deleteButtonLabel:"@",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch"}}}t.module("material.components.chips").directive("mdChips",e);var n='      <md-chips-wrap          ng-if="!$mdChipsCtrl.readonly || $mdChipsCtrl.items.length > 0"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(), \'md-readonly\': !$mdChipsCtrl.ngModelCtrl }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="-1"              aria-hidden="true"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="!$mdChipsCtrl.readonly"               class="md-chip-remove-container"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl"            class="md-chip-input-container"            md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',i='        <input            class="md-input"            tabindex="0"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            aria-label="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',o="      <span>{{$chip}}</span>",r='      <button          class="md-chip-remove"          ng-if="!$mdChipsCtrl.readonly"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          aria-hidden="true"          tabindex="-1">        <md-icon md-svg-icon="md-close"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>';e.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout"]}(),function(){function e(){this.selectedItem=null,this.searchText=""}t.module("material.components.chips").controller("MdContactChipsCtrl",e),e.prototype.queryContact=function(e){var n=this.contactQuery({$query:e});return this.filterSelected?n.filter(t.bind(this,this.filterSelectedContacts)):n},e.prototype.itemName=function(e){return e[this.contactName]},e.prototype.filterSelectedContacts=function(e){return-1==this.contacts.indexOf(e)}}(),function(){function e(e,t){function i(n,i){return function(n,o,r,a){t.initOptionalProperties(n,i),e(o),o.attr("tabindex","-1")}}return{template:function(e,t){return n},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:i,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch",highlightFlags:"@?mdHighlightFlags"}}}t.module("material.components.chips").directive("mdContactChips",e);var n='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';e.$inject=["$mdTheming","$mdUtil"]}(),function(){function e(e,t,n){function i(i,o,r){function a(){var e=o.parent();return e.attr("aria-label")||e.text()?!0:e.parent().attr("aria-label")||e.parent().text()?!0:!1}function s(){i.svgIcon||i.svgSrc||(i.fontIcon&&o.addClass("md-font "+i.fontIcon),o.addClass(e.fontSet(i.fontSet)))}t(o),s();var l=r.alt||i.fontIcon||i.svgIcon||o.text(),d=r.$normalize(r.$attr.mdSvgIcon||r.$attr.mdSvgSrc||"");r["aria-label"]||(""==l||a()?o.text()||n.expect(o,"aria-hidden","true"):(n.expect(o,"aria-label",l),n.expect(o,"role","img"))),d&&r.$observe(d,function(t){o.empty(),t&&e(t).then(function(e){o.append(e)})})}return{scope:{fontSet:"@mdFontSet",fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",link:i}}t.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria",e])}(),function(){function e(){}function n(e,t){this.url=e,this.viewBoxSize=t||o.defaultViewBoxSize}function i(e,n,i,o,r){function a(t){if(t=t||"",v[t])return i.when(v[t].clone());if(y.test(t))return h(t).then(l(t));-1==t.indexOf(":")&&(t="$default:"+t);var n=e[t]?d:c;return n(t).then(l(t))}function s(n){var i=t.isUndefined(n)||!(n&&n.length);if(i)return e.defaultFontSet;var o=n;return t.forEach(e.fontSets,function(e){e.alias==n&&(o=e.fontSet||o)}),o}function l(t){return function(n){return v[t]=p(n)?n:new m(n,e[t]),v[t].clone()}}function d(t){var n=e[t];return h(n.url).then(function(e){return new m(e,n)})}function c(t){function n(e){var n=t.slice(t.lastIndexOf(":")+1),i=e.querySelector("#"+n);return i?new m(i,s):r(t)}function r(e){var t="icon "+e+" not found";return o.warn(t),i.reject(t||e)}var a=t.substring(0,t.lastIndexOf(":"))||"$default",s=e[a];return s?h(s.url).then(n):r(t)}function h(e){return n.get(e,{cache:r}).then(function(e){return t.element("<div>").append(e.data).find("svg")[0]})["catch"](u)}function u(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;return o.warn(n),i.reject(n)}function p(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function m(e,n){e&&"svg"!=e.tagName&&(e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e)[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=n,this.prepare()}function f(){var n=this.config?this.config.viewBoxSize:e.defaultViewBoxSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+n+" "+n},function(e,t){this.element.setAttribute(t,e)},this),t.forEach({"pointer-events":"none",display:"block"},function(e,t){this.element.style[t]=e},this)}function g(){return this.element.cloneNode(!0)}var v={},y=/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/i;return m.prototype={clone:g,prepare:f},a.fontSet=s,a}t.module("material.components.icon").provider("$mdIcon",e);var o={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};e.prototype={icon:function(e,t,i){return-1==e.indexOf(":")&&(e="$default:"+e),o[e]=new n(t,i),this},iconSet:function(e,t,i){return o[e]=new n(t,i),this},defaultIconSet:function(e,t){var i="$default";return o[i]||(o[i]=new n(e,t)),o[i].viewBoxSize=t||o.defaultViewBoxSize,this},defaultViewBoxSize:function(e){return o.defaultViewBoxSize=e,this},fontSet:function(e,t){return o.fontSets.push({alias:e,fontSet:t||e}),this},defaultFontSet:function(e){return o.defaultFontSet=e?e:"",this},defaultIconSize:function(e){return o.defaultIconSize=e,this},preloadIcons:function(e){var t=this,n=[{id:"md-tabs-arrow",url:"md-tabs-arrow.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "/></g></svg>'},{id:"md-close",url:"md-close.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"/></g></svg>'},{id:"md-cancel",url:"md-cancel.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M12 2c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm5 13.59l-1.41 1.41-3.59-3.59-3.59 3.59-1.41-1.41 3.59-3.59-3.59-3.59 1.41-1.41 3.59 3.59 3.59-3.59 1.41 1.41-3.59 3.59 3.59 3.59z"/></g></svg>'},{id:"md-menu",url:"md-menu.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>'},{id:"md-toggle-arrow",url:"md-toggle-arrow-svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 48 48"><path d="M24 16l-12 12 2.83 2.83 9.17-9.17 9.17 9.17 2.83-2.83z"/><path d="M0 0h48v48h-48z" fill="none"/></svg>'},{id:"md-calendar",url:"md-calendar.svg",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg>'}];n.forEach(function(n){t.icon(n.id,n.url),e.put(n.url,n.svg)})},$get:["$http","$q","$log","$templateCache",function(e,t,n,r){return this.preloadIcons(r),i(o,e,t,n,r)}]},i.$inject=["config","$http","$q","$log","$templateCache"]}(),function(){function e(e,i,o,r,a,s,l,d){var c,h,u=this;this.nestLevel=parseInt(i.mdNestLevel,10)||0,this.init=function(e,n){n=n||{},c=e,h=o[0].querySelector("[ng-click],[ng-mouseenter]"),h.setAttribute("aria-expanded","false"),this.isInMenuBar=n.isInMenuBar,this.nestedMenus=a.nodesToArray(c[0].querySelectorAll(".md-nested-menu")),c.on("$mdInterimElementRemove",function(){u.isOpen=!1});var i="menu_container_"+a.nextUid();c.attr("id",i),t.element(h).attr({"aria-owns":i,"aria-haspopup":"true"}),r.$on("$destroy",this.disableHoverListener)};var p,m,f=[];this.enableHoverListener=function(){f.push(l.$on("$mdMenuOpen",function(e,t){c[0].contains(t[0])&&(u.currentlyOpenMenu=t.controller("mdMenu"),u.isAlreadyOpening=!1,u.currentlyOpenMenu.registerContainerProxy(u.triggerContainerProxy.bind(u)))})),f.push(l.$on("$mdMenuClose",function(e,t){c[0].contains(t[0])&&(u.currentlyOpenMenu=n)})),m=t.element(a.nodesToArray(c[0].children[0].children)),m.on("mouseenter",u.handleMenuItemHover),m.on("mouseleave",u.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;f.length;)f.shift()();m&&m.off("mouseenter",u.handleMenuItemHover),m&&m.off("mouseleave",u.handleMenuMouseLeave)},this.handleMenuItemHover=function(e){if(!u.isAlreadyOpening){var n=e.target.querySelector("md-menu")||a.getClosest(e.target,"MD-MENU");p=s(function(){if(n&&(n=t.element(n).controller("mdMenu")),u.currentlyOpenMenu&&u.currentlyOpenMenu!=n){var e=u.nestLevel+1;u.currentlyOpenMenu.close(!0,{closeTo:e})}else n&&!n.isOpen&&n.open&&(u.isAlreadyOpening=!0,n.open())},n?100:250);var i=e.currentTarget.querySelector("button:not([disabled])");i&&i.focus()}},this.handleMenuItemMouseLeave=function(){p&&(s.cancel(p),p=n)},this.open=function(t){t&&t.stopPropagation(),t&&t.preventDefault(),u.isOpen||(u.enableHoverListener(),u.isOpen=!0,h=h||(t?t.target:o[0]),h.setAttribute("aria-expanded","true"),r.$emit("$mdMenuOpen",o),e.show({scope:r,mdMenuCtrl:u,nestLevel:u.nestLevel,element:c,target:h,preserveElement:!0,parent:"body"})["finally"](function(){h.setAttribute("aria-expanded","false"),u.disableHoverListener()}))},r.$mdOpenMenu=this.open,r.$watch(function(){return u.isOpen},function(e){e?(c.attr("aria-hidden","false"),o[0].classList.add("md-open"),t.forEach(u.nestedMenus,function(e){e.classList.remove("md-open")})):(c.attr("aria-hidden","true"),o[0].classList.remove("md-open")),r.$mdMenuIsOpen=u.isOpen}),this.focusMenuContainer=function(){var e=c[0].querySelector("[md-menu-focus-target]");e||(e=c[0].querySelector(".md-button")),e.focus()},this.registerContainerProxy=function(e){this.containerProxy=e},this.triggerContainerProxy=function(e){this.containerProxy&&this.containerProxy(e)},this.destroy=function(){return u.isOpen?e.destroy():d.when(!1)},this.close=function(n,i){if(u.isOpen){u.isOpen=!1;var a=t.extend({},i,{skipFocus:n});if(r.$emit("$mdMenuClose",o,a),e.hide(null,i),!n){var s=u.restoreFocusTo||o.find("button")[0];s instanceof t.element&&(s=s[0]),s&&s.focus()}}},this.positionMode=function(){var e=(i.mdPositionMode||"target").split(" ");return 1==e.length&&e.push(e[0]),{left:e[0],top:e[1]}},this.offsets=function(){var e=(i.mdOffset||"0 0").split(" ").map(parseFloat);if(2==e.length)return{left:e[0],top:e[1]};if(1==e.length)return{top:e[0],left:e[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")}}t.module("material.components.menu").controller("mdMenuCtrl",e),e.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q"]}(),function(){function e(e){function i(n){n.addClass("md-menu");var i=n.children()[0];if(i.hasAttribute("ng-click")||(i=i.querySelector("[ng-click],[ng-mouseenter]")||i),!i||"MD-BUTTON"!=i.nodeName&&"BUTTON"!=i.nodeName||i.hasAttribute("type")||i.setAttribute("type","button"),2!=n.children().length)throw Error(r+"Expected two children elements.");i&&i.setAttribute("aria-haspopup","true");var a=n[0].querySelectorAll("md-menu"),s=parseInt(n[0].getAttribute("md-nest-level"),10)||0;return a&&t.forEach(e.nodesToArray(a),function(e){e.hasAttribute("md-position-mode")||e.setAttribute("md-position-mode","cascade"),e.classList.add("md-nested-menu"),e.setAttribute("md-nest-level",s+1)}),o}function o(e,i,o,r){var a=r[0],s=r[1]!=n,l=t.element('<div class="md-open-menu-container md-whiteframe-z2"></div>'),d=i.children()[1];d.hasAttribute("role")||d.setAttribute("role","menu"),l.append(d),i.on("$destroy",function(){l.remove()}),i.append(l),l[0].style.display="none",a.init(l,{isInMenuBar:s})}var r="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:i}}t.module("material.components.menu").directive("mdMenu",e),e.$inject=["$mdUtil"]}(),function(){function e(e){function i(e,i,a,s,l,d,c,h,u){function p(n,i,o){return o.nestLevel?t.noop:(o.disableParentScroll&&!e.getClosest(o.target,"MD-DIALOG")?o.restoreScroll=e.disableScrollAround(o.element,o.parent):o.disableParentScroll=!1,o.hasBackdrop&&(o.backdrop=e.createBackdrop(n,"md-menu-backdrop md-click-catcher"),u.enter(o.backdrop,s[0].body)),function(){o.backdrop&&o.backdrop.remove(),o.disableParentScroll&&o.restoreScroll()})}function m(e,t,n){function i(){return h(t,{addClass:"md-leave"}).start()}function o(){t.removeClass("md-active"),y(t,n),n.alreadyOpen=!1}return n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),n.$destroy===!0?o():i().then(o)}function f(n,o,r){function s(){return r.parent.append(o),o[0].style.display="",d(function(e){var t=b(o,r);o.removeClass("md-leave"),h(o,{addClass:"md-active",from:_.toCss(t),to:_.toCss({transform:""})}).start().then(e)})}function u(){if(!r.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");t.extend(r,{alreadyOpen:!1,isRemoved:!1,target:t.element(r.target),parent:t.element(r.parent),menuContentEl:t.element(o[0].querySelector("md-menu-content"))})}function m(){var e=function(e,t){return c.throttle(function(){if(!r.isRemoved){var n=b(e,t);e.css(_.toCss(n))}})}(o,r);return l.addEventListener("resize",e),l.addEventListener("orientationchange",e),function(){l.removeEventListener("resize",e),l.removeEventListener("orientationchange",e)}}function f(){function t(t){var n;switch(t.keyCode){case a.KEY_CODE.ESCAPE:r.mdMenuCtrl.close(!1,{closeAll:!0}),n=!0;break;case a.KEY_CODE.UP_ARROW:g(t,r.menuContentEl,r,-1)||r.nestLevel||r.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.DOWN_ARROW:g(t,r.menuContentEl,r,1)||r.nestLevel||r.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.LEFT_ARROW:r.nestLevel?r.mdMenuCtrl.close():r.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.RIGHT_ARROW:var i=e.getClosest(t.target,"MD-MENU");i&&i!=r.parent[0]?t.target.click():r.mdMenuCtrl.triggerContainerProxy(t),n=!0}n&&(t.preventDefault(),t.stopImmediatePropagation())}function i(e){e.preventDefault(),e.stopPropagation(),n.$apply(function(){r.mdMenuCtrl.close(!0,{closeAll:!0})})}function s(t){function i(){n.$apply(function(){r.mdMenuCtrl.close(!0,{closeAll:!0})})}function o(e,t){if(!e)return!1;for(var n,i=0;n=t[i];++i)for(var o,r=[n,"data-"+n,"x-"+n],a=0;o=r[a];++a)if(e.hasAttribute(o))return!0;return!1}var a=t.target;do{if(a==r.menuContentEl[0])return;if((o(a,["ng-click","ng-href","ui-sref"])||"BUTTON"==a.nodeName||"MD-BUTTON"==a.nodeName)&&!o(a,["md-prevent-menu-close"])){var s=e.getClosest(a,"MD-MENU");a.hasAttribute("disabled")||s&&s!=r.parent[0]||i();break}}while(a=a.parentNode)}o.addClass("md-clickable"),r.backdrop&&r.backdrop.on("click",i),r.menuContentEl.on("keydown",t),r.menuContentEl[0].addEventListener("click",s,!0);var l=r.menuContentEl[0].querySelector("[md-menu-focus-target]");if(!l){var d=r.menuContentEl[0].firstElementChild;l=d&&(d.querySelector(".md-button:not([disabled])")||d.firstElementChild)}return l&&l.focus(),function(){o.removeClass("md-clickable"),r.backdrop&&r.backdrop.off("click",i),r.menuContentEl.off("keydown",t),r.menuContentEl[0].removeEventListener("click",s,!0)}}return u(r),i.inherit(r.menuContentEl,r.target),r.cleanupResizing=m(),r.hideBackdrop=p(n,o,r),s().then(function(e){return r.alreadyOpen=!0,r.cleanupInteraction=f(),e})}function g(t,n,i,o){for(var r,a=e.getClosest(t.target,"MD-MENU-ITEM"),s=e.nodesToArray(n[0].children),l=s.indexOf(a),d=l+o;d>=0&&d<s.length;d+=o){var c=s[d].querySelector(".md-button");if(r=v(c))break}return r}function v(e){return e&&-1!=e.getAttribute("tabindex")?(e.focus(),s[0].activeElement==e):void 0}function y(e,t){t.preserveElement?o(e).style.display="none":o(e).parentNode===o(t.parent)&&o(t.parent).removeChild(o(e))}function b(t,i){function o(e){e.top=Math.max(Math.min(e.top,y.bottom-c.offsetHeight),y.top),e.left=Math.max(Math.min(e.left,y.right-c.offsetWidth),y.left)}function a(){for(var e=0;e<h.children.length;++e)if("none"!=l.getComputedStyle(h.children[e]).display)return h.children[e]}var d,c=t[0],h=t[0].firstElementChild,u=h.getBoundingClientRect(),p=s[0].body,m=p.getBoundingClientRect(),f=l.getComputedStyle(h),g=i.target[0].querySelector("[md-menu-origin]")||i.target[0],v=g.getBoundingClientRect(),y={left:m.left+r,top:Math.max(m.top,0)+r,bottom:Math.max(m.bottom,Math.max(m.top,0)+m.height)-r,right:m.right-r},b={top:0,left:0,right:0,bottom:0},_={top:0,left:0,right:0,bottom:0},x=i.mdMenuCtrl.positionMode();("target"==x.top||"target"==x.left||"target-right"==x.left)&&(d=a(),d&&(d=d.firstElementChild||d,d=d.querySelector("[md-menu-align-target]")||d,b=d.getBoundingClientRect(),_={top:parseFloat(c.style.top||0),left:parseFloat(c.style.left||0)}));var E={},C="top ";switch(x.top){case"target":E.top=_.top+v.top-b.top;break;case"cascade":E.top=v.top-parseFloat(f.paddingTop)-g.style.top;break;case"bottom":E.top=v.top+v.height;break;default:throw new Error('Invalid target mode "'+x.top+'" specified for md-menu on Y axis.')}switch(x.left){case"target":E.left=_.left+v.left-b.left,C+="left";break;case"target-right":E.left=v.right-u.width+(u.right-b.right),C+="right";break;case"cascade":var w=v.right+u.width<y.right;E.left=w?v.right-g.style.left:v.left-g.style.left-u.width,C+=w?"left":"right";break;case"left":E.left=v.left,C+="left";break;default:throw new Error('Invalid target mode "'+x.left+'" specified for md-menu on X axis.')}var T=i.mdMenuCtrl.offsets();E.top+=T.top,E.left+=T.left,o(E);var S=Math.round(100*Math.min(v.width/c.offsetWidth,1))/100,M=Math.round(100*Math.min(v.height/c.offsetHeight,1))/100;return{top:Math.round(E.top),left:Math.round(E.left),transform:i.alreadyOpen?n:e.supplant("scale({0},{1})",[S,M]),transformOrigin:C}}var _=e.dom.animator;return{parent:"body",onShow:f,onRemove:m,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,skipHide:!0,themable:!0}}function o(e){return e instanceof t.element&&(e=e[0]),e}var r=8;return i.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate"],e("$mdMenu").setDefaults({methods:["target"],options:i})}t.module("material.components.menu").provider("$mdMenu",e),e.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,o,r,a,s,l,d){this.$element=o,this.$attrs=r,this.$mdConstant=a,this.$mdUtil=l,this.$document=s,this.$scope=e,this.$rootScope=n,this.$timeout=d;var c=this;t.forEach(i,function(e){c[e]=t.bind(c,c[e])})}t.module("material.components.menuBar").controller("MenuBarController",e);var i=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];e.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],e.prototype.init=function(){var e=this.$element,t=this.$mdUtil,i=this.$scope,o=this,r=[];e.on("keydown",this.handleKeyDown),this.parentToolbar=t.getClosest(e,"MD-TOOLBAR"),r.push(this.$rootScope.$on("$mdMenuOpen",function(t,n){-1!=o.getMenus().indexOf(n[0])&&(e[0].classList.add("md-open"),n[0].classList.add("md-open"),o.currentlyOpenMenu=n.controller("mdMenu"),o.currentlyOpenMenu.registerContainerProxy(o.handleKeyDown),o.enableOpenOnHover())})),r.push(this.$rootScope.$on("$mdMenuClose",function(i,r,a){var s=o.getMenus();if(-1!=s.indexOf(r[0])&&(e[0].classList.remove("md-open"),r[0].classList.remove("md-open")),e[0].contains(r[0])){for(var l=r[0];l&&-1==s.indexOf(l);)l=t.getClosest(l,"MD-MENU",!0);l&&(a.skipFocus||l.querySelector("button:not([disabled])").focus(),o.currentlyOpenMenu=n,o.disableOpenOnHover(),o.setKeyboardMode(!0))}})),i.$on("$destroy",function(){for(;r.length;)r.shift()()}),this.setKeyboardMode(!0)},e.prototype.setKeyboardMode=function(e){e?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},e.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){this.openOnHoverEnabled=!0;var e;(e=this.parentToolbar)&&(e.dataset.mdRestoreStyle=e.getAttribute("style"),e.style.position="relative",e.style.zIndex=100),t.element(this.getMenus()).on("mouseenter",this.handleMenuHover)}},e.prototype.handleMenuHover=function(e){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(e)},e.prototype.disableOpenOnHover=function(){if(this.openOnHoverEnabled){this.openOnHoverEnabled=!1;var e;(e=this.parentToolbar)&&e.setAttribute("style",e.dataset.mdRestoreStyle||""),t.element(this.getMenus()).off("mouseenter",this.handleMenuHover)}},e.prototype.scheduleOpenHoveredMenu=function(e){var n=t.element(e.currentTarget),i=n.controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(i)},e.prototype.scheduleOpenMenu=function(e){var t=this,i=this.$timeout;e!=t.currentlyOpenMenu&&(i.cancel(t.pendingMenuOpen),t.pendingMenuOpen=i(function(){t.pendingMenuOpen=n,t.currentlyOpenMenu&&t.currentlyOpenMenu.close(!0,{closeAll:!0}),e.open()},200,!1))},e.prototype.handleKeyDown=function(e){var n=this.$mdConstant.KEY_CODE,i=this.currentlyOpenMenu,o=i&&i.isOpen;this.setKeyboardMode(!0);var r,a,s;switch(e.keyCode){case n.DOWN_ARROW:i?i.focusMenuContainer():this.openFocusedMenu(),r=!0;break;case n.UP_ARROW:i&&i.close(),r=!0;break;case n.LEFT_ARROW:a=this.focusMenu(-1),o&&(s=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),r=!0;break;case n.RIGHT_ARROW:a=this.focusMenu(1),o&&(s=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),r=!0}r&&(e&&e.preventDefault&&e.preventDefault(),e&&e.stopImmediatePropagation&&e.stopImmediatePropagation())},e.prototype.focusMenu=function(e){var t=this.getMenus(),n=this.getFocusedMenuIndex();-1==n&&(n=this.getOpenMenuIndex());var i=!1;return-1==n?n=0:(0>e&&n>0||e>0&&n<t.length-e)&&(n+=e,i=!0),i?(t[n].querySelector("button").focus(),t[n]):void 0},e.prototype.openFocusedMenu=function(){var e=this.getFocusedMenu();e&&t.element(e).controller("mdMenu").open()},e.prototype.getMenus=function(){var e=this.$element;return this.$mdUtil.nodesToArray(e[0].children).filter(function(e){return"MD-MENU"==e.nodeName})},e.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},e.prototype.getFocusedMenuIndex=function(){var e=this.$mdUtil,t=e.getClosest(this.$document[0].activeElement,"MD-MENU");if(!t)return-1;var n=this.getMenus().indexOf(t);return n},e.prototype.getOpenMenuIndex=function(){for(var e=this.getMenus(),t=0;t<e.length;++t)if(e[t].classList.contains("md-open"))return t;return-1}}(),function(){function e(e,n){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(i,o){return o.ariaRole||i[0].setAttribute("role","menubar"),
t.forEach(i[0].children,function(n){if("MD-MENU"==n.nodeName){n.hasAttribute("md-position-mode")||(n.setAttribute("md-position-mode","left bottom"),n.querySelector("button,a").setAttribute("role","menuitem"));var i=e.nodesToArray(n.querySelectorAll("md-menu-content"));t.forEach(i,function(e){e.classList.add("md-menu-bar-menu"),e.classList.add("md-dense"),e.hasAttribute("width")||e.setAttribute("width",5)})}}),function(e,t,i,o){n(e,t),o.init()}}}}t.module("material.components.menuBar").directive("mdMenuBar",e),e.$inject=["$mdUtil","$mdTheming"]}(),function(){function e(){return{restrict:"E",compile:function(e,t){t.role||e[0].setAttribute("role","separator")}}}t.module("material.components.menuBar").directive("mdMenuDivider",e)}(),function(){function e(e,t,n){this.$element=t,this.$attrs=n,this.$scope=e}t.module("material.components.menuBar").controller("MenuItemController",e),e.$inject=["$scope","$element","$attrs"],e.prototype.init=function(e){var t=this.$element,n=this.$attrs;this.ngModel=e,("checkbox"==n.type||"radio"==n.type)&&(this.mode=n.type,this.iconEl=t[0].children[0],this.buttonEl=t[0].children[1],e&&this.initClickListeners())},e.prototype.clearNgAria=function(){var e=this.$element[0],n=["role","tabindex","aria-invalid","aria-checked"];t.forEach(n,function(t){e.removeAttribute(t)})},e.prototype.initClickListeners=function(){function e(){if("radio"==s){var e=a.ngValue?r.$eval(a.ngValue):a.value;return o.$modelValue==e}return o.$modelValue}function n(e){e?d.off("click",c):d.on("click",c)}var i=this,o=this.ngModel,r=this.$scope,a=this.$attrs,s=(this.$element,this.mode);this.handleClick=t.bind(this,this.handleClick);var l=this.iconEl,d=t.element(this.buttonEl),c=this.handleClick;a.$observe("disabled",n),n(a.disabled),o.$render=function(){i.clearNgAria(),e()?(l.style.display="",d.attr("aria-checked","true")):(l.style.display="none",d.attr("aria-checked","false"))},r.$$postDigest(o.$render)},e.prototype.handleClick=function(e){var t,n=this.mode,i=this.ngModel,o=this.$attrs;"checkbox"==n?t=!i.$modelValue:"radio"==n&&(t=o.ngValue?this.$scope.$eval(o.ngValue):o.value),i.$setViewValue(t),i.$render()}}(),function(){function e(){return{require:["mdMenuItem","?ngModel"],priority:210,compile:function(e,n){function i(n,i,o){o=o||e,o instanceof t.element&&(o=o[0]),o.hasAttribute(n)||o.setAttribute(n,i)}function o(t){if(e[0].hasAttribute(t)){var n=e[0].getAttribute(t);a[0].setAttribute(t,n),e[0].removeAttribute(t)}}if("checkbox"==n.type||"radio"==n.type){var r=e[0].textContent,a=t.element('<md-button type="button"></md-button>');a.html(r),a.attr("tabindex","0"),e.html(""),e.append(t.element('<md-icon md-svg-icon="check"></md-icon>')),e.append(a),e[0].classList.add("md-indent"),i("role","checkbox"==n.type?"menuitemcheckbox":"menuitemradio",a),t.forEach(["ng-disabled"],o)}else i("role","menuitem",e[0].querySelector("md-button,button,a"));return function(e,t,n,i){var o=i[0],r=i[1];o.init(r)}},controller:"MenuItemController"}}t.module("material.components.menuBar").directive("mdMenuItem",e)}(),function(){function e(){function e(e,i,o,r){if(r){var a=r.getTabElementIndex(i),s=n(i,"md-tab-body").remove(),l=n(i,"md-tab-label").remove(),d=r.insertTab({scope:e,parent:e.$parent,index:a,element:i,template:s.html(),label:l.html()},a);e.select=e.select||t.noop,e.deselect=e.deselect||t.noop,e.$watch("active",function(e){e&&r.select(d.getIndex())}),e.$watch("disabled",function(){r.refreshIndex()}),e.$watch(function(){return r.getTabElementIndex(i)},function(e){d.index=e,r.updateTabOrder()}),e.$on("$destroy",function(){r.removeTab(d)})}}function n(e,n){for(var i=e[0].children,o=0,r=i.length;r>o;o++){var a=i[o];if(a.tagName===n.toUpperCase())return t.element(a)}return t.element()}return{require:"^?mdTabs",terminal:!0,compile:function(i,o){var r=n(i,"md-tab-label"),a=n(i,"md-tab-body");if(0==r.length&&(r=t.element("<md-tab-label></md-tab-label>"),o.label?r.text(o.label):r.append(i.contents()),0==a.length)){var s=i.contents().detach();a=t.element("<md-tab-body></md-tab-body>"),a.append(s)}return i.append(r),a.html()&&i.append(a),e},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}}t.module("material.components.tabs").directive("mdTab",e)}(),function(){function e(){return{require:"^?mdTabs",link:function(e,t,n,i){i&&i.attachRipple(e,t)}}}t.module("material.components.tabs").directive("mdTabItem",e)}(),function(){function e(){return{terminal:!0}}t.module("material.components.tabs").directive("mdTabLabel",e)}(),function(){function e(e){return{restrict:"A",compile:function(t,n){var i=e(n.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){i(e,{$event:t})})})}}}}t.module("material.components.tabs").directive("mdTabScroll",e),e.$inject=["$parse"]}(),function(){function e(e,i,o,r,a,s,l,d,c,h){function u(){le.selectedIndex=le.selectedIndex||0,p(),f(),m(),h(i),s.nextTick(function(){ie(),J(),oe(),le.tabs[le.selectedIndex]&&le.tabs[le.selectedIndex].scope.select(),pe=!0,j()})}function p(){var e=d.$mdTabsTemplate,n=t.element(ce.data);n.html(e),c(n.contents())(le.parent),delete d.$mdTabsTemplate}function m(){t.element(o).on("resize",D),e.$on("$destroy",y)}function f(){e.$watch("$mdTabsCtrl.selectedIndex",S)}function g(e,t){var n=d.$normalize("md-"+e);t&&V(e,t),d.$observe(n,function(t){le[e]=t})}function v(e,t){function n(t){le[e]="false"!==t}var i=d.$normalize("md-"+e);t&&V(e,t),d.hasOwnProperty(i)&&n(d[i]),d.$observe(i,n)}function y(){ue=!0,t.element(o).off("resize",D)}function b(e){t.element(ce.wrapper).toggleClass("md-stretch-tabs",W()),oe()}function _(e){le.shouldCenterTabs=q()}function x(e,t){e!==t&&s.nextTick(le.updateInkBarStyles)}function E(e,t){e!==t&&(le.maxTabWidth=X(),le.shouldCenterTabs=q(),s.nextTick(function(){le.maxTabWidth=X(),J(le.selectedIndex)}))}function C(e){i[e?"removeClass":"addClass"]("md-no-tab-content")}function w(n){var i=le.shouldCenterTabs?"":"-"+n+"px";t.element(ce.paging).css(r.CSS.TRANSFORM,"translate3d("+i+", 0, 0)"),e.$broadcast("$mdTabsPaginationChanged")}function T(e,t){e!==t&&ce.tabs[e]&&(J(),Q())}function S(t,n){t!==n&&(le.selectedIndex=U(t),le.lastSelectedIndex=n,le.updateInkBarStyles(),ie(),J(t),e.$broadcast("$mdTabsChanged"),le.tabs[n]&&le.tabs[n].scope.deselect(),le.tabs[t]&&le.tabs[t].scope.select())}function M(e){var t=i[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(t,e[0])}function $(){$.watcher||($.watcher=e.$watch(function(){s.nextTick(function(){$.watcher&&i.prop("offsetParent")&&($.watcher(),$.watcher=null,D())},!1)}))}function k(e){switch(e.keyCode){case r.KEY_CODE.LEFT_ARROW:e.preventDefault(),K(-1,!0);break;case r.KEY_CODE.RIGHT_ARROW:e.preventDefault(),K(1,!0);break;case r.KEY_CODE.SPACE:case r.KEY_CODE.ENTER:e.preventDefault(),de||(le.selectedIndex=le.focusIndex)}le.lastClick=!1}function A(e){de||(le.focusIndex=le.selectedIndex=e),le.lastClick=!0,s.nextTick(function(){le.tabs[e].element.triggerHandler("click")},!1)}function L(e){le.shouldPaginate&&(e.preventDefault(),le.offsetLeft=ae(le.offsetLeft-e.wheelDelta))}function N(){var e,t,n=ce.canvas.clientWidth,i=n+le.offsetLeft;for(e=0;e<ce.tabs.length&&(t=ce.tabs[e],!(t.offsetLeft+t.offsetWidth>i));e++);le.offsetLeft=ae(t.offsetLeft)}function O(){var e,t;for(e=0;e<ce.tabs.length&&(t=ce.tabs[e],!(t.offsetLeft+t.offsetWidth>=le.offsetLeft));e++);le.offsetLeft=ae(t.offsetLeft+t.offsetWidth-ce.canvas.clientWidth)}function D(){le.lastSelectedIndex=le.selectedIndex,le.offsetLeft=ae(le.offsetLeft),s.nextTick(function(){le.updateInkBarStyles(),j()})}function z(e){t.element(ce.inkBar).toggleClass("ng-hide",e)}function I(e){i.toggleClass("md-dynamic-height",e)}function R(e){if(!ue){var t=le.selectedIndex,n=le.tabs.splice(e.getIndex(),1)[0];ne(),le.selectedIndex===t&&(n.scope.deselect(),le.tabs[le.selectedIndex]&&le.tabs[le.selectedIndex].scope.select()),s.nextTick(function(){j(),le.offsetLeft=ae(le.offsetLeft)})}}function H(e,n){var i=pe,o={getIndex:function(){return le.tabs.indexOf(r)},isActive:function(){return this.getIndex()===le.selectedIndex},isLeft:function(){return this.getIndex()<le.selectedIndex},isRight:function(){return this.getIndex()>le.selectedIndex},shouldRender:function(){return!le.noDisconnect||this.isActive()},hasFocus:function(){return!le.lastClick&&le.hasFocus&&this.getIndex()===le.focusIndex},id:s.nextUid()},r=t.extend(o,e);return t.isDefined(n)?le.tabs.splice(n,0,r):le.tabs.push(r),ee(),te(),s.nextTick(function(){j(),i&&le.autoselect&&s.nextTick(function(){s.nextTick(function(){A(le.tabs.indexOf(r))})})}),r}function P(){var e={};return e.wrapper=i[0].getElementsByTagName("md-tabs-wrapper")[0],e.data=i[0].getElementsByTagName("md-tab-data")[0],e.canvas=e.wrapper.getElementsByTagName("md-tabs-canvas")[0],e.paging=e.canvas.getElementsByTagName("md-pagination-wrapper")[0],e.tabs=e.paging.getElementsByTagName("md-tab-item"),e.dummies=e.canvas.getElementsByTagName("md-dummy-tab"),e.inkBar=e.paging.getElementsByTagName("md-ink-bar")[0],e.contentsWrapper=i[0].getElementsByTagName("md-tabs-content-wrapper")[0],e.contents=e.contentsWrapper.getElementsByTagName("md-tab-content"),e}function F(){return le.offsetLeft>0}function B(){var e=ce.tabs[ce.tabs.length-1];return e&&e.offsetLeft+e.offsetWidth>ce.canvas.clientWidth+le.offsetLeft}function W(){switch(le.stretchTabs){case"always":return!0;case"never":return!1;default:return!le.shouldPaginate&&o.matchMedia("(max-width: 600px)").matches}}function q(){return le.centerTabs&&!le.shouldPaginate}function Y(){if(le.noPagination||!pe)return!1;var e=i.prop("clientWidth");return t.forEach(P().dummies,function(t){e-=t.offsetWidth}),0>e}function U(e){if(-1===e)return-1;var t,n,i=Math.max(le.tabs.length-e,e);for(t=0;i>=t;t++){if(n=le.tabs[e+t],n&&n.scope.disabled!==!0)return n.getIndex();if(n=le.tabs[e-t],n&&n.scope.disabled!==!0)return n.getIndex()}return e}function V(e,t,n){Object.defineProperty(le,e,{get:function(){return n},set:function(e){var i=n;n=e,t&&t(e,i)}})}function j(){W()||G(),le.maxTabWidth=X(),le.shouldPaginate=Y()}function G(){var e=1;t.forEach(P().dummies,function(t){e+=Math.ceil(t.offsetWidth)}),t.element(ce.paging).css("width",e+"px")}function X(){return i.prop("clientWidth")}function Z(){var e=le.tabs[le.selectedIndex],t=le.tabs[le.focusIndex];le.tabs=le.tabs.sort(function(e,t){return e.index-t.index}),le.selectedIndex=le.tabs.indexOf(e),le.focusIndex=le.tabs.indexOf(t)}function K(e,t){var n,i=t?"focusIndex":"selectedIndex",o=le[i];for(n=o+e;le.tabs[n]&&le.tabs[n].scope.disabled;n+=e);le.tabs[n]&&(le[i]=n)}function Q(){P().dummies[le.focusIndex].focus()}function J(e){if(null==e&&(e=le.focusIndex),ce.tabs[e]&&!le.shouldCenterTabs){var t=ce.tabs[e],n=t.offsetLeft,i=t.offsetWidth+n;le.offsetLeft=Math.max(le.offsetLeft,ae(i-ce.canvas.clientWidth+64)),le.offsetLeft=Math.min(le.offsetLeft,ae(n))}}function ee(){he.forEach(function(e){s.nextTick(e)}),he=[]}function te(){var e=!1;t.forEach(le.tabs,function(t){t.template&&(e=!0)}),le.hasContent=e}function ne(){le.selectedIndex=U(le.selectedIndex),le.focusIndex=U(le.focusIndex)}function ie(){if(!le.dynamicHeight)return i.css("height","");if(!le.tabs.length)return he.push(ie);var e=ce.contents[le.selectedIndex],t=e?e.offsetHeight:0,o=ce.wrapper.offsetHeight,r=t+o,a=i.prop("clientHeight");if(a!==r){"bottom"===i.attr("md-align-tabs")&&(a-=o,r-=o,i.attr("md-border-bottom")!==n&&++a),de=!0;var d={height:a+"px"},c={height:r+"px"};i.css(d),l(i,{from:d,to:c,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){i.css({transition:"none",height:""}),s.nextTick(function(){i.css("transition","")}),de=!1})}}function oe(){if(!ce.tabs[le.selectedIndex])return void t.element(ce.inkBar).css({left:"auto",right:"auto"});if(!le.tabs.length)return he.push(le.updateInkBarStyles);if(!i.prop("offsetParent"))return $();var e,n=le.selectedIndex,o=ce.paging.offsetWidth,r=ce.tabs[n],a=r.offsetLeft,l=o-a-r.offsetWidth;le.shouldCenterTabs&&(e=Array.prototype.slice.call(ce.tabs).reduce(function(e,t){return e+t.offsetWidth},0),o>e&&s.nextTick(oe,!1)),re(),t.element(ce.inkBar).css({left:a+"px",right:l+"px"})}function re(){var e=le.selectedIndex,n=le.lastSelectedIndex,i=t.element(ce.inkBar);t.isNumber(n)&&i.toggleClass("md-left",n>e).toggleClass("md-right",e>n)}function ae(e){if(!ce.tabs.length||!le.shouldPaginate)return 0;var t=ce.tabs[ce.tabs.length-1],n=t.offsetLeft+t.offsetWidth;return e=Math.max(0,e),e=Math.min(n-ce.canvas.clientWidth,e)}function se(e,n){var i={colorElement:t.element(ce.inkBar)};a.attach(e,n,i)}var le=this,de=!1,ce=P(),he=[],ue=!1,pe=!1;g("stretchTabs",b),V("focusIndex",T,le.selectedIndex||0),V("offsetLeft",w,0),V("hasContent",C,!1),V("maxTabWidth",x,X()),V("shouldPaginate",E,!1),v("noInkBar",z),v("dynamicHeight",I),v("noPagination"),v("swipeContent"),v("noDisconnect"),v("autoselect"),v("centerTabs",_,!1),v("enableDisconnect"),le.scope=e,le.parent=e.$parent,le.tabs=[],le.lastSelectedIndex=null,le.hasFocus=!1,le.lastClick=!0,le.shouldCenterTabs=q(),le.updatePagination=s.debounce(j,100),le.redirectFocus=Q,le.attachRipple=se,le.insertTab=H,le.removeTab=R,le.select=A,le.scroll=L,le.nextPage=N,le.previousPage=O,le.keydown=k,le.canPageForward=B,le.canPageBack=F,le.refreshIndex=ne,le.incrementIndex=K,le.getTabElementIndex=M,le.updateInkBarStyles=s.debounce(oe,100),le.updateTabOrder=s.debounce(Z,100),u()}t.module("material.components.tabs").controller("MdTabsController",e),e.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming"]}(),function(){function e(){return{scope:{selectedIndex:"=?mdSelected"},template:function(e,t){return t.$mdTabsTemplate=e.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-icon="md-tabs-arrow"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-icon="md-tabs-arrow"></md-icon> </md-next-button> <md-tabs-canvas tabindex="{{ $mdTabsCtrl.hasFocus ? -1 : 0 }}" aria-activedescendant="tab-item-{{$mdTabsCtrl.tabs[$mdTabsCtrl.focusIndex].id}}" ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)" role="tablist"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)"> <md-tab-item tabindex="-1" class="md-tab" style="max-width: {{ $mdTabsCtrl.maxTabWidth + \'px\' }}" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" aria-controls="tab-content-{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <div class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" id="tab-item-{{::tab.id}}" role="tab" aria-controls="tab-content-{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </div> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0"> <md-tab-content id="tab-content-{{::tab.id}}" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="$mdTabsCtrl.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}t.module("material.components.tabs").directive("mdTabs",e)}(),function(){function e(e,t){function n(n,i,o,r){function a(){n.$watch("connected",function(e){e===!1?s():l()}),n.$on("$destroy",l)}function s(){r.enableDisconnect&&t.disconnectScope(d)}function l(){r.enableDisconnect&&t.reconnectScope(d)}if(r){var d=r.enableDisconnect?n.compileScope.$new():n.compileScope;return i.html(n.template),e(i.contents())(d),i.on("DOMSubtreeModified",function(){r.updatePagination(),r.updateInkBarStyles()}),t.nextTick(a)}}return{restrict:"A",link:n,scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}t.module("material.components.tabs").directive("mdTabsTemplate",e),e.$inject=["$compile","$mdUtil"]}(),function(){t.module("material.core").constant("$MD_THEME_CSS","md-autocomplete.md-THEME_NAME-theme {  background: '{{background-50}}'; }  md-autocomplete.md-THEME_NAME-theme[disabled] {    background: '{{background-100}}'; }  md-autocomplete.md-THEME_NAME-theme button md-icon path {    fill: '{{background-600}}'; }  md-autocomplete.md-THEME_NAME-theme button:after {    background: '{{background-600-0.3}}'; }.md-autocomplete-suggestions-container.md-THEME_NAME-theme {  background: '{{background-50}}'; }  .md-autocomplete-suggestions-container.md-THEME_NAME-theme li {    color: '{{background-900}}'; }    .md-autocomplete-suggestions-container.md-THEME_NAME-theme li .highlight {      color: '{{background-600}}'; }    .md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover, .md-autocomplete-suggestions-container.md-THEME_NAME-theme li.selected {      background: '{{background-200}}'; }md-backdrop {  background-color: '{{background-900-0.0}}'; }  md-backdrop.md-opaque.md-THEME_NAME-theme {    background-color: '{{background-900-1.0}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }a.md-button.md-THEME_NAME-theme:not([disabled]):hover,.md-button.md-THEME_NAME-theme:not([disabled]):hover {  background-color: '{{background-500-0.2}}'; }a.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]).md-focused {  background-color: '{{background-500-0.2}}'; }a.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover,.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover {  background-color: transparent; }a.md-button.md-THEME_NAME-theme.md-fab,.md-button.md-THEME_NAME-theme.md-fab {  background-color: '{{accent-color}}';  color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab md-icon,  .md-button.md-THEME_NAME-theme.md-fab md-icon {    color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {    background-color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {    background-color: '{{accent-A700}}'; }a.md-button.md-THEME_NAME-theme.md-primary,.md-button.md-THEME_NAME-theme.md-primary {  color: '{{primary-color}}'; }  a.md-button.md-THEME_NAME-theme.md-primary.md-raised, a.md-button.md-THEME_NAME-theme.md-primary.md-fab,  .md-button.md-THEME_NAME-theme.md-primary.md-raised,  .md-button.md-THEME_NAME-theme.md-primary.md-fab {    color: '{{primary-contrast}}';    background-color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon {      color: '{{primary-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover {      background-color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused {      background-color: '{{primary-600}}'; }  a.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon,  .md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon {    color: '{{primary-color}}'; }a.md-button.md-THEME_NAME-theme.md-fab,.md-button.md-THEME_NAME-theme.md-fab {  background-color: '{{accent-color}}';  color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon {    color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {    background-color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {    background-color: '{{accent-A700}}'; }a.md-button.md-THEME_NAME-theme.md-raised,.md-button.md-THEME_NAME-theme.md-raised {  color: '{{background-900}}';  background-color: '{{background-50}}'; }  a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon,  .md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon {    color: '{{background-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover,  .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover {    background-color: '{{background-50}}'; }  a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused,  .md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused {    background-color: '{{background-200}}'; }a.md-button.md-THEME_NAME-theme.md-warn,.md-button.md-THEME_NAME-theme.md-warn {  color: '{{warn-color}}'; }  a.md-button.md-THEME_NAME-theme.md-warn.md-raised, a.md-button.md-THEME_NAME-theme.md-warn.md-fab,  .md-button.md-THEME_NAME-theme.md-warn.md-raised,  .md-button.md-THEME_NAME-theme.md-warn.md-fab {    color: '{{warn-contrast}}';    background-color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon {      color: '{{warn-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover {      background-color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused {      background-color: '{{warn-700}}'; }  a.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon,  .md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon {    color: '{{warn-color}}'; }a.md-button.md-THEME_NAME-theme.md-accent,.md-button.md-THEME_NAME-theme.md-accent {  color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme.md-accent.md-raised, a.md-button.md-THEME_NAME-theme.md-accent.md-fab,  .md-button.md-THEME_NAME-theme.md-accent.md-raised,  .md-button.md-THEME_NAME-theme.md-accent.md-fab {    color: '{{accent-contrast}}';    background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused {      background-color: '{{accent-700}}'; }  a.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon,  .md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon {    color: '{{accent-color}}'; }a.md-button.md-THEME_NAME-theme[disabled], a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], a.md-button.md-THEME_NAME-theme.md-accent[disabled], a.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled] {  color: '{{foreground-3}}' !important;  cursor: default; }  a.md-button.md-THEME_NAME-theme[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,  .md-button.md-THEME_NAME-theme[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon {    color: '{{foreground-3}}'; }a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled] {  background-color: '{{foreground-4}}'; }a.md-button.md-THEME_NAME-theme[disabled],.md-button.md-THEME_NAME-theme[disabled] {  background-color: transparent; }md-card.md-THEME_NAME-theme {  background-color: '{{background-color}}';  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }  md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon {    color: '{{background-color}}';    background-color: '{{foreground-3}}'; }  md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead {    color: '{{foreground-2}}'; }  md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead {    color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme .md-ink-ripple {  color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{accent-contrast-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple {  color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{primary-contrast-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple {  color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-label {  color: '{{foreground-3}}'; }md-chips.md-THEME_NAME-theme .md-chips {  box-shadow: 0 1px '{{background-300}}'; }  md-chips.md-THEME_NAME-theme .md-chips.md-focused {    box-shadow: 0 2px '{{primary-color}}'; }md-chips.md-THEME_NAME-theme .md-chip {  background: '{{background-300}}';  color: '{{background-800}}'; }  md-chips.md-THEME_NAME-theme .md-chip.md-focused {    background: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-chips.md-THEME_NAME-theme .md-chip.md-focused md-icon {      color: '{{primary-contrast}}'; }md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path {  fill: '{{background-500}}'; }.md-contact-suggestion span.md-contact-email {  color: '{{background-400}}'; }md-content.md-THEME_NAME-theme {  color: '{{foreground-1}}';  background-color: '{{background-color}}'; }/** Theme styles for mdCalendar. */.md-calendar.md-THEME_NAME-theme {  color: '{{foreground-1}}'; }  .md-calendar.md-THEME_NAME-theme tr:last-child td {    border-bottom-color: '{{background-200}}'; }.md-THEME_NAME-theme .md-calendar-day-header {  background: '{{background-hue-1}}';  color: '{{foreground-1}}'; }.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator {  border: 1px solid '{{primary-500}}'; }.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled {  color: '{{primary-500-0.6}}'; }.md-THEME_NAME-theme .md-calendar-date.md-focus .md-calendar-date-selection-indicator {  background: '{{background-hue-1}}'; }.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover {  background: '{{background-hue-1}}'; }.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator {  background: '{{primary-500}}';  color: '{{primary-500-contrast}}';  border-color: transparent; }.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled {  color: '{{foreground-3}}'; }/** Theme styles for mdDatepicker. */md-datepicker.md-THEME_NAME-theme {  background: '{{background-color}}'; }.md-THEME_NAME-theme .md-datepicker-input {  color: '{{background-contrast}}';  background: '{{background-color}}'; }  .md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder, .md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder, .md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder, .md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder {    color: \"{{foreground-3}}\"; }.md-THEME_NAME-theme .md-datepicker-input-container {  border-bottom-color: '{{background-300}}'; }  .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused {    border-bottom-color: '{{primary-500}}'; }  .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid {    border-bottom-color: '{{warn-A700}}'; }.md-THEME_NAME-theme .md-datepicker-calendar-pane {  border-color: '{{background-300}}'; }.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle {  border-top-color: '{{foreground-3}}'; }.md-THEME_NAME-theme .md-datepicker-triangle-button:hover .md-datepicker-expand-triangle {  border-top-color: '{{foreground-2}}'; }.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon {  fill: '{{primary-500}}'; }.md-THEME_NAME-theme .md-datepicker-calendar,.md-THEME_NAME-theme .md-datepicker-input-mask-opaque {  background: '{{background-color}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-color}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions, md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions {    border-top-color: '{{foreground-4}}'; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }.layout-row > md-divider.md-THEME_NAME-theme {  border-right-color: '{{foreground-4}}'; }md-icon.md-THEME_NAME-theme {  color: '{{foreground-2}}'; }  md-icon.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  md-icon.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  md-icon.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: \"{{foreground-3}}\"; }md-input-container.md-THEME_NAME-theme > md-icon {  color: '{{foreground-1}}'; }md-input-container.md-THEME_NAME-theme label,md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme ng-messages :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [ng-messages] :not(.md-char-counter),md-input-container.md-THEME_NAME-theme ng-message :not(.md-char-counter), md-input-container.md-THEME_NAME-theme data-ng-message :not(.md-char-counter), md-input-container.md-THEME_NAME-theme x-ng-message :not(.md-char-counter),md-input-container.md-THEME_NAME-theme [ng-message] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [data-ng-message] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [x-ng-message] :not(.md-char-counter),md-input-container.md-THEME_NAME-theme [ng-message-exp] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [data-ng-message-exp] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [x-ng-message-exp] :not(.md-char-counter) {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid.md-input-focused label {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message,md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message],md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message-exp], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message-exp], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message-exp],md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled],md-input-container.md-THEME_NAME-theme .md-input [disabled] {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, \"{{foreground-3}}\" 0%, \"{{foreground-3}}\" 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, \"{{foreground-3}}\" 100%); }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4 {  color: '{{foreground-1}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p {  color: '{{foreground-2}}'; }md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style {  background-color: '{{background-100}}'; }md-list.md-THEME_NAME-theme md-list-item > .md-avatar-icon {  background-color: '{{foreground-3}}';  color: '{{background-color}}'; }md-list.md-THEME_NAME-theme md-list-item > md-icon {  color: '{{foreground-2}}'; }  md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight {    color: '{{primary-color}}'; }    md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight.md-accent {      color: '{{accent-color}}'; }md-menu-content.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }  md-menu-content.md-THEME_NAME-theme md-menu-divider {    background-color: '{{foreground-4}}'; }md-menu-bar.md-THEME_NAME-theme > button.md-button {  color: '{{foreground-2}}';  border-radius: 2px; }md-menu-bar.md-THEME_NAME-theme md-menu.md-open > button, md-menu-bar.md-THEME_NAME-theme md-menu > button:focus {  outline: none;  background: '{{background-200}}'; }md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover > button {  background-color: '{{ background-500-0.2}}'; }md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus {  background: transparent; }md-menu-content.md-THEME_NAME-theme .md-menu > .md-button:after {  color: '{{foreground-2}}'; }md-menu-content.md-THEME_NAME-theme .md-menu.md-open > .md-button {  background-color: '{{ background-500-0.2}}'; }md-toolbar.md-THEME_NAME-theme.md-menu-toolbar {  background-color: '{{background-color}}';  color: '{{foreground-1}}'; }  md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler {    background-color: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon {      color: '{{primary-contrast}}'; }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient(\"{{warn-100}}\" 0%, \"{{warn-100}}\" 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient(\"{{accent-100}}\" 0%, \"{{accent-100}}\" 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-group.md-THEME_NAME-theme[disabled],md-radio-button.md-THEME_NAME-theme[disabled] {  color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,  md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {    border-color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on,  md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {    border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple {  color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple, md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple {  color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme .md-checked.md-primary .md-ink-ripple {  color: '{{warn-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-value {  border-bottom-color: transparent;  background-image: linear-gradient(to right, \"{{foreground-3}}\" 0%, \"{{foreground-3}}\" 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, \"{{foreground-3}}\" 100%); }md-select.md-THEME_NAME-theme .md-select-value {  border-bottom-color: '{{foreground-4}}'; }  md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }md-select.md-THEME_NAME-theme.ng-invalid.ng-dirty .md-select-value {  color: '{{warn-A700}}' !important;  border-bottom-color: '{{warn-A700}}' !important; }md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value {  border-bottom-color: '{{primary-color}}';  color: '{{ foreground-1 }}'; }  md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder {    color: '{{ foreground-1 }}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value {  border-bottom-color: '{{accent-color}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value {  border-bottom-color: '{{warn-color}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-value {  color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }md-select-menu.md-THEME_NAME-theme md-option[disabled] {  color: '{{foreground-3}}'; }md-select-menu.md-THEME_NAME-theme md-optgroup {  color: '{{foreground-2}}'; }  md-select-menu.md-THEME_NAME-theme md-optgroup md-option {    color: '{{foreground-1}}'; }md-select-menu.md-THEME_NAME-theme md-option[selected] {  color: '{{primary-500}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected]:focus {    color: '{{primary-600}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent {    color: '{{accent-500}}'; }    md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent:focus {      color: '{{accent-600}}'; }md-select-menu.md-THEME_NAME-theme md-option:focus:not([disabled]):not([selected]) {  background: '{{background-200}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-ink-ripple {  color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before {  background-color: '{{accent-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-ink-ripple {  color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before {  background-color: '{{primary-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-ink-ripple {  color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before {  background-color: '{{warn-color-0.26}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: transparent;  border-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme .md-paginator md-icon {  color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme .md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme .md-tab[disabled], md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-active, md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon, md-tabs.md-THEME_NAME-theme .md-tab.md-focused, md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    background: '{{primary-color-0.1}}'; }  md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-100}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{accent-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{primary-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{warn-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{primary-contrast}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-100}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{accent-contrast}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{warn-contrast}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toast.md-THEME_NAME-theme .md-toast-content {  background-color: #323232;  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-toast-content .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button:not(.md-raised) {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-content {    background-color: '{{foreground-2}}'; }");
}()}(window,window.angular),window.ngMaterial={version:{full:"1.0.1"}},angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$injector",function(e,t){var n=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(t,i,o){function r(){i.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),n?n(i,{addClass:"in",easing:"ease",to:{height:i[0].scrollHeight+"px"}}).start()["finally"](a):e.addClass(i,"in",{to:{height:i[0].scrollHeight+"px"}}).then(a)}function a(){i.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function s(){return i.hasClass("collapse")||i.hasClass("in")?(i.css({height:i[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(n?n(i,{removeClass:"in",to:{height:"0"}}).start()["finally"](l):e.removeClass(i,"in",{to:{height:"0"}}).then(l))):l()}function l(){i.css({height:"0"}),i.removeClass("collapsing").addClass("collapse")}t.$watch(o.uibCollapse,function(e){e?s():r()})}}}]),angular.module("ui.bootstrap.collapse").value("$collapseSuppressWarning",!1).directive("collapse",["$animate","$injector","$log","$collapseSuppressWarning",function(e,t,n,i){var o=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(t,r,a){function s(){r.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),o?o(r,{easing:"ease",to:{height:r[0].scrollHeight+"px"}}).start().done(l):e.animate(r,{},{height:r[0].scrollHeight+"px"}).then(l)}function l(){r.removeClass("collapsing").addClass("collapse in").css({height:"auto"})}function d(){return r.hasClass("collapse")||r.hasClass("in")?(r.css({height:r[0].scrollHeight+"px"}).removeClass("collapse in").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(o?o(r,{to:{height:"0"}}).start().done(c):e.animate(r,{},{height:"0"}).then(c))):c()}function c(){r.css({height:"0"}),r.removeClass("collapsing").addClass("collapse")}i||n.warn("collapse is now deprecated. Use uib-collapse instead."),t.$watch(a.collapse,function(e){e?d():s()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var o=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;o&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,o){i.setHeading(o(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:["?^uibAccordionGroup","?^accordionGroup"],link:function(e,t,n,i){i=i[0]?i[0]:i[1],e.$watch(function(){return i[n.uibAccordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.accordion").value("$accordionSuppressWarning",!1).controller("AccordionController",["$scope","$attrs","$controller","$log","$accordionSuppressWarning",function(e,t,n,i,o){o||i.warn("AccordionController is now deprecated. Use UibAccordionController instead."),angular.extend(this,n("UibAccordionController",{$scope:e,$attrs:t}))}]).directive("accordion",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"},link:function(){t||e.warn("accordion is now deprecated. Use uib-accordion instead.")}}}]).directive("accordionGroup",["$log","$accordionSuppressWarning",function(e,t){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(n,i,o,r){t||e.warn("accordion-group is now deprecated. Use uib-accordion-group instead."),r.addGroup(n),n.openClass=o.openClass||"panel-open",n.panelClass=o.panelClass,n.$watch("isOpen",function(e){i.toggleClass(n.openClass,!!e),e&&r.closeOthers(n)}),n.toggleOpen=function(e){n.isDisabled||e&&32!==e.which||(n.isOpen=!n.isOpen)}}}}]).directive("accordionHeading",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(n,i,o,r,a){t||e.warn("accordion-heading is now deprecated. Use uib-accordion-heading instead."),r.setHeading(a(n,angular.noop))}}}]).directive("accordionTransclude",["$log","$accordionSuppressWarning",function(e,t){return{require:"^accordionGroup",link:function(n,i,o,r){t||e.warn("accordion-transclude is now deprecated. Use uib-accordion-transclude instead."),n.$watch(function(){return r[o.accordionTransclude]},function(e){e&&(i.find("span").html(""),i.find("span").append(e))})}}}]),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(e,t,n,i){e.closeable=!!t.close;var o=angular.isDefined(t.dismissOnTimeout)?n(t.dismissOnTimeout)(e.$parent):null;o&&i(function(){e.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.alert").value("$alertSuppressWarning",!1).controller("AlertController",["$scope","$attrs","$controller","$log","$alertSuppressWarning",function(e,t,n,i,o){o||i.warn("AlertController is now deprecated. Use UibAlertController instead."),angular.extend(this,n("UibAlertController",{$scope:e,$attrs:t}))}]).directive("alert",["$log","$alertSuppressWarning",function(e,t){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(){t||e.warn("alert is now deprecated. Use uib-alert instead.")}}}]),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",function(){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,t,n,i){var o=i[0],r=i[1];t.find("input").css({display:"none"}),r.$render=function(){t.toggleClass(o.activeClass,angular.equals(r.$modelValue,e.$eval(n.uibBtnRadio)))},t.on(o.toggleEvent,function(){if(!n.disabled){var i=t.hasClass(o.activeClass);(!i||angular.isDefined(n.uncheckable))&&e.$apply(function(){r.$setViewValue(i?null:e.$eval(n.uibBtnRadio)),r.$render()})}})}}}).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,i){function o(){return a(n.btnCheckboxTrue,!0)}function r(){return a(n.btnCheckboxFalse,!1)}function a(t,n){return angular.isDefined(t)?e.$eval(t):n}var s=i[0],l=i[1];t.find("input").css({display:"none"}),l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,o()))},t.on(s.toggleEvent,function(){n.disabled||e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?r():o()),l.$render()})})}}}),angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning",!1).controller("ButtonsController",["$controller","$log","$buttonsSuppressWarning",function(e,t,n){n||t.warn("ButtonsController is now deprecated. Use UibButtonsController instead."),angular.extend(this,e("UibButtonsController"))}]).directive("btnRadio",["$log","$buttonsSuppressWarning",function(e,t){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(n,i,o,r){t||e.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");var a=r[0],s=r[1];i.find("input").css({display:"none"}),s.$render=function(){i.toggleClass(a.activeClass,angular.equals(s.$modelValue,n.$eval(o.btnRadio)))},i.bind(a.toggleEvent,function(){if(!o.disabled){var e=i.hasClass(a.activeClass);(!e||angular.isDefined(o.uncheckable))&&n.$apply(function(){s.$setViewValue(e?null:n.$eval(o.btnRadio)),s.$render()})}})}}}]).directive("btnCheckbox",["$document","$log","$buttonsSuppressWarning",function(e,t,n){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(i,o,r,a){function s(){return d(r.btnCheckboxTrue,!0)}function l(){return d(r.btnCheckboxFalse,!1)}function d(e,t){var n=i.$eval(e);return angular.isDefined(n)?n:t}n||t.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");var c=a[0],h=a[1];o.find("input").css({display:"none"}),h.$render=function(){o.toggleClass(c.activeClass,angular.equals(h.$modelValue,s()))},o.bind(c.toggleEvent,function(){r.disabled||i.$apply(function(){h.$setViewValue(o.hasClass(c.activeClass)?l():s()),h.$render()})}),o.on("keypress",function(t){r.disabled||32!==t.which||e[0].activeElement!==o[0]||i.$apply(function(){h.$setViewValue(o.hasClass(c.activeClass)?l():s()),h.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$animate",function(e,t,n,i){function o(t,n,o){y||(angular.extend(t,{direction:o,active:!0}),angular.extend(u.currentSlide||{},{direction:o,active:!1}),i.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&u.slides.length>1&&(t.$element.data(g,t.direction),u.currentSlide&&u.currentSlide.$element&&u.currentSlide.$element.data(g,t.direction),e.$currentTransition=!0,m?i.on("addClass",t.$element,function(t,n){"close"===n&&(e.$currentTransition=null,i.off("addClass",t))}):t.$element.one("$animate:close",function(){e.$currentTransition=null})),u.currentSlide=t,v=n,a())}function r(e){if(angular.isUndefined(p[e].index))return p[e];var t;for(p.length,t=0;t<p.length;++t)if(p[t].index==e)return p[t]}function a(){s();var t=+e.interval;!isNaN(t)&&t>0&&(c=n(l,t))}function s(){c&&(n.cancel(c),c=null)}function l(){var t=+e.interval;h&&!isNaN(t)&&t>0&&p.length?e.next():e.pause()}function d(t){t.length||(e.$currentTransition=null)}var c,h,u=this,p=u.slides=e.slides=[],m=angular.version.minor>=4,f="uib-noTransition",g="uib-slideDirection",v=-1;u.currentSlide=null;var y=!1;u.select=e.select=function(t,n){var i=e.indexOfSlide(t);void 0===n&&(n=i>u.getCurrentIndex()?"next":"prev"),t&&t!==u.currentSlide&&!e.$currentTransition&&o(t,i,n)},e.$on("$destroy",function(){y=!0}),u.getCurrentIndex=function(){return u.currentSlide&&angular.isDefined(u.currentSlide.index)?+u.currentSlide.index:v},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:p.indexOf(e)},e.next=function(){var t=(u.getCurrentIndex()+1)%p.length;return 0===t&&e.noWrap()?void e.pause():u.select(r(t),"next")},e.prev=function(){var t=u.getCurrentIndex()-1<0?p.length-1:u.getCurrentIndex()-1;return e.noWrap()&&t===p.length-1?void e.pause():u.select(r(t),"prev")},e.isActive=function(e){return u.currentSlide===e},e.$watch("interval",a),e.$watchCollection("slides",d),e.$on("$destroy",s),e.play=function(){h||(h=!0,a())},e.pause=function(){e.noPause||(h=!1,s())},u.addSlide=function(t,n){t.$element=n,p.push(t),1===p.length||t.active?(u.select(p[p.length-1]),1===p.length&&e.play()):t.active=!1},u.removeSlide=function(e){angular.isDefined(e.index)&&p.sort(function(e,t){return+e.index>+t.index});var t=p.indexOf(e);p.splice(t,1),p.length>0&&e.active?t>=p.length?u.select(p[t-1]):u.select(p[t]):v>t&&v--,0===p.length&&(u.currentSlide=null)},e.$watch("noTransition",function(e){t.data(f,e)})}]).directive("uibCarousel",[function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("uibSlide",function(){return{require:"^uibCarousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(t){t&&i.select(e)})}}}).animation(".item",["$injector","$animate",function(e,t){function n(e,t,n){e.removeClass(t),n&&n()}var i="uib-noTransition",o="uib-slideDirection",r=null;return e.has("$animateCss")&&(r=e.get("$animateCss")),{beforeAddClass:function(e,a,s){if("active"==a&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(i)){var l=!1,d=e.data(o),c="next"==d?"left":"right",h=n.bind(this,e,c+" "+d,s);return e.addClass(d),r?r(e,{addClass:c}).start().done(h):t.addClass(e,c).then(function(){l||h(),s()}),function(){l=!0}}s()},beforeRemoveClass:function(e,a,s){if("active"===a&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(i)){var l=!1,d=e.data(o),c="next"==d?"left":"right",h=n.bind(this,e,c,s);return r?r(e,{addClass:c}).start().done(h):t.addClass(e,c).then(function(){l||h(),s()}),function(){l=!0}}s()}}}]),angular.module("ui.bootstrap.carousel").value("$carouselSuppressWarning",!1).controller("CarouselController",["$scope","$element","$controller","$log","$carouselSuppressWarning",function(e,t,n,i,o){o||i.warn("CarouselController is now deprecated. Use UibCarouselController instead."),angular.extend(this,n("UibCarouselController",{$scope:e,$element:t}))}]).directive("carousel",["$log","$carouselSuppressWarning",function(e,t){return{transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"},link:function(){t||e.warn("carousel is now deprecated. Use uib-carousel instead.")}}}]).directive("slide",["$log","$carouselSuppressWarning",function(e,t){return{require:"^carousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(n,i,o,r){t||e.warn("slide is now deprecated. Use uib-slide instead."),r.addSlide(n,i),n.$on("$destroy",function(){r.removeSlide(n)}),n.$watch("active",function(e){e&&r.select(n)})}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","orderByFilter",function(e,t,n){function i(e){var t=[],i=e.split("");return angular.forEach(a,function(n,o){var r=e.indexOf(o);if(r>-1){e=e.split(""),i[r]="("+n.regex+")",e[r]="$";for(var a=r+1,s=r+o.length;s>a;a++)i[a]="",e[a]="$";e=e.join(""),t.push({index:r,apply:n.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:n(t,"index")}}function o(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}var r,a,s=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){r=t.id,this.parsers={},a={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}}},this.init(),this.parse=function(n,a,l){if(!angular.isString(n)||!a)return n;a=t.DATETIME_FORMATS[a]||a,a=a.replace(s,"\\$&"),t.id!==r&&this.init(),this.parsers[a]||(this.parsers[a]=i(a));var d=this.parsers[a],c=d.regex,h=d.map,u=n.match(c);if(u&&u.length){var p,m;angular.isDate(l)&&!isNaN(l.getTime())?p={year:l.getFullYear(),month:l.getMonth(),date:l.getDate(),hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),milliseconds:l.getMilliseconds()}:(l&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,g=u.length;g>f;f++){var v=h[f-1];v.apply&&v.apply.call(p,u[f])}return o(p.year,p.month,p.date)&&(angular.isDate(l)&&!isNaN(l.getTime())?(m=new Date(l),m.setFullYear(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)):m=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),m}}}]),angular.module("ui.bootstrap.dateparser").value("$dateParserSuppressWarning",!1).service("dateParser",["$log","$dateParserSuppressWarning","uibDateParser",function(e,t,n){t||e.warn("dateParser is now deprecated. Use uibDateParser instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var o=function(t){for(var n=e[0],o=t.offsetParent||n;o&&o!==n&&i(o);)o=o.offsetParent;return o||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},r=o(t[0]);r!=e[0]&&(i=this.offset(angular.element(r)),i.top+=r.clientTop-r.scrollTop,i.left+=r.clientLeft-r.scrollLeft);var a=t[0].getBoundingClientRect();return{width:a.width||t.prop("offsetWidth"),height:a.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var o,r,a,s,l=n.split("-"),d=l[0],c=l[1]||"center";o=i?this.offset(e):this.position(e),r=t.prop("offsetWidth"),a=t.prop("offsetHeight");var h={center:function(){return o.left+o.width/2-r/2},left:function(){return o.left},right:function(){return o.left+o.width}},u={center:function(){return o.top+o.height/2-a/2},top:function(){return o.top},bottom:function(){return o.top+o.height}};switch(d){case"right":s={top:u[c](),left:h[d]()};break;case"left":s={top:u[c](),left:o.left-r};break;case"bottom":s={top:u[d](),left:h[c]()};break;default:s={top:o.top-a,left:h[c]()}}return s}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(e,t,n){t||e.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("uibDatepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError",function(e,t,n,i,o,r,a,s){var l=this,d={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,o){l[n]=angular.isDefined(t[n])?6>o?i(t[n])(e.$parent):e.$parent.$eval(t[n]):a[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){l[i]=e?new Date(e):null,l.refreshView()}):l[i]=a[i]?new Date(a[i]):null}),angular.forEach(["minMode","maxMode"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(n){l[i]=angular.isDefined(n)?n:t[i],e[i]=l[i],("minMode"==i&&l.modes.indexOf(e.datepickerMode)<l.modes.indexOf(l[i])||"maxMode"==i&&l.modes.indexOf(e.datepickerMode)>l.modes.indexOf(l[i]))&&(e.datepickerMode=l[i])}):(l[i]=a[i]||null,e[i]=l[i])}),e.datepickerMode=e.datepickerMode||a.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(d.$isEmpty(d.$modelValue)||d.$invalid)&&(l.activeDate=e,l.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){d=e,d.$render=function(){l.render()}},this.render=function(){if(d.$viewValue){var e=new Date(d.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=d.$viewValue?new Date(d.$viewValue):null;d.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=d.$viewValue?new Date(d.$viewValue):null;return{date:e,label:r(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===l.minMode){var n=d.$viewValue?new Date(d.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),d.$setViewValue(n),d.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){l.element[0].focus()};e.$on("uib:datepicker.focus",c),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):e.toggleMode("up"===n?1:-1)}}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?r[t]:29}function o(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var r=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),o=new Date(e),r=0;t>r;)n=new Date(o),i[r++]=n,o.setDate(o.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),r=new Date(this.activeDate);r.setFullYear(t,i,1);var a=this.startingDay-r.getDay(),s=a>0?7-a:-a,l=new Date(r);s>0&&l.setDate(-s+1);for(var d=this.getDates(l,42),c=0;42>c;c++)d[c]=angular.extend(this.createDateObject(d[c],this.formatDay),{secondary:d[c].getMonth()!==i,uid:e.uniqueId+"-"+c});e.labels=new Array(7);for(var h=0;7>h;h++)e.labels[h]={abbr:n(d[h].date,this.formatDayHeader),full:n(d[h].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(d,7),e.showWeeks){e.weekNumbers=[];for(var u=(11-this.startingDay)%7,p=e.rows.length,m=0;p>m;m++)e.weekNumbers.push(o(e.rows[m][u].date))}},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var o=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(o,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,i=new Array(12),o=this.activeDate.getFullYear(),r=0;12>r;r++)t=new Date(this.activeDate),t.setFullYear(o,r,1),i[r]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+r});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(i,3)},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e){return parseInt((e-1)/o,10)*o+1}var o;this.element=t,this.yearpickerInit=function(){o=this.yearRange,this.step={years:o}},this._refreshView=function(){for(var t,n=new Array(o),r=0,a=i(this.activeDate.getFullYear());o>r;r++)t=new Date(this.activeDate),t.setFullYear(a+r,0,1),n[r]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+r});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=this.split(n,5)},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*this.step.years:"home"===e?n=i(this.activeDate.getFullYear()):"end"===e&&(n=i(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var o=i[0],r=i[1];o.init(r)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/day.html"},require:["^?uibDatepicker","uibDaypicker","^?datepicker"],controller:"UibDaypickerController",link:function(e,t,n,i){var o=i[0]||i[2],r=i[1];r.init(o)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/month.html"},require:["^?uibDatepicker","uibMonthpicker","^?datepicker"],controller:"UibMonthpickerController",link:function(e,t,n,i){var o=i[0]||i[2],r=i[1];r.init(o)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/year.html"},require:["^?uibDatepicker","uibYearpicker","^?datepicker"],controller:"UibYearpickerController",link:function(e,t,n,i){var o=i[0]||i[2];angular.extend(o,i[1]),o.yearpickerInit(),o.refreshView()}}}).constant("uibDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout",function(e,t,n,i,o,r,a,s,l,d,c,h){
function u(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function p(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var n=d.parse(t,v,e.date);return isNaN(n)?void 0:n}}function m(e,t){var i=e||t;if(!n.ngRequired&&!i)return!0;if(angular.isNumber(i)&&(i=new Date(i)),i){if(angular.isDate(i)&&!isNaN(i))return!0;if(angular.isString(i)){var o=d.parse(i,v);return!isNaN(o)}return!1}return!0}function f(n){var i=S[0],o=t[0].contains(n.target),r=void 0!==i.contains&&i.contains(n.target);!e.isOpen||o||r||e.$apply(function(){e.isOpen=!1})}function g(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}var v,y,b,_,x,E,C,w,T,S,M={},$=!1;e.watchData={},this.init=function(s){if(T=s,y=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):c.closeOnDateSelection,b=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):c.appendToBody,_=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):c.onOpenFocus,x=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:c.datepickerPopupTemplateUrl,E=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:c.datepickerTemplateUrl,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):c.showButtonBar,c.html5Types[n.type]?(v=c.html5Types[n.type],$=!0):(v=n.datepickerPopup||n.uibDatepickerPopup||c.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||c.datepickerPopup;if(n!==v&&(v=n,T.$modelValue=null,!v))throw new Error("uibDatepickerPopup must have a date format specified.")})),!v)throw new Error("uibDatepickerPopup must have a date format specified.");if($&&n.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");if(C=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),C.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":x}),w=angular.element(C.children()[0]),w.attr("template-url",E),$&&"month"===n.type&&(w.attr("datepicker-mode",'"month"'),w.attr("min-mode","month")),n.datepickerOptions){var h=e.$parent.$eval(n.datepickerOptions);h&&h.initDate&&(e.initDate=h.initDate,w.attr("init-date","initDate"),delete h.initDate),angular.forEach(h,function(e,t){w.attr(u(t),e)})}angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){if(n[t]){var i=o(n[t]);if(e.$parent.$watch(i,function(n){e.watchData[t]=n,("minDate"===t||"maxDate"===t)&&(M[t]=new Date(n))}),w.attr(u(t),"watchData."+t),"datepickerMode"===t){var r=i.assign;e.$watch("watchData."+t,function(t,n){angular.isFunction(r)&&t!==n&&r(e.$parent,t)})}}}),n.dateDisabled&&w.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),n.showWeeks&&w.attr("show-weeks",n.showWeeks),n.customClass&&w.attr("custom-class","customClass({ date: date, mode: mode })"),$?T.$formatters.push(function(t){return e.date=t,t}):(T.$$parserName="date",T.$validators.date=m,T.$parsers.unshift(p),T.$formatters.push(function(t){return e.date=t,T.$isEmpty(t)?t:l(t,v)})),T.$viewChangeListeners.push(function(){e.date=d.parse(T.$viewValue,v,e.date)}),t.bind("keydown",g),S=i(C)(e),C.remove(),b?r.find("body").append(S):t.after(S),e.$on("$destroy",function(){e.isOpen===!0&&(a.$$phase||e.$apply(function(){e.isOpen=!1})),S.remove(),t.unbind("keydown",g),r.unbind("click",f)})},e.getText=function(t){return e[t+"Text"]||c[t+"Text"]},e.isDisabled=function(t){return"today"===t&&(t=new Date),e.watchData.minDate&&e.compare(t,M.minDate)<0||e.watchData.maxDate&&e.compare(t,M.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){angular.isDefined(n)&&(e.date=n);var i=e.date?l(e.date,v):null;t.val(i),T.$setViewValue(i),y&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(e.isOpen=!1,t[0].focus())},e.select=function(t){if("today"===t){var n=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate())):t=new Date(n.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(){e.isOpen=!1,t[0].focus()},e.$watch("isOpen",function(n){n?(e.position=b?s.offset(t):s.position(t),e.position.top=e.position.top+t.prop("offsetHeight"),h(function(){_&&e.$broadcast("uib:datepicker.focus"),r.bind("click",f)},0,!1)):r.unbind("click",f)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(e,t,n,i){var o=i[0],r=i[1];r.init(o)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.datepicker").value("$datepickerSuppressWarning",!1).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","$datepickerSuppressWarning",function(e,t,n,i,o,r,a,s,l){l||o.warn("DatepickerController is now deprecated. Use UibDatepickerController instead.");var d=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,o){d[n]=angular.isDefined(t[n])?6>o?i(t[n])(e.$parent):e.$parent.$eval(t[n]):a[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){d[i]=e?new Date(e):null,d.refreshView()}):d[i]=a[i]?new Date(a[i]):null}),angular.forEach(["minMode","maxMode"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(n){d[i]=angular.isDefined(n)?n:t[i],e[i]=d[i],("minMode"==i&&d.modes.indexOf(e.datepickerMode)<d.modes.indexOf(d[i])||"maxMode"==i&&d.modes.indexOf(e.datepickerMode)>d.modes.indexOf(d[i]))&&(e.datepickerMode=d[i])}):(d[i]=a[i]||null,e[i]=d[i])}),e.datepickerMode=e.datepickerMode||a.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(d.activeDate=e,d.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===d.compare(t.date,d.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){d.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:r(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===d.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else d.activeDate=t,e.datepickerMode=d.modes[d.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=d.activeDate.getFullYear()+e*(d.step.years||0),n=d.activeDate.getMonth()+e*(d.step.months||0);d.activeDate.setFullYear(t,n,1),d.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===d.maxMode&&1===t||e.datepickerMode===d.minMode&&-1===t||(e.datepickerMode=d.modes[d.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var h=function(){d.element[0].focus()};e.$on("uib:datepicker.focus",h),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),d.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(d.isDisabled(d.activeDate))return;e.select(d.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(d.handleKeyDown(n,t),d.refreshView()):e.toggleMode("up"===n?1:-1)}}]).directive("datepicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(n,i,o,r){t||e.warn("datepicker is now deprecated. Use uib-datepicker instead.");var a=r[0],s=r[1];a.init(s)}}}]).directive("daypicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/day.html",require:["^datepicker","daypicker"],controller:"UibDaypickerController",link:function(n,i,o,r){t||e.warn("daypicker is now deprecated. Use uib-daypicker instead.");var a=r[0],s=r[1];s.init(a)}}}]).directive("monthpicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/month.html",require:["^datepicker","monthpicker"],controller:"UibMonthpickerController",link:function(n,i,o,r){t||e.warn("monthpicker is now deprecated. Use uib-monthpicker instead.");var a=r[0],s=r[1];s.init(a)}}}]).directive("yearpicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/year.html",require:["^datepicker","yearpicker"],controller:"UibYearpickerController",link:function(n,i,o,r){t||e.warn("yearpicker is now deprecated. Use uib-yearpicker instead.");var a=r[0];angular.extend(a,r[1]),a.yearpickerInit(),a.refreshView()}}}]).directive("datepickerPopup",["$log","$datepickerSuppressWarning",function(e,t){return{require:["ngModel","datepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(n,i,o,r){t||e.warn("datepicker-popup is now deprecated. Use uib-datepicker-popup instead.");var a=r[0],s=r[1];s.init(a)}}}]).directive("datepickerPopupWrap",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"},link:function(){t||e.warn("datepicker-popup-wrap is now deprecated. Use uib-datepicker-popup-wrap instead.")}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",i),e.bind("keydown",o)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",i),e.unbind("keydown",o))};var i=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var i=n.getToggleElement();if(!(e&&i&&i[0].contains(e.target))){var o=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&o&&o[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},o=function(e){27===e.which?(n.focusToggleElement(),i()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,i,o,r,a,s,l,d,c){var h,u,p=this,m=e.$new(),f=o.openClass,g=angular.noop,v=n.onToggle?i(n.onToggle):angular.noop,y=!1,b=!1;t.addClass("dropdown"),this.init=function(){n.isOpen&&(u=i(n.isOpen),g=u.assign,e.$watch(u,function(e){m.isOpen=!!e})),y=angular.isDefined(n.dropdownAppendToBody),b=angular.isDefined(n.uibKeyboardNav),y&&p.dropdownMenu&&(l.find("body").append(p.dropdownMenu),t.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return m.isOpen=arguments.length?!!e:!m.isOpen},this.isOpen=function(){return m.isOpen},m.getToggleElement=function(){return p.toggleElement},m.getAutoClose=function(){return n.autoClose||"always"},m.getElement=function(){return t},m.isKeynavEnabled=function(){return b},m.focusDropdownEntry=function(e){var n=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(t).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===n.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:angular.isNumber(p.selectedOption)?p.selectedOption=0===p.selectedOption?0:p.selectedOption-1:p.selectedOption=n.length-1}n[p.selectedOption].focus()},m.getDropdownElement=function(){return p.dropdownMenu},m.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},m.$watch("isOpen",function(n,i){if(y&&p.dropdownMenu){var o=s.positionElements(t,p.dropdownMenu,"bottom-left",!0),l={top:o.top+"px",display:n?"block":"none"},u=p.dropdownMenu.hasClass("dropdown-menu-right");u?(l.left="auto",l.right=window.innerWidth-(o.left+t.prop("offsetWidth"))+"px"):(l.left=o.left+"px",l.right="auto"),p.dropdownMenu.css(l)}if(a[n?"addClass":"removeClass"](t,f).then(function(){angular.isDefined(n)&&n!==i&&v(e,{open:!!n})}),n)p.dropdownMenuTemplateUrl&&c(p.dropdownMenuTemplateUrl).then(function(e){h=m.$new(),d(e.trim())(h,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t})}),m.focusToggleElement(),r.open(m);else{if(p.dropdownMenuTemplateUrl){h&&h.$destroy();var b=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(b),p.dropdownMenu=b}r.close(m),p.selectedOption=null}angular.isFunction(g)&&g(e,n)}),e.$on("$locationChangeSuccess",function(){"disabled"!==m.getAutoClose()&&(m.isOpen=!1)});var _=e.$on("$destroy",function(){m.$destroy()});m.$on("$destroy",_)}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"AC",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var o=n.templateUrl;o&&(i.dropdownMenuTemplateUrl=o),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("uibKeyboardNav",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=i.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(i.selectedOption)?i.selectedOption=i.selectedOption===t.length-1?i.selectedOption:i.selectedOption+1:i.selectedOption=0;break;case 38:angular.isNumber(i.selectedOption)?i.selectedOption=0===i.selectedOption?0:i.selectedOption-1:i.selectedOption=t.length-1}t[i.selectedOption].focus()}})}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var o=function(o){o.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",o),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",o)})}}}}),angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning",!1).service("dropdownService",["$log","$dropdownSuppressWarning","uibDropdownService",function(e,t,n){t||e.warn("dropdownService is now deprecated. Use uibDropdownService instead."),angular.extend(this,n)}]).controller("DropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest","$log","$dropdownSuppressWarning",function(e,t,n,i,o,r,a,s,l,d,c,h,u){u||h.warn("DropdownController is now deprecated. Use UibDropdownController instead.");var p,m,f=this,g=e.$new(),v=o.openClass,y=angular.noop,b=n.onToggle?i(n.onToggle):angular.noop,_=!1,x=!1;t.addClass("dropdown"),this.init=function(){n.isOpen&&(m=i(n.isOpen),y=m.assign,e.$watch(m,function(e){g.isOpen=!!e})),_=angular.isDefined(n.dropdownAppendToBody),x=angular.isDefined(n.uibKeyboardNav),_&&f.dropdownMenu&&(l.find("body").append(f.dropdownMenu),t.on("$destroy",function(){f.dropdownMenu.remove()}))},this.toggle=function(e){return g.isOpen=arguments.length?!!e:!g.isOpen},this.isOpen=function(){return g.isOpen},g.getToggleElement=function(){return f.toggleElement},g.getAutoClose=function(){return n.autoClose||"always"},g.getElement=function(){return t},g.isKeynavEnabled=function(){return x},g.focusDropdownEntry=function(e){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):angular.element(t).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=n.length-1}n[f.selectedOption].focus()},g.getDropdownElement=function(){return f.dropdownMenu},g.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},g.$watch("isOpen",function(n,i){if(_&&f.dropdownMenu){var o=s.positionElements(t,f.dropdownMenu,"bottom-left",!0),l={top:o.top+"px",display:n?"block":"none"},h=f.dropdownMenu.hasClass("dropdown-menu-right");h?(l.left="auto",l.right=window.innerWidth-(o.left+t.prop("offsetWidth"))+"px"):(l.left=o.left+"px",l.right="auto"),f.dropdownMenu.css(l)}if(a[n?"addClass":"removeClass"](t,v).then(function(){angular.isDefined(n)&&n!==i&&b(e,{open:!!n})}),n)f.dropdownMenuTemplateUrl&&c(f.dropdownMenuTemplateUrl).then(function(e){p=g.$new(),d(e.trim())(p,function(e){var t=e;f.dropdownMenu.replaceWith(t),f.dropdownMenu=t})}),g.focusToggleElement(),r.open(g);else{if(f.dropdownMenuTemplateUrl){p&&p.$destroy();var u=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(u),f.dropdownMenu=u}r.close(g),f.selectedOption=null}angular.isFunction(y)&&y(e,n)}),e.$on("$locationChangeSuccess",function(){"disabled"!==g.getAutoClose()&&(g.isOpen=!1)});var E=e.$on("$destroy",function(){g.$destroy()});g.$on("$destroy",E)}]).directive("dropdown",["$log","$dropdownSuppressWarning",function(e,t){return{controller:"DropdownController",link:function(n,i,o,r){t||e.warn("dropdown is now deprecated. Use uib-dropdown instead."),r.init()}}}]).directive("dropdownMenu",["$log","$dropdownSuppressWarning",function(e,t){return{restrict:"AC",require:"?^dropdown",link:function(n,i,o,r){if(r&&!angular.isDefined(o.dropdownNested)){t||e.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."),i.addClass("dropdown-menu");var a=o.templateUrl;a&&(r.dropdownMenuTemplateUrl=a),r.dropdownMenu||(r.dropdownMenu=i)}}}}]).directive("keyboardNav",["$log","$dropdownSuppressWarning",function(e,t){return{restrict:"A",require:"?^dropdown",link:function(n,i,o,r){t||e.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."),i.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=r.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(r.selectedOption)?r.selectedOption=r.selectedOption===t.length-1?r.selectedOption:r.selectedOption+1:r.selectedOption=0;break;case 38:angular.isNumber(r.selectedOption)?r.selectedOption=0===r.selectedOption?0:r.selectedOption-1:r.selectedOption=t.length-1}t[r.selectedOption].focus()}})}}}]).directive("dropdownToggle",["$log","$dropdownSuppressWarning",function(e,t){return{require:"?^dropdown",link:function(n,i,o,r){if(t||e.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."),r){i.addClass("dropdown-toggle"),r.toggleElement=i;var a=function(e){e.preventDefault(),i.hasClass("disabled")||o.disabled||n.$apply(function(){r.toggle()})};i.bind("click",a),i.attr({"aria-haspopup":!0,"aria-expanded":!1}),n.$watch(r.isOpen,function(e){i.attr("aria-expanded",!!e)}),n.$on("$destroy",function(){i.unbind("click",a)})}}}}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t==e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var o=i.indexOf(n);-1!==o&&i.splice(o,1),i.length||delete e[t]}}}}}}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function i(t,i,r){i.addClass("modal-backdrop"),r.modalInClass&&(o?o(i,{addClass:r.modalInClass}).start():e.addClass(i,r.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var a=n();o?o(i,{removeClass:r.modalInClass}).start().then(a):e.removeClass(i,r.modalInClass).then(a)}))}var o=null;return t.has("$animateCss")&&(o=t.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$injector",function(e,t,n,i){var o=null;return i.has("$animateCss")&&(o=i.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(i,r,a){r.addClass(a.windowClass||""),r.addClass(a.windowTopClass||""),i.size=a.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},r.on("click",i.close),i.$isRendered=!0;var s=t.defer();a.$observe("modalRender",function(e){"true"==e&&s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=o?o(r,{addClass:a.modalInClass}).start():n.addClass(r,a.modalInClass),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();o?o(r,{removeClass:a.modalInClass}).start().then(i):n.removeClass(r,a.modalInClass).then(i)})),t.when(s).then(function(){var e=r[0].querySelector("[autofocus]");e?e.focus():r[0].focus()});var l=e.getTop();l&&e.modalRendered(l.key)})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,t,n,i,o){o(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,i,o,r,a,s,l){function d(){for(var e=-1,t=_.keys(),n=0;n<t.length;n++)_.get(t[n]).value.backdrop&&(e=n);return e}function c(e,t){var i=n.find("body").eq(0),o=_.get(e).value;_.remove(e),p(o.modalDomEl,o.modalScope,function(){var t=o.openedClass||b;x.remove(t,e),i.toggleClass(t,x.hasKey(t)),h(!0)}),u(),t&&t.focus?t.focus():i.focus()}function h(e){var t;_.length()>0&&(t=_.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function u(){if(g&&-1==d()){var e=v;p(g,v,function(){e=null}),g=void 0,v=void 0}}function p(t,n,i){function o(){o.done||(o.done=!0,f?f(t,{event:"leave"}).start().then(function(){t.remove()}):e.leave(t),n.$destroy(),i&&i())}var a,s=null,l=function(){return a||(a=r.defer(),s=a.promise),function(){a.resolve()}};return n.$broadcast(E.NOW_CLOSING_EVENT,l),r.when(s).then(o)}function m(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var f=null;a.has("$animateCss")&&(f=a.get("$animateCss"));var g,v,y,b="modal-open",_=l.createNew(),x=s.createNew(),E={NOW_CLOSING_EVENT:"modal.stack.now-closing"},C=0,w="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return o.$watch(d,function(e){v&&(v.index=e)}),n.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=_.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),o.$apply(function(){E.dismiss(t.key,"escape key press")});break;case 9:E.loadFocusElementList(t);var n=!1;e.shiftKey?E.isFocusInFirstItem(e)&&(n=E.focusLastFocusableElement()):E.isFocusInLastItem(e)&&(n=E.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),E.open=function(e,t){var r=n[0].activeElement,a=t.openedClass||b;h(!1),_.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass,windowTopClass:t.windowTopClass}),x.put(a,e);var s=n.find("body").eq(0),l=d();if(l>=0&&!g){v=o.$new(!0),v.index=l;var c=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');c.attr("backdrop-class",t.backdropClass),t.animation&&c.attr("modal-animation","true"),g=i(c)(v),s.append(g)}var u=angular.element('<div uib-modal-window="modal-window"></div>');u.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,"window-top-class":t.windowTopClass,size:t.size,index:_.length()-1,animate:"animate"}).html(t.content),t.animation&&u.attr("modal-animation","true");var p=i(u)(t.scope);_.top().value.modalDomEl=p,_.top().value.modalOpener=r,s.append(p),s.addClass(a),E.clearFocusListCache()},E.close=function(e,t){var n=_.get(e);return n&&m(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),c(e,n.value.modalOpener),!0):!n},E.dismiss=function(e,t){var n=_.get(e);return n&&m(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),c(e,n.value.modalOpener),!0):!n},E.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},E.getTop=function(){return _.top()},E.modalRendered=function(e){var t=_.get(e);t&&t.value.renderDeferred.resolve()},E.focusFirstFocusableElement=function(){return y.length>0?(y[0].focus(),!0):!1},E.focusLastFocusableElement=function(){return y.length>0?(y[y.length-1].focus(),!0):!1},E.isFocusInFirstItem=function(e){return y.length>0?(e.target||e.srcElement)==y[0]:!1},E.isFocusInLastItem=function(e){return y.length>0?(e.target||e.srcElement)==y[y.length-1]:!1},E.clearFocusListCache=function(){y=[],C=0},E.loadFocusElementList=function(e){if((void 0===y||!y.length)&&e){var t=e.value.modalDomEl;t&&t.length&&(y=t[0].querySelectorAll(w))}},E}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$uibModalStack","$modalSuppressWarning","$log",function(t,n,i,o,r,a,s,l){function d(e){return e.template?i.when(e.template):o(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function c(e){var n=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?n.push(i.when(t.invoke(e))):angular.isString(e)?n.push(i.when(t.get(e))):n.push(i.when(e))}),n}var h={},u=null;return h.getPromiseChain=function(){return u},h.open=function(t){function o(){return v}var h=i.defer(),p=i.defer(),m=i.defer(),f={result:h.promise,opened:p.promise,rendered:m.promise,close:function(e){return a.close(f,e)},dismiss:function(e){return a.dismiss(f,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var g,v=i.all([d(t)].concat(c(t.resolve)));return g=u=i.all([u]).then(o,o).then(function(e){var i=(t.scope||n).$new();i.$close=f.close,i.$dismiss=f.dismiss,i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var o,d={},c=1;t.controller&&(d.$scope=i,d.$uibModalInstance=f,Object.defineProperty(d,"$modalInstance",{get:function(){return s||l.warn("$modalInstance is now deprecated. Use $uibModalInstance instead."),f}}),angular.forEach(t.resolve,function(t,n){d[n]=e[c++]}),o=r(t.controller,d),t.controllerAs&&(t.bindToController&&angular.extend(o,i),i[t.controllerAs]=o)),a.open(f,{scope:i,deferred:h,renderDeferred:m,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowTopClass:t.windowTopClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size,openedClass:t.openedClass}),p.resolve(!0)},function(e){p.reject(e),h.reject(e)})["finally"](function(){u===g&&(u=null)}),f},h}]};return e}),angular.module("ui.bootstrap.modal").value("$modalSuppressWarning",!1).directive("modalBackdrop",["$animate","$injector","$modalStack","$log","$modalSuppressWarning",function(e,t,n,i,o){function r(t,r,s){o||i.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."),r.addClass("modal-backdrop"),s.modalInClass&&(a?a(r,{addClass:s.modalInClass}).start():e.addClass(r,s.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var i=n();a?a(r,{removeClass:s.modalInClass}).start().then(i):e.removeClass(r,s.modalInClass).then(i)}))}var a=null;return t.has("$animateCss")&&(a=t.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),r}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector","$log","$modalSuppressWarning",function(e,t,n,i,o,r){var a=null;return i.has("$animateCss")&&(a=i.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(i,s,l){r||o.warn("modal-window is now deprecated. Use uib-modal-window instead."),s.addClass(l.windowClass||""),s.addClass(l.windowTopClass||""),i.size=l.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},s.on("click",i.close),i.$isRendered=!0;var d=t.defer();l.$observe("modalRender",function(e){"true"==e&&d.resolve()}),d.promise.then(function(){var o=null;l.modalInClass&&(o=a?a(s,{addClass:l.modalInClass}).start():n.addClass(s,l.modalInClass),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();a?a(s,{removeClass:l.modalInClass}).start().then(i):n.removeClass(s,l.modalInClass).then(i)})),t.when(o).then(function(){var e=s[0].querySelector("[autofocus]");e?e.focus():s[0].focus()});var r=e.getTop();r&&e.modalRendered(r.key)})}}}]).directive("modalAnimationClass",["$log","$modalSuppressWarning",function(e,t){return{compile:function(n,i){t||e.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."),i.modalAnimation&&n.addClass(i.modalAnimationClass)}}}]).directive("modalTransclude",["$log","$modalSuppressWarning",function(e,t){return{link:function(n,i,o,r,a){
t||e.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."),a(n.$parent,function(e){i.empty(),i.append(e)})}}}]).service("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap","$uibModalStack","$log","$modalSuppressWarning",function(e,t,n,i,o,r,a,s,l,d,c,h){h||c.warn("$modalStack is now deprecated. Use $uibModalStack instead."),angular.extend(this,d)}]).provider("$modal",["$uibModalProvider",function(e){angular.extend(this,e),this.$get=["$injector","$log","$modalSuppressWarning",function(t,n,i){return i||n.warn("$modal is now deprecated. Use $uibModal instead."),t.invoke(e.$get)}]}]),angular.module("ui.bootstrap.pagination",[]).controller("UibPaginationController",["$scope","$attrs","$parse",function(e,t,n){var i=this,o={$setViewValue:angular.noop},r=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(a,s){o=a,this.config=s,o.$render=function(){i.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){r(e.$parent,t),e.page>t?e.selectPage(t):o.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(o.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var i=!e.ngDisabled||!n;i&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),o.$setViewValue(t),o.$render())},e.getText=function(t){return e[t+"Text"]||i.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,i,o,r){function a(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],i=1,o=t,r=angular.isDefined(c)&&t>c;r&&(h?(i=Math.max(e-Math.floor(c/2),1),o=i+c-1,o>t&&(o=t,i=o-c+1)):(i=(Math.ceil(e/c)-1)*c+1,o=Math.min(i+c-1,t)));for(var s=i;o>=s;s++){var l=a(s,s,s===e);n.push(l)}if(r&&!h){if(i>1){var d=a(i-1,"...",!1);n.unshift(d)}if(t>o){var u=a(o+1,"...",!1);n.push(u)}}return n}var l=r[0],d=r[1];if(d){var c=angular.isDefined(o.maxSize)?n.$parent.$eval(o.maxSize):t.maxSize,h=angular.isDefined(o.rotate)?n.$parent.$eval(o.rotate):t.rotate;n.boundaryLinks=angular.isDefined(o.boundaryLinks)?n.$parent.$eval(o.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(o.directionLinks)?n.$parent.$eval(o.directionLinks):t.directionLinks,l.init(d,t),o.maxSize&&n.$parent.$watch(e(o.maxSize),function(e){c=parseInt(e,10),l.render()});var u=l.render;l.render=function(){u(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,i,o){var r=o[0],a=o[1];a&&(t.align=angular.isDefined(i.align)?t.$parent.$eval(i.align):e.align,r.init(a,e))}}}]),angular.module("ui.bootstrap.pagination").value("$paginationSuppressWarning",!1).controller("PaginationController",["$scope","$attrs","$parse","$log","$paginationSuppressWarning",function(e,t,n,i,o){o||i.warn("PaginationController is now deprecated. Use UibPaginationController instead.");var r=this,a={$setViewValue:angular.noop},s=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(i,o){a=i,this.config=o,a.$render=function(){r.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){r.itemsPerPage=parseInt(t,10),e.totalPages=r.calculateTotalPages()}):this.itemsPerPage=o.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=r.calculateTotalPages()}),e.$watch("totalPages",function(t){s(e.$parent,t),e.page>t?e.selectPage(t):a.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(a.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var i=!e.ngDisabled||!n;i&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),a.$setViewValue(t),a.$render())},e.getText=function(t){return e[t+"Text"]||r.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).directive("pagination",["$parse","uibPaginationConfig","$log","$paginationSuppressWarning",function(e,t,n,i){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(o,r,a,s){function l(e,t,n){return{number:e,text:t,active:n}}function d(e,t){var n=[],i=1,o=t,r=angular.isDefined(u)&&t>u;r&&(p?(i=Math.max(e-Math.floor(u/2),1),o=i+u-1,o>t&&(o=t,i=o-u+1)):(i=(Math.ceil(e/u)-1)*u+1,o=Math.min(i+u-1,t)));for(var a=i;o>=a;a++){var s=l(a,a,a===e);n.push(s)}if(r&&!p){if(i>1){var d=l(i-1,"...",!1);n.unshift(d)}if(t>o){var c=l(o+1,"...",!1);n.push(c)}}return n}i||n.warn("pagination is now deprecated. Use uib-pagination instead.");var c=s[0],h=s[1];if(h){var u=angular.isDefined(a.maxSize)?o.$parent.$eval(a.maxSize):t.maxSize,p=angular.isDefined(a.rotate)?o.$parent.$eval(a.rotate):t.rotate;o.boundaryLinks=angular.isDefined(a.boundaryLinks)?o.$parent.$eval(a.boundaryLinks):t.boundaryLinks,o.directionLinks=angular.isDefined(a.directionLinks)?o.$parent.$eval(a.directionLinks):t.directionLinks,c.init(h,t),a.maxSize&&o.$parent.$watch(e(a.maxSize),function(e){u=parseInt(e,10),c.render()});var m=c.render;c.render=function(){m(),o.page>0&&o.page<=o.totalPages&&(o.pages=d(o.page,o.totalPages))}}}}}]).directive("pager",["uibPagerConfig","$log","$paginationSuppressWarning",function(e,t,n){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(i,o,r,a){n||t.warn("pager is now deprecated. Use uib-pager instead.");var s=a[0],l=a[1];l&&(i.align=angular.isDefined(r.align)?i.$parent.$eval(r.align):e.align,s.init(l,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(o,r,a,s,l,d,c,h,u){var p=u.createNew();return s.on("keypress",function(e){if(27===e.which){var t=p.top();t&&(t.value.close(),p.removeTop(),t=null)}}),function(o,c,u,m){function f(e){var t=(e||m.trigger||u).split(" "),i=t.map(function(e){return n[e]||e});return{show:t,hide:i}}m=angular.extend({},t,i,m);var g=e(o),v=d.startSymbol(),y=d.endSymbol(),b="<div "+g+'-popup title="'+v+"title"+y+'" '+(m.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'placement="'+v+"placement"+y+'" popup-class="'+v+"popupClass"+y+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';return{compile:function(e,t){var n=r(b);return function(e,t,i,r){function d(){R.isOpen?g():u()}function u(){(!I||e.$eval(i[c+"Enable"]))&&(_(),C(),R.popupDelay?L||(L=a(v,R.popupDelay,!1)):v())}function g(){y(),R.popupCloseDelay?N||(N=a(b,R.popupCloseDelay,!1)):b()}function v(){return y(),_(),R.content?(x(),void R.$evalAsync(function(){R.isOpen=!0,w(!0),W()})):angular.noop}function y(){L&&(a.cancel(L),L=null),O&&(a.cancel(O),O=null)}function b(){y(),_(),R&&R.$evalAsync(function(){R.isOpen=!1,w(!1),R.animation?A||(A=a(E,150,!1)):E()})}function _(){N&&(a.cancel(N),N=null),A&&(a.cancel(A),A=null)}function x(){$||(k=R.$new(),$=n(k,function(e){D?s.find("body").append(e):t.after(e)}),T())}function E(){S(),A=null,$&&($.remove(),$=null),k&&(k.$destroy(),k=null)}function C(){R.title=i[c+"Title"],F?R.content=F(e):R.content=i[o],R.popupClass=i[c+"Class"],R.placement=angular.isDefined(i[c+"Placement"])?i[c+"Placement"]:m.placement;var t=parseInt(i[c+"PopupDelay"],10),n=parseInt(i[c+"PopupCloseDelay"],10);R.popupDelay=isNaN(t)?m.popupDelay:t,R.popupCloseDelay=isNaN(n)?m.popupCloseDelay:n}function w(t){P&&angular.isFunction(P.assign)&&P.assign(e,t)}function T(){B.length=0,F?(B.push(e.$watch(F,function(e){R.content=e,!e&&R.isOpen&&b()})),B.push(k.$watch(function(){H||(H=!0,k.$$postDigest(function(){H=!1,R&&R.isOpen&&W()}))}))):B.push(i.$observe(o,function(e){R.content=e,!e&&R.isOpen?b():W()})),B.push(i.$observe(c+"Title",function(e){R.title=e,R.isOpen&&W()})),B.push(i.$observe(c+"Placement",function(e){R.placement=e?e:m.placement,R.isOpen&&W()}))}function S(){B.length&&(angular.forEach(B,function(e){e()}),B.length=0)}function M(){var e=i[c+"Trigger"];q(),z=f(e),"none"!==z.show&&z.show.forEach(function(e,n){e===z.hide[n]?t[0].addEventListener(e,d):e&&(t[0].addEventListener(e,u),z.hide[n].split(" ").forEach(function(e){t[0].addEventListener(e,g)})),t.on("keypress",function(e){27===e.which&&g()})})}var $,k,A,L,N,O,D=angular.isDefined(m.appendToBody)?m.appendToBody:!1,z=f(void 0),I=angular.isDefined(i[c+"Enable"]),R=e.$new(!0),H=!1,P=angular.isDefined(i[c+"IsOpen"])?h(i[c+"IsOpen"]):!1,F=m.useContentExp?h(i[o]):!1,B=[],W=function(){$&&$.html()&&(O||(O=a(function(){$.css({top:0,left:0});var e=l.positionElements(t,$,R.placement,D);e.top+="px",e.left+="px",e.visibility="visible",$.css(e),O=null},0,!1)))};R.origScope=e,R.isOpen=!1,p.add(R,{close:b}),R.contentExp=function(){return R.content},i.$observe("disabled",function(e){e&&y(),e&&R.isOpen&&b()}),P&&e.$watch(P,function(e){R&&!e===R.isOpen&&d()});var q=function(){z.show.forEach(function(e){t.unbind(e,u)}),z.hide.forEach(function(e){e.split(" ").forEach(function(e){t[0].removeEventListener(e,g)})})};M();var Y=e.$eval(i[c+"Animation"]);R.animation=angular.isDefined(Y)?!!Y:m.animation;var U=e.$eval(i[c+"AppendToBody"]);D=angular.isDefined(U)?U:D,D&&e.$on("$locationChangeSuccess",function(){R.isOpen&&b()}),e.$on("$destroy",function(){y(),_(),q(),E(),p.remove(R),R=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(o,r,a){var s,l,d,c=o.$eval(a.tooltipTemplateTranscludeScope),h=0,u=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),d&&(e.leave(d).then(function(){l=null}),l=d,d=null)};o.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(t){var a=++h;t?(i(t,!0).then(function(i){if(a===h){var o=c.$new(),l=i,p=n(l)(o,function(t){u(),e.enter(t,r)});s=o,d=p,s.$emit("$includeContentLoaded",t)}},function(){a===h&&(u(),o.$emit("$includeContentError",t))}),o.$emit("$includeContentRequested",t)):u()}),o.$on("$destroy",u)}}}]).directive("uibTooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.tooltip").value("$tooltipSuppressWarning",!1).provider("$tooltip",["$uibTooltipProvider",function(e){angular.extend(this,e),this.$get=["$log","$tooltipSuppressWarning","$injector",function(t,n,i){return n||t.warn("$tooltip is now deprecated. Use $uibTooltip instead."),i.invoke(e.$get)}]}]).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest","$log","$tooltipSuppressWarning",function(e,t,n,i,o,r){return{link:function(a,s,l){r||o.warn("tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead.");var d,c,h,u=a.$eval(l.tooltipTemplateTranscludeScope),p=0,m=function(){c&&(c.remove(),c=null),d&&(d.$destroy(),d=null),h&&(e.leave(h).then(function(){c=null}),c=h,h=null)};a.$watch(t.parseAsResourceUrl(l.tooltipTemplateTransclude),function(t){var o=++p;t?(i(t,!0).then(function(i){if(o===p){var r=u.$new(),a=i,l=n(a)(r,function(t){m(),e.enter(t,s)});d=r,h=l,d.$emit("$includeContentLoaded",t)}},function(){o===p&&(m(),a.$emit("$includeContentError",t))}),a.$emit("$includeContentRequested",t)):m()}),a.$on("$destroy",m)}}}]).directive("tooltipClasses",["$log","$tooltipSuppressWarning",function(e,t){return{restrict:"A",link:function(n,i,o){t||e.warn("tooltip-classes is now deprecated. Use uib-tooltip-classes instead."),n.placement&&i.addClass(n.placement),n.popupClass&&i.addClass(n.popupClass),n.animation()&&i.addClass(o.tooltipAnimationClass)}}}]).directive("tooltipPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(n,i){t||e.warn("tooltip-popup is now deprecated. Use uib-tooltip-popup instead."),i.addClass("tooltip")}}}]).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(n,i){t||e.warn("tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead."),i.addClass("tooltip")}}}]).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(n,i){t||e.warn("tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead."),i.addClass("tooltip")}}}]).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.popover").value("$popoverSuppressWarning",!1).directive("popoverTemplatePopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(n,i){t||e.warn("popover-template-popup is now deprecated. Use uib-popover-template-popup instead."),i.addClass("popover")}}}]).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(n,i){t||e.warn("popover-html-popup is now deprecated. Use uib-popover-html-popup instead."),i.addClass("popover")}}}]).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(n,i){t||e.warn("popover-popup is now deprecated. Use uib-popover-popup instead."),i.addClass("popover")}}}]).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){var i=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n,r){o||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.title=r&&angular.isDefined(r.title)?r.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("max",function(t){i.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.progressbar").value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","uibProgressConfig","$log","$progressSuppressWarning",function(e,t,n,i,o){o||i.warn("ProgressController is now deprecated. Use UibProgressController instead.");var r=this,a=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n,i){a||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.title=i&&angular.isDefined(i.title)?i.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=r.bars.reduce(function(e,t){return e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",function(t){r.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?",title:"@?"},templateUrl:"template/progressbar/progress.html",link:function(){t||e.warn("progress is now deprecated. Use uib-progress instead.")}}}]).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,i,o,r){t||e.warn("bar is now deprecated. Use uib-bar instead."),r.addBar(n,i)}}}]).directive("progressbar",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(n,i,o,r){t||e.warn("progressbar is now deprecated. Use uib-progressbar instead."),r.addBar(n,angular.element(i.children()[0]),{title:o.title})}}}]),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop};this.init=function(o){i=o,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var r=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(r)&&r.length>0?r:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(i.$setViewValue(i.$viewValue===t?0:t),i.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var o=i[0],r=i[1];o.init(r)}}}),angular.module("ui.bootstrap.rating").value("$ratingSuppressWarning",!1).controller("RatingController",["$scope","$attrs","$controller","$log","$ratingSuppressWarning",function(e,t,n,i,o){o||i.warn("RatingController is now deprecated. Use UibRatingController instead."),angular.extend(this,n("UibRatingController",{$scope:e,$attrs:t}))}]).directive("rating",["$log","$ratingSuppressWarning",function(e,t){return{require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(n,i,o,r){t||e.warn("rating is now deprecated. Use uib-rating instead.");var a=r[0],s=r[1];a.init(s)}}}]),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var o=n.indexOf(e);if(e.active&&n.length>1&&!i){var r=o==n.length-1?o-1:o+1;t.select(n[r])}n.splice(o,1)};var i;e.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(t,n,i,o,r){t.$watch("active",function(e){e&&o.select(t)}),t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},o.addTab(t),t.$on("$destroy",function(){o.removeTab(t)}),t.$transcludeFn=r}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:["?^uibTab","?^tab"],link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase()||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:["?^uibTabset","?^tabset"],link:function(t,n,i){var o=t.$eval(i.uibTabContentTransclude);o.$transcludeFn(o.$parent,function(t){angular.forEach(t,function(t){e(t)?o.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.tabs").value("$tabsSuppressWarning",!1).controller("TabsetController",["$scope","$controller","$log","$tabsSuppressWarning",function(e,t,n,i){i||n.warn("TabsetController is now deprecated. Use UibTabsetController instead."),angular.extend(this,t("UibTabsetController",{$scope:e}))}]).directive("tabset",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(n,i,o){t||e.warn("tabset is now deprecated. Use uib-tabset instead."),n.vertical=angular.isDefined(o.vertical)?n.$parent.$eval(o.vertical):!1,n.justified=angular.isDefined(o.justified)?n.$parent.$eval(o.justified):!1}}}]).directive("tab",["$parse","$log","$tabsSuppressWarning",function(e,t,n){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(i,o,r,a,s){n||t.warn("tab is now deprecated. Use uib-tab instead."),i.$watch("active",function(e){e&&a.select(i)}),i.disabled=!1,r.disable&&i.$parent.$watch(e(r.disable),function(e){i.disabled=!!e}),i.select=function(){i.disabled||(i.active=!0)},a.addTab(i),i.$on("$destroy",function(){a.removeTab(i)}),i.$transcludeFn=s}}}]).directive("tabHeadingTransclude",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"A",require:"^tab",link:function(n,i){t||e.warn("tab-heading-transclude is now deprecated. Use uib-tab-heading-transclude instead."),n.$watch("headingElement",function(e){e&&(i.html(""),i.append(e))})}}}]).directive("tabContentTransclude",["$log","$tabsSuppressWarning",function(e,t){function n(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(i,o,r){t||e.warn("tab-content-transclude is now deprecated. Use uib-tab-content-transclude instead.");var a=i.$eval(r.tabContentTransclude);a.$transcludeFn(a.$parent,function(e){angular.forEach(e,function(e){n(e)?a.headingElement=e:o.append(e)})})}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,i,o,r,a){function s(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===v[1]&&(t+=12)),t):void 0}function l(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function d(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function c(e){h(),g.$setViewValue(new Date(f)),u(e)}function h(){g.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function u(t){var n=f.getHours(),i=f.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:d(n),"m"!==t&&(e.minutes=d(i)),e.meridian=f.getHours()<12?v[0]:v[1]}function p(e,t){var n=new Date(e.getTime()+6e4*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes()),i}function m(e){f=p(f,e),c()}var f=new Date,g={$setViewValue:angular.noop},v=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):a.meridians||r.DATETIME_FORMATS.AMPMS;e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,i){g=t,g.$render=this.render,g.$formatters.unshift(function(e){return e?new Date(e):null});var o=i.eq(0),r=i.eq(1),s=angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):a.mousewheel;s&&this.setupMousewheelEvents(o,r);var l=angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):a.arrowkeys;l&&this.setupArrowkeyEvents(o,r),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(o,r)};var y=a.hourStep;n.hourStep&&e.$parent.$watch(i(n.hourStep),function(e){y=parseInt(e,10)});var b=a.minuteStep;n.minuteStep&&e.$parent.$watch(i(n.minuteStep),function(e){b=parseInt(e,10)});var _;e.$parent.$watch(i(n.min),function(e){var t=new Date(e);_=isNaN(t)?void 0:t});var x;e.$parent.$watch(i(n.max),function(e){var t=new Date(e);x=isNaN(t)?void 0:t}),e.noIncrementHours=function(){var e=p(f,60*y);
return e>x||f>e&&_>e},e.noDecrementHours=function(){var e=p(f,60*-y);return _>e||e>f&&e>x},e.noIncrementMinutes=function(){var e=p(f,b);return e>x||f>e&&_>e},e.noDecrementMinutes=function(){var e=p(f,-b);return _>e||e>f&&e>x},e.noToggleMeridian=function(){return f.getHours()<13?p(f,720)>x:p(f,-720)<_},e.showMeridian=a.showMeridian,n.showMeridian&&e.$parent.$watch(i(n.showMeridian),function(t){if(e.showMeridian=!!t,g.$error.time){var n=s(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(f.setHours(n),c())}else u()}),this.setupMousewheelEvents=function(t,n){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var i=function(t,n){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=s(),t=l();angular.isDefined(e)&&angular.isDefined(t)?(f.setHours(e),_>f||f>x?i(!0):c("h")):i(!0)},t.bind("blur",function(t){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=d(e.hours)})}),e.updateMinutes=function(){var e=l(),t=s();angular.isDefined(e)&&angular.isDefined(t)?(f.setMinutes(e),_>f||f>x?i(void 0,!0):c("m")):i(void 0,!0)},n.bind("blur",function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=d(e.minutes)})})},this.render=function(){var t=g.$viewValue;isNaN(t)?(g.$setValidity("time",!1),o.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(f=t),_>f||f>x?(g.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):h(),u())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||m(60*y)},e.decrementHours=function(){e.noDecrementHours()||m(60*-y)},e.incrementMinutes=function(){e.noIncrementMinutes()||m(b)},e.decrementMinutes=function(){e.noDecrementMinutes()||m(-b)},e.toggleMeridian=function(){e.noToggleMeridian()||m(720*(f.getHours()<12?1:-1))}}]).directive("uibTimepicker",function(){return{restrict:"EA",require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,i){var o=i[0],r=i[1];r&&o.init(r,t.find("input"))}}}),angular.module("ui.bootstrap.timepicker").value("$timepickerSuppressWarning",!1).controller("TimepickerController",["$scope","$element","$attrs","$controller","$log","$timepickerSuppressWarning",function(e,t,n,i,o,r){r||o.warn("TimepickerController is now deprecated. Use UibTimepickerController instead."),angular.extend(this,i("UibTimepickerController",{$scope:e,$element:t,$attrs:n}))}]).directive("timepicker",["$log","$timepickerSuppressWarning",function(e,t){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(n,i,o,r){t||e.warn("timepicker is now deprecated. Use uib-timepicker instead.");var a=r[0],s=r[1];s&&a.init(s,i.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(e,t,n,i,o,r,a,s,l,d,c,h){function u(){I.moveInProgress||(I.moveInProgress=!0,I.$digest()),Y&&a.cancel(Y),Y=a(function(){I.matches.length&&p(),I.moveInProgress=!1},v)}function p(){I.position=$?c.offset(t):c.position(t),I.position.top+=t.prop("offsetHeight")}var m,f,g=[9,13,27,38,40],v=200,y=e.$eval(n.typeaheadMinLength);y||0===y||(y=1);var b,_,x=e.$eval(n.typeaheadWaitMs)||0,E=e.$eval(n.typeaheadEditable)!==!1,C=o(n.typeaheadLoading).assign||angular.noop,w=o(n.typeaheadOnSelect),T=angular.isDefined(n.typeaheadSelectOnBlur)?e.$eval(n.typeaheadSelectOnBlur):!1,S=o(n.typeaheadNoResults).assign||angular.noop,M=n.typeaheadInputFormatter?o(n.typeaheadInputFormatter):void 0,$=n.typeaheadAppendToBody?e.$eval(n.typeaheadAppendToBody):!1,k=n.typeaheadAppendToElementId||!1,A=e.$eval(n.typeaheadFocusFirst)!==!1,L=n.typeaheadSelectOnExact?e.$eval(n.typeaheadSelectOnExact):!1,N=o(n.ngModel),O=o(n.ngModel+"($$$p)"),D=function(t,n){return angular.isFunction(N(e))&&f&&f.$options&&f.$options.getterSetter?O(t,{$$$p:n}):N.assign(t,n)},z=h.parse(n.uibTypeahead),I=e.$new(),R=e.$on("$destroy",function(){I.$destroy()});I.$on("$destroy",R);var H="typeahead-"+I.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":H});var P=angular.element("<div uib-typeahead-popup></div>");P.attr({id:H,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(n.typeaheadTemplateUrl)&&P.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&P.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var F=function(){I.matches=[],I.activeIdx=-1,t.attr("aria-expanded",!1)},B=function(e){return H+"-option-"+e};I.$watch("activeIdx",function(e){0>e?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",B(e))});var W=function(e,t){return I.matches.length>t&&e?e.toUpperCase()===I.matches[t].label.toUpperCase():!1},q=function(n){var i={$viewValue:n};C(e,!0),S(e,!1),r.when(z.source(e,i)).then(function(o){var r=n===m.$viewValue;if(r&&b)if(o&&o.length>0){I.activeIdx=A?0:-1,S(e,!1),I.matches.length=0;for(var a=0;a<o.length;a++)i[z.itemName]=o[a],I.matches.push({id:B(a),label:z.viewMapper(I,i),model:o[a]});I.query=n,p(),t.attr("aria-expanded",!0),L&&1===I.matches.length&&W(n,0)&&I.select(0)}else F(),S(e,!0);r&&C(e,!1)},function(){F(),C(e,!1),S(e,!0)})};$&&(angular.element(l).bind("resize",u),s.find("body").bind("scroll",u));var Y;I.moveInProgress=!1,I.query=void 0;var U,V=function(e){U=a(function(){q(e)},x)},j=function(){U&&a.cancel(U)};F(),I.select=function(i){var o,r,s={};_=!0,s[z.itemName]=r=I.matches[i].model,o=z.modelMapper(e,s),D(e,o),m.$setValidity("editable",!0),m.$setValidity("parse",!0),w(e,{$item:r,$model:o,$label:z.viewMapper(e,s)}),F(),I.$eval(n.typeaheadFocusOnSelect)!==!1&&a(function(){t[0].focus()},0,!1)},t.bind("keydown",function(e){if(0!==I.matches.length&&-1!==g.indexOf(e.which)){if(-1===I.activeIdx&&(9===e.which||13===e.which))return F(),void I.$digest();e.preventDefault(),40===e.which?(I.activeIdx=(I.activeIdx+1)%I.matches.length,I.$digest()):38===e.which?(I.activeIdx=(I.activeIdx>0?I.activeIdx:I.matches.length)-1,I.$digest()):13===e.which||9===e.which?I.$apply(function(){I.select(I.activeIdx)}):27===e.which&&(e.stopPropagation(),F(),I.$digest())}}),t.bind("blur",function(){T&&I.matches.length&&-1!==I.activeIdx&&!_&&(_=!0,I.$apply(function(){I.select(I.activeIdx)})),b=!1,_=!1});var G=function(e){t[0]!==e.target&&3!==e.which&&0!==I.matches.length&&(F(),d.$$phase||I.$digest())};s.bind("click",G),e.$on("$destroy",function(){s.unbind("click",G),($||k)&&X.remove(),$&&(angular.element(l).unbind("resize",u),s.find("body").unbind("scroll",u)),P.remove()});var X=i(P)(I);$?s.find("body").append(X):k!==!1?angular.element(s[0].getElementById(k)).append(X):t.after(X),this.init=function(t,n){m=t,f=n,m.$parsers.unshift(function(t){return b=!0,0===y||t&&t.length>=y?x>0?(j(),V(t)):q(t):(C(e,!1),j(),F()),E?t:t?void m.$setValidity("editable",!1):(m.$setValidity("editable",!0),null)}),m.$formatters.push(function(t){var n,i,o={};return E||m.$setValidity("editable",!0),M?(o.$model=t,M(e,o)):(o[z.itemName]=t,n=z.viewMapper(e,o),o[z.itemName]=void 0,i=z.viewMapper(e,o),n!==i?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,i){i[2].init(i[0],i[1])}}}).directive("uibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,o,r){var a=n(r.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e(a).then(function(e){t(e.trim())(i,function(e){o.replaceWith(e)})})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function o(e){return/<.*>/g.test(e)}var r;return r=t.has("$sanitize"),function(t,a){return!r&&o(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=a?(""+t).replace(new RegExp(i(a),"gi"),"<strong>$&</strong>"):t,r||(t=e.trustAsHtml(t)),t}}]),angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,i){return i||n.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),t}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,i,o,r,a,s,l,d,c){var h=[9,13,27,38,40],u=200;return{require:["ngModel","^?ngModelOptions"],link:function(p,m,f,g){function v(){P.moveInProgress||(P.moveInProgress=!0,P.$digest()),j&&i.cancel(j),j=i(function(){P.matches.length&&y(),P.moveInProgress=!1},u)}function y(){P.position=L?s.offset(m):s.position(m),P.position.top+=m.prop("offsetHeight")}c||d.warn("typeahead is now deprecated. Use uib-typeahead instead.");var b=g[0],_=g[1],x=p.$eval(f.typeaheadMinLength);x||0===x||(x=1);var E,C,w=p.$eval(f.typeaheadWaitMs)||0,T=p.$eval(f.typeaheadEditable)!==!1,S=t(f.typeaheadLoading).assign||angular.noop,M=t(f.typeaheadOnSelect),$=angular.isDefined(f.typeaheadSelectOnBlur)?p.$eval(f.typeaheadSelectOnBlur):!1,k=t(f.typeaheadNoResults).assign||angular.noop,A=f.typeaheadInputFormatter?t(f.typeaheadInputFormatter):void 0,L=f.typeaheadAppendToBody?p.$eval(f.typeaheadAppendToBody):!1,N=f.typeaheadAppendToElementId||!1,O=p.$eval(f.typeaheadFocusFirst)!==!1,D=f.typeaheadSelectOnExact?p.$eval(f.typeaheadSelectOnExact):!1,z=t(f.ngModel),I=t(f.ngModel+"($$$p)"),R=function(e,t){return angular.isFunction(z(p))&&_&&_.$options&&_.$options.getterSetter?I(e,{$$$p:t}):z.assign(e,t)},H=l.parse(f.typeahead),P=p.$new(),F=p.$on("$destroy",function(){P.$destroy()});P.$on("$destroy",F);var B="typeahead-"+P.$id+"-"+Math.floor(1e4*Math.random());m.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":B});var W=angular.element("<div typeahead-popup></div>");W.attr({id:B,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(f.typeaheadTemplateUrl)&&W.attr("template-url",f.typeaheadTemplateUrl),angular.isDefined(f.typeaheadPopupTemplateUrl)&&W.attr("popup-template-url",f.typeaheadPopupTemplateUrl);var q=function(){P.matches=[],P.activeIdx=-1,m.attr("aria-expanded",!1)},Y=function(e){return B+"-option-"+e};P.$watch("activeIdx",function(e){0>e?m.removeAttr("aria-activedescendant"):m.attr("aria-activedescendant",Y(e))});var U=function(e,t){return P.matches.length>t&&e?e.toUpperCase()===P.matches[t].label.toUpperCase():!1},V=function(e){var t={$viewValue:e};S(p,!0),k(p,!1),n.when(H.source(p,t)).then(function(n){var i=e===b.$viewValue;if(i&&E)if(n&&n.length>0){P.activeIdx=O?0:-1,k(p,!1),P.matches.length=0;for(var o=0;o<n.length;o++)t[H.itemName]=n[o],P.matches.push({id:Y(o),label:H.viewMapper(P,t),model:n[o]});P.query=e,y(),m.attr("aria-expanded",!0),D&&1===P.matches.length&&U(e,0)&&P.select(0)}else q(),k(p,!0);i&&S(p,!1)},function(){q(),S(p,!1),k(p,!0)})};L&&(angular.element(r).bind("resize",v),o.find("body").bind("scroll",v));var j;P.moveInProgress=!1,q(),P.query=void 0;var G,X=function(e){G=i(function(){V(e)},w)},Z=function(){G&&i.cancel(G)};b.$parsers.unshift(function(e){return E=!0,0===x||e&&e.length>=x?w>0?(Z(),X(e)):V(e):(S(p,!1),Z(),q()),T?e:e?void b.$setValidity("editable",!1):(b.$setValidity("editable",!0),null)}),b.$formatters.push(function(e){var t,n,i={};return T||b.$setValidity("editable",!0),A?(i.$model=e,A(p,i)):(i[H.itemName]=e,t=H.viewMapper(p,i),i[H.itemName]=void 0,n=H.viewMapper(p,i),t!==n?t:e)}),P.select=function(e){var t,n,o={};C=!0,o[H.itemName]=n=P.matches[e].model,t=H.modelMapper(p,o),R(p,t),b.$setValidity("editable",!0),b.$setValidity("parse",!0),M(p,{$item:n,$model:t,$label:H.viewMapper(p,o)}),q(),P.$eval(f.typeaheadFocusOnSelect)!==!1&&i(function(){m[0].focus()},0,!1)},m.bind("keydown",function(e){if(0!==P.matches.length&&-1!==h.indexOf(e.which)){if(-1===P.activeIdx&&(9===e.which||13===e.which))return q(),void P.$digest();e.preventDefault(),40===e.which?(P.activeIdx=(P.activeIdx+1)%P.matches.length,P.$digest()):38===e.which?(P.activeIdx=(P.activeIdx>0?P.activeIdx:P.matches.length)-1,P.$digest()):13===e.which||9===e.which?P.$apply(function(){P.select(P.activeIdx)}):27===e.which&&(e.stopPropagation(),q(),P.$digest())}}),m.bind("blur",function(){$&&P.matches.length&&-1!==P.activeIdx&&!C&&(C=!0,P.$apply(function(){P.select(P.activeIdx)})),E=!1,C=!1});var K=function(e){m[0]!==e.target&&3!==e.which&&0!==P.matches.length&&(q(),a.$$phase||P.$digest())};o.bind("click",K),p.$on("$destroy",function(){o.unbind("click",K),(L||N)&&Q.remove(),L&&(angular.element(r).unbind("resize",v),o.find("body").unbind("scroll",v)),W.remove()});var Q=e(W)(P);L?o.find("body").append(Q):N!==!1?angular.element(o[0].getElementById(N)).append(Q):m.after(Q)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(e,t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(n,i,o){e||t.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."),n.templateUrl=o.templateUrl,n.isOpen=function(){return n.matches.length>0},n.isActive=function(e){return n.active==e},n.selectActive=function(e){n.active=e},n.selectMatch=function(e){n.select({activeIdx:e})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(e,t,n,i,o){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,a,s){i||o.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");var l=n(s.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";e(l).then(function(e){t(e.trim())(r,function(e){a.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(e,t,n,i){function o(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function r(e){return/<.*>/g.test(e)}var a;return a=t.has("$sanitize"),function(t,s){return i||n.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!a&&r(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=s?(""+t).replace(new RegExp(o(s),"gi"),"<strong>$&</strong>"):t,a||(t=e.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" uib-collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" dropdown-nested ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n');
}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),!function(e,t){function n(e,t){m(e).push(t)}function i(i,o,r){var a=i.children(o.headerTag),s=i.children(o.bodyTag);a.length>s.length?q(K,"contents"):a.length<s.length&&q(K,"titles");var l=o.startIndex;if(r.stepCount=a.length,o.saveState&&e.cookie){var d=e.cookie(V+g(i)),c=parseInt(d,0);!isNaN(c)&&c<r.stepCount&&(l=c)}r.currentIndex=l,a.each(function(o){var r=e(this),a=s.eq(o),l=a.data("mode"),d=null==l?Q.html:v(Q,/^\s*$/.test(l)||isNaN(l)?l:parseInt(l,0)),c=d===Q.html||a.data("url")===t?"":a.data("url"),h=d!==Q.html&&"1"===a.data("loaded"),u=e.extend({},te,{title:r.html(),content:d===Q.html?a.html():"",contentUrl:c,contentMode:d,contentLoaded:h});n(i,u)})}function o(e){e.triggerHandler("canceled")}function r(e,t){return e.currentIndex-t}function a(t,n){var i=l(t);t.unbind(i).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(i),t.removeClass(n.clearFixCssClass+" vertical");var o=t.find(".content > *");o.removeData("loaded").removeData("mode").removeData("url"),o.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden"),t.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty();var r=e('<{0} class="{1}"></{0}>'.format(t.get(0).tagName,t.attr("class"))),a=t._id();return null!=a&&""!==a&&r._id(a),r.html(t.find(".content").html()),t.after(r),t.remove(),r}function s(e,t){var n=e.find(".steps li").eq(t.currentIndex);e.triggerHandler("finishing",[t.currentIndex])?(n.addClass("done").removeClass("error"),e.triggerHandler("finished",[t.currentIndex])):n.addClass("error")}function l(e){var t=e.data("eventNamespace");return null==t&&(t="."+g(e),e.data("eventNamespace",t)),t}function d(e,t){var n=g(e);return e.find("#"+n+j+t)}function c(e,t){var n=g(e);return e.find("#"+n+G+t)}function h(e,t){var n=g(e);return e.find("#"+n+X+t)}function u(e){return e.data("options")}function p(e){return e.data("state")}function m(e){return e.data("steps")}function f(e,t){var n=m(e);return(0>t||t>=n.length)&&q(Z),n[t]}function g(e){var t=e.data("uid");return null==t&&(t=e._id(),null==t&&(t="steps-uid-".concat(U),e._id(t)),U++,e.data("uid",t)),t}function v(e,n){if(Y("enumType",e),Y("keyOrValue",n),"string"==typeof n){var i=e[n];return i===t&&q("The enum key '{0}' does not exist.",n),i}if("number"==typeof n){for(var o in e)if(e[o]===n)return n;q("Invalid enum value '{0}'.",n)}else q("Invalid key or value type.")}function y(e,t,n){return M(e,t,n,x(n,1))}function b(e,t,n){return M(e,t,n,r(n,1))}function _(e,t,n,i){if((0>i||i>=n.stepCount)&&q(Z),!(t.forceMoveForward&&i<n.currentIndex)){var o=n.currentIndex;return e.triggerHandler("stepChanging",[n.currentIndex,i])?(n.currentIndex=i,F(e,t,n),A(e,t,n,o),k(e,t,n),S(e,t,n),B(e,t,n,i,o,function(){e.triggerHandler("stepChanged",[i,o])})):e.find(".steps li").eq(o).addClass("error"),!0}}function x(e,t){return e.currentIndex+t}function E(t){var n=e.extend(!0,{},ne,t);return this.each(function(){var t=e(this),o={currentIndex:n.startIndex,currentStep:null,stepCount:0,transitionElement:null};t.data("options",n),t.data("state",o),t.data("steps",[]),i(t,n,o),z(t,n,o),N(t,n),n.autoFocus&&0===U&&d(t,n.startIndex).focus(),t.triggerHandler("init",[n.startIndex])})}function C(t,n,i,o,r){(0>o||o>i.stepCount)&&q(Z),r=e.extend({},te,r),w(t,o,r),i.currentIndex!==i.stepCount&&i.currentIndex>=o&&(i.currentIndex++,F(t,n,i)),i.stepCount++;var a=t.find(".content"),s=e("<{0}>{1}</{0}>".format(n.headerTag,r.title)),l=e("<{0}></{0}>".format(n.bodyTag));return(null==r.contentMode||r.contentMode===Q.html)&&l.html(r.content),0===o?a.prepend(l).prepend(s):c(t,o-1).after(l).after(s),I(t,i,l,o),P(t,n,i,s,o),L(t,n,i,o),o===i.currentIndex&&A(t,n,i),k(t,n,i),t}function w(e,t,n){m(e).splice(t,0,n)}function T(t){var n=e(this),i=u(n),o=p(n);if(i.suppressPaginationOnFocus&&n.find(":focus").is(":input"))return t.preventDefault(),!1;var r={left:37,right:39};t.keyCode===r.left?(t.preventDefault(),b(n,i,o)):t.keyCode===r.right&&(t.preventDefault(),y(n,i,o))}function S(t,n,i){if(i.stepCount>0){var o=i.currentIndex,r=f(t,o);if(!n.enableContentCache||!r.contentLoaded)switch(v(Q,r.contentMode)){case Q.iframe:t.find(".content > .body").eq(i.currentIndex).empty().html('<iframe src="'+r.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case Q.async:var a=c(t,o)._aria("busy","true").empty().append(H(n.loadingTemplate,{text:n.labels.loading}));e.ajax({url:r.contentUrl,cache:!1}).done(function(e){a.empty().html(e)._aria("busy","false").data("loaded","1"),t.triggerHandler("contentLoaded",[o])})}}}function M(e,t,n,i){var o=n.currentIndex;if(i>=0&&i<n.stepCount&&!(t.forceMoveForward&&i<n.currentIndex)){var r=d(e,i),a=r.parent(),s=a.hasClass("disabled");return a._enableAria(),r.click(),o===n.currentIndex&&s?(a._enableAria(!1),!1):!0}return!1}function $(t){t.preventDefault();var n=e(this),i=n.parent().parent().parent().parent(),r=u(i),a=p(i),l=n.attr("href");switch(l.substring(l.lastIndexOf("#")+1)){case"cancel":o(i);break;case"finish":s(i,a);break;case"next":y(i,r,a);break;case"previous":b(i,r,a)}}function k(e,t,n){if(t.enablePagination){var i=e.find(".actions a[href$='#finish']").parent(),o=e.find(".actions a[href$='#next']").parent();if(!t.forceMoveForward){var r=e.find(".actions a[href$='#previous']").parent();r._enableAria(n.currentIndex>0)}t.enableFinishButton&&t.showFinishButtonAlways?(i._enableAria(n.stepCount>0),o._enableAria(n.stepCount>1&&n.stepCount>n.currentIndex+1)):(i._showAria(t.enableFinishButton&&n.stepCount===n.currentIndex+1),o._showAria(0===n.stepCount||n.stepCount>n.currentIndex+1)._enableAria(n.stepCount>n.currentIndex+1||!t.enableFinishButton))}}function A(t,n,i,o){var r=d(t,i.currentIndex),a=e('<span class="current-info audible">'+n.labels.current+" </span>"),s=t.find(".content > .title");if(null!=o){var l=d(t,o);l.parent().addClass("done").removeClass("error")._selectAria(!1),s.eq(o).removeClass("current").next(".body").removeClass("current"),a=l.find(".current-info"),r.focus()}r.prepend(a).parent()._selectAria().removeClass("done")._enableAria(),s.eq(i.currentIndex).addClass("current").next(".body").addClass("current")}function L(e,t,n,i){for(var o=g(e),r=i;r<n.stepCount;r++){var a=o+j+r,s=o+G+r,l=o+X+r,d=e.find(".title").eq(r)._id(l);e.find(".steps a").eq(r)._id(a)._aria("controls",s).attr("href","#"+l).html(H(t.titleTemplate,{index:r+1,title:d.html()})),e.find(".body").eq(r)._id(s)._aria("labelledby",l)}}function N(e,t){var n=l(e);e.bind("canceled"+n,t.onCanceled),e.bind("contentLoaded"+n,t.onContentLoaded),e.bind("finishing"+n,t.onFinishing),e.bind("finished"+n,t.onFinished),e.bind("init"+n,t.onInit),e.bind("stepChanging"+n,t.onStepChanging),e.bind("stepChanged"+n,t.onStepChanged),t.enableKeyNavigation&&e.bind("keyup"+n,T),e.find(".actions a").bind("click"+n,$)}function O(e,t,n,i){return 0>i||i>=n.stepCount||n.currentIndex===i?!1:(D(e,i),n.currentIndex>i&&(n.currentIndex--,F(e,t,n)),n.stepCount--,h(e,i).remove(),c(e,i).remove(),d(e,i).parent().remove(),0===i&&e.find(".steps li").first().addClass("first"),i===n.stepCount&&e.find(".steps li").eq(i).addClass("last"),L(e,t,n,i),k(e,t,n),!0)}function D(e,t){m(e).splice(t,1)}function z(t,n,i){var o='<{0} class="{1}">{2}</{0}>',r=v(J,n.stepsOrientation),a=r===J.vertical?" vertical":"",s=e(o.format(n.contentContainerTag,"content "+n.clearFixCssClass,t.html())),l=e(o.format(n.stepsContainerTag,"steps "+n.clearFixCssClass,'<ul role="tablist"></ul>')),d=s.children(n.headerTag),c=s.children(n.bodyTag);t.attr("role","application").empty().append(l).append(s).addClass(n.cssClass+" "+n.clearFixCssClass+a),c.each(function(n){I(t,i,e(this),n)}),d.each(function(o){P(t,n,i,e(this),o)}),A(t,n,i),R(t,n,i)}function I(e,t,n,i){var o=g(e),r=o+G+i,a=o+X+i;n._id(r).attr("role","tabpanel")._aria("labelledby",a).addClass("body")._showAria(t.currentIndex===i)}function R(e,t,n){if(t.enablePagination){var i='<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>',o='<li><a href="#{0}" role="menuitem">{1}</a></li>',r="";t.forceMoveForward||(r+=o.format("previous",t.labels.previous)),r+=o.format("next",t.labels.next),t.enableFinishButton&&(r+=o.format("finish",t.labels.finish)),t.enableCancelButton&&(r+=o.format("cancel",t.labels.cancel)),e.append(i.format(t.actionContainerTag,t.clearFixCssClass,t.labels.pagination,r)),k(e,t,n),S(e,t,n)}}function H(e,n){for(var i=e.match(/#([a-z]*)#/gi),o=0;o<i.length;o++){var r=i[o],a=r.substring(1,r.length-1);n[a]===t&&q("The key '{0}' does not exist in the substitute collection!",a),e=e.replace(r,n[a])}return e}function P(t,n,i,o,r){var a=g(t),s=a+j+r,d=a+G+r,c=a+X+r,h=t.find(".steps > ul"),u=H(n.titleTemplate,{index:r+1,title:o.html()}),p=e('<li role="tab"><a id="'+s+'" href="#'+c+'" aria-controls="'+d+'">'+u+"</a></li>");p._enableAria(n.enableAllSteps||i.currentIndex>r),i.currentIndex>r&&p.addClass("done"),o._id(c).attr("tabindex","-1").addClass("title"),0===r?h.prepend(p):h.find("li").eq(r-1).after(p),0===r&&h.find("li").removeClass("first").eq(r).addClass("first"),r===i.stepCount-1&&h.find("li").removeClass("last").eq(r).addClass("last"),p.children("a").bind("click"+l(t),W)}function F(t,n,i){n.saveState&&e.cookie&&e.cookie(V+g(t),i.currentIndex)}function B(t,n,i,o,r,a){var s=t.find(".content > .body"),l=v(ee,n.transitionEffect),d=n.transitionEffectSpeed,c=s.eq(o),h=s.eq(r);switch(l){case ee.fade:case ee.slide:var u=l===ee.fade?"fadeOut":"slideUp",m=l===ee.fade?"fadeIn":"slideDown";i.transitionElement=c,h[u](d,function(){var t=e(this)._showAria(!1).parent().parent(),n=p(t);n.transitionElement&&(n.transitionElement[m](d,function(){e(this)._showAria()}).promise().done(a),n.transitionElement=null)});break;case ee.slideLeft:var f=h.outerWidth(!0),g=o>r?-f:f,y=o>r?f:-f;e.when(h.animate({left:g},d,function(){e(this)._showAria(!1)}),c.css("left",y+"px")._showAria().animate({left:0},d)).done(a);break;default:e.when(h._showAria(!1),c._showAria()).done(a)}}function W(t){t.preventDefault();var n=e(this),i=n.parent().parent().parent().parent(),o=u(i),r=p(i),a=r.currentIndex;if(n.parent().is(":not(.disabled):not(.current)")){var s=n.attr("href"),l=parseInt(s.substring(s.lastIndexOf("-")+1),0);_(i,o,r,l)}return a===r.currentIndex?(d(i,a).focus(),!1):void 0}function q(e){throw arguments.length>1&&(e=e.format(Array.prototype.slice.call(arguments,1))),new Error(e)}function Y(e,t){null==t&&q("The argument '{0}' is null or undefined.",e)}e.fn.extend({_aria:function(e,t){return this.attr("aria-"+e,t)},_removeAria:function(e){return this.removeAttr("aria-"+e)},_enableAria:function(e){return null==e||e?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(e){return null==e||e?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(e){return null==e||e?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(e){return e?this.attr("id",e):this.attr("id")}}),String.prototype.format||(String.prototype.format=function(){for(var t=1===arguments.length&&e.isArray(arguments[0])?arguments[0]:arguments,n=this,i=0;i<t.length;i++){var o=new RegExp("\\{"+i+"\\}","gm");n=n.replace(o,t[i])}return n});var U=0,V="jQu3ry_5teps_St@te_",j="-t-",G="-p-",X="-h-",Z="Index out of range.",K="One or more corresponding step {0} are missing.";e.fn.steps=function(t){return e.fn.steps[t]?e.fn.steps[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.steps"):E.apply(this,arguments)},e.fn.steps.add=function(e){var t=p(this);return C(this,u(this),t,t.stepCount,e)},e.fn.steps.destroy=function(){return a(this,u(this))},e.fn.steps.finish=function(){s(this,p(this))},e.fn.steps.getCurrentIndex=function(){return p(this).currentIndex},e.fn.steps.getCurrentStep=function(){return f(this,p(this).currentIndex)},e.fn.steps.getStep=function(e){return f(this,e)},e.fn.steps.insert=function(e,t){return C(this,u(this),p(this),e,t)},e.fn.steps.next=function(){return y(this,u(this),p(this))},e.fn.steps.previous=function(){return b(this,u(this),p(this))},e.fn.steps.remove=function(e){return O(this,u(this),p(this),e)},e.fn.steps.setStep=function(){throw new Error("Not yet implemented!")},e.fn.steps.skip=function(){throw new Error("Not yet implemented!")};var Q=e.fn.steps.contentMode={html:0,iframe:1,async:2},J=e.fn.steps.stepsOrientation={horizontal:0,vertical:1},ee=e.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},te=e.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:Q.html,contentLoaded:!1},ne=e.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:J.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableCancelButton:!1,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:ee.none,transitionEffectSpeed:200,onStepChanging:function(){return!0},onStepChanged:function(){},onCanceled:function(){},onFinishing:function(){return!0},onFinished:function(){},onContentLoaded:function(){},onInit:function(){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}}}(jQuery),function(e){e.fn.extend({slimScroll:function(n){var i=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},n);return this.each(function(){function o(t){if(d){t=t||window.event;var n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+i.wrapperClass).is(y.parent())&&r(n,!0),t.preventDefault&&!v&&t.preventDefault(),v||(t.returnValue=!1)}}function r(e,t,n){v=!1;var o=e,r=y.outerHeight()-_.outerHeight();t&&(o=parseInt(_.css("top"))+e*parseInt(i.wheelStep)/100*_.outerHeight(),o=Math.min(Math.max(o,0),r),o=e>0?Math.ceil(o):Math.floor(o),_.css({top:o+"px"})),f=parseInt(_.css("top"))/(y.outerHeight()-_.outerHeight()),o=f*(y[0].scrollHeight-y.outerHeight()),n&&(o=e,e=o/y[0].scrollHeight*y.outerHeight(),e=Math.min(Math.max(e,0),r),_.css({top:e+"px"})),y.scrollTop(o),y.trigger("slimscrolling",~~o),s(),l()}function a(){m=Math.max(y.outerHeight()/y[0].scrollHeight*y.outerHeight(),30),_.css({height:m+"px"});var e=m==y.outerHeight()?"none":"block";_.css({display:e})}function s(){a(),clearTimeout(u),f==~~f?(v=i.allowPageScroll,g!=f&&y.trigger("slimscroll",0==~~f?"top":"bottom")):v=!1,g=f,m>=y.outerHeight()?v=!0:(_.stop(!0,!0).fadeIn("fast"),i.railVisible&&x.stop(!0,!0).fadeIn("fast"))}function l(){i.alwaysVisible||(u=setTimeout(function(){i.disableFadeOut&&d||c||h||(_.fadeOut("slow"),x.fadeOut("slow"))},1e3))}var d,c,h,u,p,m,f,g,v=!1,y=e(this);if(y.parent().hasClass(i.wrapperClass)){var b=y.scrollTop(),_=y.closest("."+i.barClass),x=y.closest("."+i.railClass);if(a(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){y.parent().css("height","auto"),y.css("height","auto");var E=y.parent().parent().height();y.parent().css("height",E),y.css("height",E)}if("scrollTo"in n)b=parseInt(i.scrollTo);else if("scrollBy"in n)b+=parseInt(i.scrollBy);else if("destroy"in n)return _.remove(),x.remove(),void y.unwrap();r(b,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){i.height="auto"==i.height?y.parent().height():i.height,b=e("<div></div>").addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height}),y.css({overflow:"hidden",width:i.width,height:i.height});var x=e("<div></div>").addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),_=e("<div></div>").addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),E="right"==i.position?{right:i.distance}:{left:i.distance};x.css(E),_.css(E),y.wrap(b),y.parent().append(_),y.parent().append(x),i.railDraggable&&_.bind("mousedown",function(n){var i=e(document);return h=!0,t=parseFloat(_.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,_.css("top",currTop),r(0,_.position().top,!1)}),i.bind("mouseup.slimscroll",function(e){h=!1,l(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),x.hover(function(){s()},function(){l()}),_.hover(function(){c=!0},function(){c=!1}),y.hover(function(){d=!0,s(),l()},function(){d=!1,l()}),y.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(p=e.originalEvent.touches[0].pageY)}),y.bind("touchmove",function(e){v||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(r((p-e.originalEvent.touches[0].pageY)/i.touchScrollStep,!0),p=e.originalEvent.touches[0].pageY)}),a(),"bottom"===i.start?(_.css({top:y.outerHeight()-_.outerHeight()}),r(0,!0)):"top"!==i.start&&(r(e(i.start).position().top,null,!0),i.alwaysVisible||_.hide()),window.addEventListener?(this.addEventListener("DOMMouseScroll",o,!1),this.addEventListener("mousewheel",o,!1)):document.attachEvent("onmousewheel",o)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),!function(){"use strict";angular.module("ui.tree",[]).constant("treeConfig",{treeClass:"angular-ui-tree",emptyTreeClass:"angular-ui-tree-empty",hiddenClass:"angular-ui-tree-hidden",nodesClass:"angular-ui-tree-nodes",nodeClass:"angular-ui-tree-node",handleClass:"angular-ui-tree-handle",placeholderClass:"angular-ui-tree-placeholder",dragClass:"angular-ui-tree-drag",dragThreshold:3,levelThreshold:30,defaultCollapsed:!1})}(),function(){"use strict";angular.module("ui.tree").controller("TreeHandleController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$nodeScope=null,e.$type="uiTreeHandle"}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodeController",["$scope","$element",function(e,t){function n(e){var t,i,o,r=0,a=e.childNodes();if(!a||0===a.length)return 0;for(o=a.length-1;o>=0;o--)t=a[o],i=1+n(t),r=Math.max(r,i);return r}this.scope=e,e.$element=t,e.$modelValue=null,e.$parentNodeScope=null,e.$childNodesScope=null,e.$parentNodesScope=null,e.$treeScope=null,e.$handleScope=null,e.$type="uiTreeNode",e.$$allowNodeDrop=!1,e.collapsed=!1,e.init=function(n){var i=n[0];e.$treeScope=n[1]?n[1].scope:null,e.$parentNodeScope=i.scope.$nodeScope,e.$modelValue=i.scope.$modelValue[e.$index],e.$parentNodesScope=i.scope,i.scope.initSubNode(e),t.on("$destroy",function(){i.scope.destroySubNode(e)})},e.index=function(){return e.$parentNodesScope.$modelValue.indexOf(e.$modelValue)},e.dragEnabled=function(){return!(e.$treeScope&&!e.$treeScope.dragEnabled)},e.isSibling=function(t){return e.$parentNodesScope==t.$parentNodesScope},e.isChild=function(t){var n=e.childNodes();return n&&n.indexOf(t)>-1},e.prev=function(){var t=e.index();return t>0?e.siblings()[t-1]:null},e.siblings=function(){return e.$parentNodesScope.childNodes()},e.childNodesCount=function(){return e.childNodes()?e.childNodes().length:0},e.hasChild=function(){return e.childNodesCount()>0},e.childNodes=function(){return e.$childNodesScope&&e.$childNodesScope.$modelValue?e.$childNodesScope.childNodes():null},e.accept=function(t,n){return e.$childNodesScope&&e.$childNodesScope.$modelValue&&e.$childNodesScope.accept(t,n)},e.removeNode=function(){var t=e.remove();return e.$callbacks.removed(t),t},e.remove=function(){return e.$parentNodesScope.removeNode(e)},e.toggle=function(){e.collapsed=!e.collapsed},e.collapse=function(){e.collapsed=!0},e.expand=function(){e.collapsed=!1},e.depth=function(){var t=e.$parentNodeScope;return t?t.depth()+1:1},e.maxSubDepth=function(){return e.$childNodesScope?n(e.$childNodesScope):0}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodesController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$modelValue=null,e.$nodeScope=null,e.$treeScope=null,e.$type="uiTreeNodes",e.$nodesMap={},e.nodropEnabled=!1,e.maxDepth=0,e.cloneEnabled=!1,e.initSubNode=function(t){return t.$modelValue?void(e.$nodesMap[t.$modelValue.$$hashKey]=t):null},e.destroySubNode=function(t){return t.$modelValue?void(e.$nodesMap[t.$modelValue.$$hashKey]=null):null},e.accept=function(t,n){return e.$treeScope.$callbacks.accept(t,e,n)},e.beforeDrag=function(t){return e.$treeScope.$callbacks.beforeDrag(t)},e.isParent=function(t){return t.$parentNodesScope==e},e.hasChild=function(){return e.$modelValue.length>0},e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},e.removeNode=function(t){var n=e.$modelValue.indexOf(t.$modelValue);return n>-1?(e.safeApply(function(){e.$modelValue.splice(n,1)[0]}),t):null},e.insertNode=function(t,n){e.safeApply(function(){e.$modelValue.splice(t,0,n)})},e.childNodes=function(){var t,n=[];if(e.$modelValue)for(t=0;t<e.$modelValue.length;t++)n.push(e.$nodesMap[e.$modelValue[t].$$hashKey]);return n},e.depth=function(){return e.$nodeScope?e.$nodeScope.depth():0},e.outOfDepth=function(t){var n=e.maxDepth||e.$treeScope.maxDepth;return n>0?e.depth()+t.maxSubDepth()+1>n:!1}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$nodesScope=null,e.$type="uiTree",e.$emptyElm=null,e.$callbacks=null,e.dragEnabled=!0,e.emptyPlaceholderEnabled=!0,e.maxDepth=0,e.dragDelay=0,e.cloneEnabled=!1,e.nodropEnabled=!1,e.isEmpty=function(){return e.$nodesScope&&e.$nodesScope.$modelValue&&0===e.$nodesScope.$modelValue.length},e.place=function(t){e.$nodesScope.$element.append(t),e.$emptyElm.remove()},this.resetEmptyElement=function(){e.$nodesScope.$modelValue&&0!==e.$nodesScope.$modelValue.length||!e.emptyPlaceholderEnabled?e.$emptyElm.remove():t.append(e.$emptyElm)},e.resetEmptyElement=this.resetEmptyElement;var n=function(e,t){var i,o,r=e.childNodes();for(i=0;i<r.length;i++)t?r[i].collapse():r[i].expand(),o=r[i].$childNodesScope,o&&n(o,t)};e.collapseAll=function(){n(e.$nodesScope,!0)},e.expandAll=function(){n(e.$nodesScope,!1)}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTree",["treeConfig","$window",function(e,t){return{restrict:"A",scope:!0,controller:"TreeController",link:function(n,i,o,r){var a,s,l,d={accept:null,beforeDrag:null},c={};angular.extend(c,e),c.treeClass&&i.addClass(c.treeClass),"table"===i.prop("tagName").toLowerCase()?(n.$emptyElm=angular.element(t.document.createElement("tr")),s=i.find("tr"),l=s.length>0?angular.element(s).children().length:1e6,a=angular.element(t.document.createElement("td")).attr("colspan",l),n.$emptyElm.append(a)):n.$emptyElm=angular.element(t.document.createElement("div")),c.emptyTreeClass&&n.$emptyElm.addClass(c.emptyTreeClass),n.$watch("$nodesScope.$modelValue.length",function(e){angular.isNumber(e)&&r.resetEmptyElement()},!0),n.$watch(o.dragEnabled,function(e){"boolean"==typeof e&&(n.dragEnabled=e)}),n.$watch(o.emptyPlaceholderEnabled,function(e){"boolean"==typeof e&&(n.emptyPlaceholderEnabled=e,r.resetEmptyElement())}),n.$watch(o.nodropEnabled,function(e){"boolean"==typeof e&&(n.nodropEnabled=e)}),n.$watch(o.cloneEnabled,function(e){"boolean"==typeof e&&(n.cloneEnabled=e)}),n.$watch(o.maxDepth,function(e){"number"==typeof e&&(n.maxDepth=e)}),n.$watch(o.dragDelay,function(e){"number"==typeof e&&(n.dragDelay=e)}),d.accept=function(e,t,n){return!(t.nodropEnabled||t.$treeScope.nodropEnabled||t.outOfDepth(e))},d.beforeDrag=function(e){return!0},d.removed=function(e){},d.dropped=function(e){},d.dragStart=function(e){},d.dragMove=function(e){},d.dragStop=function(e){},d.beforeDrop=function(e){},n.$watch(o.uiTree,function(e,t){angular.forEach(e,function(e,t){d[t]&&"function"==typeof e&&(d[t]=e)}),n.$callbacks=d},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeHandle",["treeConfig",function(e){return{require:"^uiTreeNode",restrict:"A",scope:!0,controller:"TreeHandleController",link:function(t,n,i,o){var r={};angular.extend(r,e),r.handleClass&&n.addClass(r.handleClass),t!=o.scope&&(t.$nodeScope=o.scope,o.scope.$handleScope=t)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","UiTreeHelper","$window","$document","$timeout","$q","$rootElement",function(e,t,n,i,o,r,a){return{require:["^uiTreeNodes","^uiTree"],restrict:"A",controller:"TreeNodeController",link:function(s,l,d,c){var h,u,p,m,f,g,v,y,b,_,x,E,C,w,T,S,M,$,k,A,L,N,O={},D="ontouchstart"in window,z=null,I=document.body,R=document.documentElement;angular.extend(O,e),O.nodeClass&&l.addClass(O.nodeClass),s.init(c),s.collapsed=!!t.getNodeAttribute(s,"collapsed")||e.defaultCollapsed,s.sourceOnly=s.nodropEnabled||s.$treeScope.nodropEnabled,s.$watch(d.collapsed,function(e){"boolean"==typeof e&&(s.collapsed=e)}),s.$watch("collapsed",function(e){t.setNodeAttribute(s,"collapsed",e),d.$set("collapsed",e)}),_=function(e){if((D||2!=e.button&&3!=e.which)&&!(e.uiTreeDragging||e.originalEvent&&e.originalEvent.uiTreeDragging)){var o,r,d,c,_,x=angular.element(e.target),E=x.scope(),C=l.clone();if(E&&E.$type&&!("uiTreeNode"!=E.$type&&"uiTreeHandle"!=E.$type||"uiTreeNode"==E.$type&&E.$handleScope||(o=x.prop("tagName").toLowerCase(),"input"==o||"textarea"==o||"button"==o||"select"==o))){for(;x&&x[0]&&x[0]!=l;){if(t.nodrag(x))return;x=x.parent()}s.beforeDrag(s)&&(e.uiTreeDragging=!0,e.originalEvent&&(e.originalEvent.uiTreeDragging=!0),e.preventDefault(),d=t.eventObj(e),h=!0,u=t.dragInfo(s),r=l.prop("tagName"),"tr"===r.toLowerCase()?(m=angular.element(n.document.createElement(r)),c=angular.element(n.document.createElement("td")).addClass(O.placeholderClass).attr("colspan",l[0].children.length),m.append(c)):m=angular.element(n.document.createElement(r)).addClass(O.placeholderClass),f=angular.element(n.document.createElement(r)),O.hiddenClass&&f.addClass(O.hiddenClass),p=t.positionStarted(d,l),m.css("height",t.height(l)+"px"),g=angular.element(n.document.createElement(s.$parentNodesScope.$element.prop("tagName"))).addClass(s.$parentNodesScope.$element.attr("class")).addClass(O.dragClass),g.css("width",t.width(l)+"px"),g.css("z-index",9999),_=(l[0].querySelector(".angular-ui-tree-handle")||l[0]).currentStyle,_&&(document.body.setAttribute("ui-tree-cursor",i.find("body").css("cursor")||""),i.find("body").css({cursor:_.cursor+"!important"})),s.sourceOnly&&m.css("display","none"),l.after(m),l.after(f),u.isClone()&&s.sourceOnly?g.append(C):g.append(l),a.append(g),g.css({left:d.pageX-p.offsetX+"px",top:d.pageY-p.offsetY+"px"}),v={placeholder:m,dragging:g},k(),s.$apply(function(){s.$treeScope.$callbacks.dragStart(u.eventArgs(v,p))}),y=Math.max(I.scrollHeight,I.offsetHeight,R.clientHeight,R.scrollHeight,R.offsetHeight),b=Math.max(I.scrollWidth,I.offsetWidth,R.clientWidth,R.scrollWidth,R.offsetWidth))}}},x=function(e){var i,o,r,a,l,d,c,f,_,x,E,C,w,T,S,M,$=t.eventObj(e);if(g){if(e.preventDefault(),n.getSelection?n.getSelection().removeAllRanges():n.document.selection&&n.document.selection.empty(),r=$.pageX-p.offsetX,a=$.pageY-p.offsetY,0>r&&(r=0),
0>a&&(a=0),a+10>y&&(a=y-10),r+10>b&&(r=b-10),g.css({left:r+"px",top:a+"px"}),l=window.pageYOffset||n.document.documentElement.scrollTop,d=l+(window.innerHeight||n.document.clientHeight||n.document.clientHeight),d<$.pageY&&y>=d&&window.scrollBy(0,10),l>$.pageY&&window.scrollBy(0,-10),t.positionMoved(e,p,h),h)return void(h=!1);if(f=t.offset(g).left-t.offset(m).left>=O.threshold,_=$.pageX-(n.pageXOffset||n.document.body.scrollLeft||n.document.documentElement.scrollLeft)-(n.document.documentElement.clientLeft||0),x=$.pageY-(n.pageYOffset||n.document.body.scrollTop||n.document.documentElement.scrollTop)-(n.document.documentElement.clientTop||0),angular.isFunction(g.hide)?g.hide():(E=g[0].style.display,g[0].style.display="none"),n.document.elementFromPoint(_,x),w=angular.element(n.document.elementFromPoint(_,x)),angular.isFunction(g.show)?g.show():g[0].style.display=E,N=!w.scope()||!w.scope().$type,N&&(m.remove(),z&&(z.resetEmptyElement(),z=null)),p.dirAx&&p.distAxX>=O.levelThreshold&&(p.distAxX=0,p.distX>0&&(i=u.prev(),i&&!i.collapsed&&i.accept(s,i.childNodesCount())&&(i.$childNodesScope.$element.append(m),u.moveTo(i.$childNodesScope,i.childNodes(),i.childNodesCount()))),p.distX<0&&(o=u.next(),o||(c=u.parentNode(),c&&c.$parentNodesScope.accept(s,c.index()+1)&&(c.$element.after(m),u.moveTo(c.$parentNodesScope,c.siblings(),c.index()+1))))),!p.dirAx){if(C=w.scope(),T=!1,!C)return;if(!C.$treeScope||C.$parent.nodropEnabled||C.$treeScope.nodropEnabled||m.css("display",""),"uiTree"==C.$type&&C.dragEnabled&&(T=C.isEmpty()),"uiTreeHandle"==C.$type&&(C=C.$nodeScope),"uiTreeNode"!=C.$type&&!T)return;z&&m.parent()[0]!=z.$element[0]&&(z.resetEmptyElement(),z=null),T?(z=C,C.$nodesScope.accept(s,0)&&(C.place(m),u.moveTo(C.$nodesScope,C.$nodesScope.childNodes(),0))):C.dragEnabled()&&(w=C.$element,S=t.offset(w),M=C.horizontal?$.pageX<S.left+t.width(w)/2:$.pageY<S.top+t.height(w)/2,C.$parentNodesScope.accept(s,C.index())?M?(w[0].parentNode.insertBefore(m[0],w[0]),u.moveTo(C.$parentNodesScope,C.siblings(),C.index())):(w.after(m),u.moveTo(C.$parentNodesScope,C.siblings(),C.index()+1)):!M&&C.accept(s,C.childNodesCount())?(C.$childNodesScope.$element.append(m),u.moveTo(C.$childNodesScope,C.childNodes(),C.childNodesCount())):N=!0)}s.$apply(function(){s.$treeScope.$callbacks.dragMove(u.eventArgs(v,p))})}},E=function(e){var t=u.eventArgs(v,p);e.preventDefault(),A(),s.$treeScope.$apply(function(){r.when(s.$treeScope.$callbacks.beforeDrop(t)).then(function(e){e!==!1&&s.$$allowNodeDrop&&!N?(u.apply(),s.$treeScope.$callbacks.dropped(t)):$()})["catch"](function(){$()})["finally"](function(){f.replaceWith(s.$element),m.remove(),g&&(g.remove(),g=null),s.$treeScope.$callbacks.dragStop(t),s.$$allowNodeDrop=!1,u=null;var e=document.body.getAttribute("ui-tree-cursor");null!==e&&(i.find("body").css({cursor:e}),document.body.removeAttribute("ui-tree-cursor"))})})},C=function(e){s.dragEnabled()&&_(e)},w=function(e){x(e)},T=function(e){s.$$allowNodeDrop=!0,E(e)},S=function(e){E(e)},M=function(){var e;return{exec:function(t,n){n||(n=0),this.cancel(),e=o(t,n)},cancel:function(){o.cancel(e)}}}(),$=function(){l.bind("touchstart mousedown",function(e){M.exec(function(){C(e)},s.dragDelay||0)}),l.bind("touchend touchcancel mouseup",function(){M.cancel()})},$(),k=function(){angular.element(i).bind("touchend",T),angular.element(i).bind("touchcancel",T),angular.element(i).bind("touchmove",w),angular.element(i).bind("mouseup",T),angular.element(i).bind("mousemove",w),angular.element(i).bind("mouseleave",S)},A=function(){angular.element(i).unbind("touchend",T),angular.element(i).unbind("touchcancel",T),angular.element(i).unbind("touchmove",w),angular.element(i).unbind("mouseup",T),angular.element(i).unbind("mousemove",w),angular.element(i).unbind("mouseleave",S)},L=function(e){27==e.keyCode&&(s.$$allowNodeDrop=!1,E(e))},angular.element(n.document).bind("keydown",L),s.$on("$destroy",function(){angular.element(n.document).unbind("keydown",L)})}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNodes",["treeConfig","$window",function(e){return{require:["ngModel","?^uiTreeNode","^uiTree"],restrict:"A",scope:!0,controller:"TreeNodesController",link:function(t,n,i,o){var r={},a=o[0],s=o[1],l=o[2];angular.extend(r,e),r.nodesClass&&n.addClass(r.nodesClass),s?(s.scope.$childNodesScope=t,t.$nodeScope=s.scope):l.scope.$nodesScope=t,t.$treeScope=l.scope,a&&(a.$render=function(){t.$modelValue=a.$modelValue}),t.$watch(function(){return i.maxDepth},function(e){"number"==typeof e&&(t.maxDepth=e)}),t.$watch(function(){return i.nodropEnabled},function(e){"undefined"!=typeof e&&(t.nodropEnabled=!0)},!0),i.$observe("horizontal",function(e){t.horizontal="undefined"!=typeof e})}}}])}(),function(){"use strict";angular.module("ui.tree").factory("UiTreeHelper",["$document","$window",function(e,t){return{nodesData:{},setNodeAttribute:function(e,t,n){if(!e.$modelValue)return null;var i=this.nodesData[e.$modelValue.$$hashKey];i||(i={},this.nodesData[e.$modelValue.$$hashKey]=i),i[t]=n},getNodeAttribute:function(e,t){if(!e.$modelValue)return null;var n=this.nodesData[e.$modelValue.$$hashKey];return n?n[t]:null},nodrag:function(e){return"undefined"!=typeof e.attr("data-nodrag")?"false"!==e.attr("data-nodrag"):!1},eventObj:function(e){var t=e;return void 0!==e.targetTouches?t=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(t=e.originalEvent.targetTouches.item(0)),t},dragInfo:function(e){return{source:e,sourceInfo:{cloneModel:e.$treeScope.cloneEnabled===!0?angular.copy(e.$modelValue):void 0,nodeScope:e,index:e.index(),nodesScope:e.$parentNodesScope},index:e.index(),siblings:e.siblings().slice(0),parent:e.$parentNodesScope,moveTo:function(e,t,n){this.parent=e,this.siblings=t.slice(0);var i=this.siblings.indexOf(this.source);i>-1&&(this.siblings.splice(i,1),this.source.index()<n&&n--),this.siblings.splice(n,0,this.source),this.index=n},parentNode:function(){return this.parent.$nodeScope},prev:function(){return this.index>0?this.siblings[this.index-1]:null},next:function(){return this.index<this.siblings.length-1?this.siblings[this.index+1]:null},isClone:function(){return this.source.$treeScope.cloneEnabled===!0},clonedNode:function(e){return angular.copy(e)},isDirty:function(){return this.source.$parentNodesScope!=this.parent||this.source.index()!=this.index},isForeign:function(){return this.source.$treeScope!==this.parent.$treeScope},eventArgs:function(e,t){return{source:this.sourceInfo,dest:{index:this.index,nodesScope:this.parent},elements:e,pos:t}},apply:function(){var e=this.source.$modelValue;this.parent.nodropEnabled||this.parent.$treeScope.nodropEnabled||this.isDirty()&&(this.isClone()&&this.isForeign()?this.parent.insertNode(this.index,this.sourceInfo.cloneModel):(this.source.remove(),this.parent.insertNode(this.index,e)))}}},height:function(e){return e.prop("scrollHeight")},width:function(e){return e.prop("scrollWidth")},offset:function(n){var i=n[0].getBoundingClientRect();return{width:n.prop("offsetWidth"),height:n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].body.scrollTop||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].body.scrollLeft||e[0].documentElement.scrollLeft)}},positionStarted:function(e,t){var n={},i=e.pageX,o=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(i=e.originalEvent.touches[0].pageX,o=e.originalEvent.touches[0].pageY),n.offsetX=i-this.offset(t).left,n.offsetY=o-this.offset(t).top,n.startX=n.lastX=i,n.startY=n.lastY=o,n.nowX=n.nowY=n.distX=n.distY=n.dirAx=0,n.dirX=n.dirY=n.lastDirX=n.lastDirY=n.distAxX=n.distAxY=0,n},positionMoved:function(e,t,n){var i,o=e.pageX,r=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(o=e.originalEvent.touches[0].pageX,r=e.originalEvent.touches[0].pageY),t.lastX=t.nowX,t.lastY=t.nowY,t.nowX=o,t.nowY=r,t.distX=t.nowX-t.lastX,t.distY=t.nowY-t.lastY,t.lastDirX=t.dirX,t.lastDirY=t.dirY,t.dirX=0===t.distX?0:t.distX>0?1:-1,t.dirY=0===t.distY?0:t.distY>0?1:-1,i=Math.abs(t.distX)>Math.abs(t.distY)?1:0,n?(t.dirAx=i,void(t.moving=!0)):(t.dirAx!==i?(t.distAxX=0,t.distAxY=0):(t.distAxX+=Math.abs(t.distX),0!==t.dirX&&t.dirX!==t.lastDirX&&(t.distAxX=0),t.distAxY+=Math.abs(t.distY),0!==t.dirY&&t.dirY!==t.lastDirY&&(t.distAxY=0)),void(t.dirAx=i))}}}])}(),angular.module("ngMap",[]),function(){"use strict";var e,t=function(t,n,i,o,r,a,s){e=r;var l=this;l.mapOptions,l.mapEvents,l.addObject=function(e,t){if(l.map){l.map[e]=l.map[e]||{};var n=Object.keys(l.map[e]).length;l.map[e][t.id||n]=t,l.map instanceof google.maps.Map&&("infoWindows"!=e&&t.setMap&&t.setMap&&t.setMap(l.map),t.centered&&t.position&&l.map.setCenter(t.position),"markers"==e&&l.objectChanged("markers"),"customMarkers"==e&&l.objectChanged("customMarkers"))}},l.deleteObject=function(e,t){if(t.map){var n=t.map[e];for(var i in n)n[i]===t&&(google.maps.event.clearInstanceListeners(t),delete n[i]);t.map&&t.setMap&&t.setMap(null),"markers"==e&&l.objectChanged("markers"),"customMarkers"==e&&l.objectChanged("customMarkers")}},l.observeAttrSetObj=function(t,n,i){if(n.noWatcher)return!1;for(var o=e.getAttrsToObserve(t),r=0;r<o.length;r++){var s=o[r];n.$observe(s,a.observeAndSet(s,i))}},l.zoomToIncludeMarkers=function(){var e=new google.maps.LatLngBounds;for(var t in l.map.markers)e.extend(l.map.markers[t].getPosition());for(var n in l.map.customMarkers)e.extend(l.map.customMarkers[n].getPosition());l.map.fitBounds(e)},l.objectChanged=function(e){!l.map||"markers"!=e&&"customMarkers"!=e||"auto"!=l.map.zoomToIncludeMarkers||l.zoomToIncludeMarkers()},l.initializeMap=function(){var r=l.mapOptions,c=l.mapEvents,h=l.map;if(l.map=s.getMapInstance(n[0]),a.setStyle(n[0]),h){var u=e.filter(i),p=e.getOptions(u),m=e.getControlOptions(u);r=angular.extend(p,m);for(var f in h){var g=h[f];if("object"==typeof g)for(var v in g)l.addObject(f,g[v])}l.map.showInfoWindow=l.showInfoWindow,l.map.hideInfoWindow=l.hideInfoWindow}r.zoom=r.zoom||15;var y=r.center;if(!r.center||"string"==typeof y&&y.match(/\{\{.*\}\}/))r.center=new google.maps.LatLng(0,0);else if(!(y instanceof google.maps.LatLng)){var b=r.center;delete r.center,a.getGeoLocation(b,r.geoLocationOptions).then(function(e){l.map.setCenter(e);var n=r.geoCallback;n&&o(n)(t)},function(){r.geoFallbackCenter&&l.map.setCenter(r.geoFallbackCenter)})}l.map.setOptions(r);for(var _ in c)google.maps.event.addListener(l.map,_,c[_]);l.observeAttrSetObj(d,i,l.map),l.singleInfoWindow=r.singleInfoWindow,google.maps.event.addListenerOnce(l.map,"idle",function(){a.addMap(l),r.zoomToIncludeMarkers&&l.zoomToIncludeMarkers(),t.map=l.map,t.$emit("mapInitialized",l.map),i.mapInitialized&&o(i.mapInitialized)(t,{map:l.map})})},t.google=google;var d=e.orgAttributes(n),c=e.filter(i),h=e.getOptions(c,{scope:t}),u=e.getControlOptions(c),p=angular.extend(h,u),m=e.getEvents(t,c);Object.keys(m).length&&void 0,l.mapOptions=p,l.mapEvents=m,h.lazyInit?(l.map={id:i.id},a.addMap(l)):l.initializeMap(),h.triggerResize&&google.maps.event.trigger(l.map,"resize"),n.bind("$destroy",function(){s.returnMapInstance(l.map),a.deleteMap(l)})};t.$inject=["$scope","$element","$attrs","$parse","Attr2MapOptions","NgMap","NgMapPool"],angular.module("ngMap").controller("__MapController",t)}(),function(){"use strict";var e,t=function(t,i,o,r){r=r[0]||r[1];var a=e.orgAttributes(i),s=e.filter(o),l=e.getOptions(s,{scope:t}),d=e.getEvents(t,s),c=n(l,d);r.addObject("bicyclingLayers",c),r.observeAttrSetObj(a,o,c),i.bind("$destroy",function(){r.deleteObject("bicyclingLayers",c)})},n=function(e,t){var n=new google.maps.BicyclingLayer(e);for(var i in t)google.maps.event.addListener(n,i,t[i]);return n},i=function(n){return e=n,{restrict:"E",require:["?^map","?^ngMap"],link:t}};i.$inject=["Attr2MapOptions"],angular.module("ngMap").directive("bicyclingLayer",i)}(),function(){"use strict";var e,t,n,i=function(n,i,o,r){r=r[0]||r[1];var a=e.filter(o),s=e.getOptions(a,{scope:n}),l=e.getEvents(n,a),d=i[0].parentElement.removeChild(i[0]);t(d.innerHTML.trim())(n);for(var c in l)google.maps.event.addDomListener(d,c,l[c]);r.addObject("customControls",d);var h=s.position;r.map.controls[google.maps.ControlPosition[h]].push(d),i.bind("$destroy",function(){r.deleteObject("customControls",d)})},o=function(o,r,a){return e=o,t=r,n=a,{restrict:"E",require:["?^map","?^ngMap"],link:i}};o.$inject=["Attr2MapOptions","$compile","NgMap"],angular.module("ngMap").directive("customControl",o)}(),function(){"use strict";var e,t,n,i,o=function(e){e=e||{},this.el=document.createElement("div"),this.el.style.display="inline-block",this.el.style.visibility="hidden",this.visible=!0;for(var t in e)this[t]=e[t]},r=function(){o.prototype=new google.maps.OverlayView,o.prototype.setContent=function(e,t){this.el.innerHTML=e,this.el.style.position="absolute",t&&n(angular.element(this.el).contents())(t)},o.prototype.getDraggable=function(){return this.draggable},o.prototype.setDraggable=function(e){this.draggable=e},o.prototype.getPosition=function(){return this.position},o.prototype.setPosition=function(e){if(e&&(this.position=e),this.getProjection()&&"function"==typeof this.position.lng){var n=this.getProjection().fromLatLngToDivPixel(this.position),i=this;t(function(){var e=Math.round(n.x-i.el.offsetWidth/2),t=Math.round(n.y-i.el.offsetHeight-10);i.el.style.left=e+"px",i.el.style.top=t+"px",i.el.style.visibility="visible"},300)}},o.prototype.setZIndex=function(e){e&&(this.zIndex=e),this.el.style.zIndex=this.zIndex},o.prototype.setVisible=function(e){this.el.style.display=e?"inline-block":"none",this.visible=e},o.prototype.addClass=function(e){var t=this.el.className.trim().split(" ");-1==t.indexOf(e)&&t.push(e),this.el.className=t.join(" ")},o.prototype.removeClass=function(e){var t=this.el.className.split(" "),n=t.indexOf(e);n>-1&&t.splice(n,1),this.el.className=t.join(" ")},o.prototype.onAdd=function(){this.getPanes().overlayMouseTarget.appendChild(this.el)},o.prototype.draw=function(){this.setPosition(),this.setZIndex(this.zIndex),this.setVisible(this.visible)},o.prototype.onRemove=function(){this.el.parentNode.removeChild(this.el)}},a=function(n,r){return function(a,s,l,d){d=d[0]||d[1];var c=e.orgAttributes(s),h=e.filter(l),u=e.getOptions(h,{scope:a}),p=e.getEvents(a,h);s[0].style.display="none";var m=new o(u);t(function(){a.$watch("["+r.join(",")+"]",function(){m.setContent(n,a)}),m.setContent(s[0].innerHTML,a);var e=s[0].firstElementChild.className;m.addClass("custom-marker"),m.addClass(e),u.position instanceof google.maps.LatLng||i.getGeoLocation(u.position).then(function(e){m.setPosition(e)})});for(var f in p)google.maps.event.addDomListener(m.el,f,p[f]);d.addObject("customMarkers",m),d.observeAttrSetObj(c,l,m),s.bind("$destroy",function(){d.deleteObject("customMarkers",m)})}},s=function(o,s,l,d){return e=l,t=o,n=s,i=d,{restrict:"E",require:["?^map","?^ngMap"],compile:function(e){r(),e[0].style.display="none";var t=e.html(),n=t.match(/{{([^}]+)}}/g),i=[];return(n||[]).forEach(function(e){var t=e.replace("{{","").replace("}}","");-1==e.indexOf("::")&&-1==e.indexOf("this.")&&-1==i.indexOf(t)&&i.push(e.replace("{{","").replace("}}",""))}),a(t,i)}}};s.$inject=["$timeout","$compile","Attr2MapOptions","NgMap"],angular.module("ngMap").directive("customMarker",s)}(),function(){"use strict";var e,t,n,i=function(e,t){e.panel&&(e.panel=document.getElementById(e.panel)||document.querySelector(e.panel));var n=new google.maps.DirectionsRenderer(e);for(var i in t)google.maps.event.addListener(n,i,t[i]);return n},o=function(e,i){var o=new google.maps.DirectionsService,r=i;r.travelMode=r.travelMode||"DRIVING";var a=["origin","destination","travelMode","transitOptions","unitSystem","durationInTraffic","waypoints","optimizeWaypoints","provideRouteAlternatives","avoidHighways","avoidTolls","region"];for(var s in r)-1===a.indexOf(s)&&delete r[s];r.waypoints&&("[]"==r.waypoints||""===r.waypoints)&&delete r.waypoints;var l=function(n){o.route(n,function(n,i){i==google.maps.DirectionsStatus.OK&&t(function(){e.setDirections(n)})})};r.origin&&r.destination&&("current-location"==r.origin?n.getCurrentPosition().then(function(e){r.origin=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),l(r)}):"current-location"==r.destination?n.getCurrentPosition().then(function(e){r.destination=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),l(r)}):l(r))},r=function(r,a,s,l){var d=r;e=l,t=a,n=s;var c=function(n,r,a,s){s=s[0]||s[1];var l=d.orgAttributes(r),c=d.filter(a),h=d.getOptions(c,{scope:n}),u=d.getEvents(n,c),p=d.getAttrsToObserve(l),m=i(h,u);s.addObject("directionsRenderers",m),p.forEach(function(e){!function(e){a.$observe(e,function(n){if("panel"==e)t(function(){var e=document.getElementById(n)||document.querySelector(n);e&&m.setPanel(e)});else if(h[e]!==n){var i=d.toOptionValue(n,{key:e});h[e]=i,o(m,h)}})}(e)}),e.getMap().then(function(){o(m,h)}),r.bind("$destroy",function(){s.deleteObject("directionsRenderers",m)})};return{restrict:"E",require:["?^map","?^ngMap"],link:c}};r.$inject=["Attr2MapOptions","$timeout","NavigatorGeolocation","NgMap"],angular.module("ngMap").directive("directions",r)}(),function(){"use strict";angular.module("ngMap").directive("drawingManager",["Attr2MapOptions",function(e){var t=e;return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,n,i,o){o=o[0]||o[1];var r=t.filter(i),a=t.getOptions(r,{scope:e}),s=t.getControlOptions(r),l=t.getEvents(e,r),d=new google.maps.drawing.DrawingManager({drawingMode:a.drawingmode,drawingControl:a.drawingcontrol,drawingControlOptions:s.drawingControlOptions,circleOptions:a.circleoptions,markerOptions:a.markeroptions,polygonOptions:a.polygonoptions,polylineOptions:a.polylineoptions,rectangleOptions:a.rectangleoptions});i.$observe("drawingControlOptions",function(e){d.drawingControlOptions=t.getControlOptions({drawingControlOptions:e}).drawingControlOptions,d.setDrawingMode(null),d.setMap(o.map)});for(var c in l)google.maps.event.addListener(d,c,l[c]);o.addObject("mapDrawingManager",d),n.bind("$destroy",function(){o.deleteObject("mapDrawingManager",d)})}}}])}(),function(){"use strict";angular.module("ngMap").directive("dynamicMapsEngineLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.visualization.DynamicMapsEngineLayer(e);for(var i in t)google.maps.event.addListener(n,i,t[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,i,o,r){r=r[0]||r[1];var a=t.filter(o),s=t.getOptions(a,{scope:e}),l=t.getEvents(e,a,l),d=n(s,l);r.addObject("mapsEngineLayers",d)}}}])}(),function(){"use strict";angular.module("ngMap").directive("fusionTablesLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.FusionTablesLayer(e);for(var i in t)google.maps.event.addListener(n,i,t[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,i,o,r){r=r[0]||r[1];var a=t.filter(o),s=t.getOptions(a,{scope:e}),l=t.getEvents(e,a,l),d=n(s,l);r.addObject("fusionTablesLayers",d)}}}])}(),function(){"use strict";angular.module("ngMap").directive("heatmapLayer",["Attr2MapOptions","$window",function(e,t){var n=e;return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,i,o,r){r=r[0]||r[1];var a=n.filter(o),s=n.getOptions(a,{scope:e});if(s.data=t[o.data]||e[o.data],!(s.data instanceof Array))throw"invalid heatmap data";s.data=new google.maps.MVCArray(s.data);var l=new google.maps.visualization.HeatmapLayer(s);n.getEvents(e,a),r.addObject("heatmapLayers",l)}}}])}(),function(){"use strict";var e=function(e,t,n,i,o){var r=e,a=function(e,i,o){var r;!e.position||e.position instanceof google.maps.LatLng||delete e.position,r=new google.maps.InfoWindow(e);for(var a in i)a&&google.maps.event.addListener(r,a,i[a]);var s=o.html().trim();if(1!=angular.element(s).length)throw"info-window working as a template must have a container";return r.__template=s.replace(/\s?ng-non-bindable[='"]+/,""),r.__open=function(e,i,o){n(function(){o&&(i.anchor=o);var n=t(r.__template)(i);r.setContent(n[0]),i.$apply(),o&&o.getPosition?r.open(e,o):o&&o instanceof google.maps.LatLng?(r.open(e),r.setPosition(o)):r.open(e)})},r},s=function(e,t,n,s){s=s[0]||s[1],t.css("display","none");var l,d=r.orgAttributes(t),c=r.filter(n),h=r.getOptions(c,{scope:e}),u=r.getEvents(e,c);!h.position||h.position instanceof google.maps.LatLng||(l=h.position);var p=a(h,u,t);l&&o.getGeoLocation(l).then(function(t){p.setPosition(t),p.__open(s.map,e,t);var o=n.geoCallback;o&&i(o)(e)}),s.addObject("infoWindows",p),s.observeAttrSetObj(d,n,p),s.showInfoWindow=s.map.showInfoWindow=s.showInfoWindow||function(t,n,i){var o="string"==typeof t?t:n,r="string"==typeof t?n:i;if("string"==typeof r)if("undefined"!=typeof s.map.markers&&"undefined"!=typeof s.map.markers[r])r=s.map.markers[r];else{if("undefined"==typeof s.map.customMarkers[r])throw new Error("Cant open info window for id "+r+". Marker or CustomMarker is not defined");r=s.map.customMarkers[r]}var a=s.map.infoWindows[o],l=r?r:this.getPosition?this:null;a.__open(s.map,e,l),s.singleInfoWindow&&(s.lastInfoWindow&&e.hideInfoWindow(s.lastInfoWindow),s.lastInfoWindow=o)},s.hideInfoWindow=s.map.hideInfoWindow=s.hideInfoWindow||function(e,t){var n="string"==typeof e?e:t,i=s.map.infoWindows[n];i.close()},e.showInfoWindow=s.map.showInfoWindow,e.hideInfoWindow=s.map.hideInfoWindow,o.getMap().then(function(t){if(p.visible&&p.__open(t,e),p.visibleOnMarker){var n=p.visibleOnMarker;p.__open(t,e,t.markers[n])}})};return{restrict:"E",require:["?^map","?^ngMap"],link:s}};e.$inject=["Attr2MapOptions","$compile","$timeout","$parse","NgMap"],angular.module("ngMap").directive("infoWindow",e)}(),function(){"use strict";angular.module("ngMap").directive("kmlLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.KmlLayer(e);for(var i in t)google.maps.event.addListener(n,i,t[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,i,o,r){r=r[0]||r[1];var a=t.orgAttributes(i),s=t.filter(o),l=t.getOptions(s,{scope:e}),d=t.getEvents(e,s),c=n(l,d);r.addObject("kmlLayers",c),r.observeAttrSetObj(a,o,c),i.bind("$destroy",function(){r.deleteObject("kmlLayers",c)})}}}])}(),function(){"use strict";angular.module("ngMap").directive("mapData",["Attr2MapOptions","NgMap",function(e,t){var n=e;return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,i,o){var r=n.filter(o),a=n.getOptions(r,{scope:e}),s=n.getEvents(e,r,s);t.getMap().then(function(t){for(var n in a){var i=a[n];"function"==typeof e[i]?t.data[n](e[i]):t.data[n](i)}for(var o in s)t.data.addListener(o,s[o])})}}}])}(),function(){"use strict";var e,t,n,i,o=function(n,o,r){var a=r.mapLazyLoadParams||r.mapLazyLoad;if(window.lazyLoadCallback=function(){e(function(){o.html(i),t(o.contents())(n)},100)},void 0===window.google||void 0===window.google.maps){var s=document.createElement("script");s.src=a+(a.indexOf("?")>-1?"&":"?")+"callback=lazyLoadCallback",document.querySelector('script[src="'+s.src+'"]')||document.body.appendChild(s)}else o.html(i),t(o.contents())(n)},r=function(e,t){return!t.mapLazyLoad&&void 0,i=e.html(),n=t.mapLazyLoad,void 0!==window.google&&void 0!==window.google.maps?!1:(e.html(""),{pre:o})},a=function(n,i){return t=n,e=i,{compile:r}};a.$inject=["$compile","$timeout"],angular.module("ngMap").directive("mapLazyLoad",a)}(),function(){"use strict";angular.module("ngMap").directive("mapType",["$parse","NgMap",function(e,t){return{restrict:"E",require:["?^map","?^ngMap"],link:function(n,i,o,r){r=r[0]||r[1];var a,s=o.name;if(!s)throw"invalid map-type name";if(a=e(o.object)(n),!a)throw"invalid map-type object";t.getMap().then(function(e){e.mapTypes.set(s,a)}),r.addObject("mapTypes",a)}}}])}(),function(){"use strict";var e=function(){return{restrict:"AE",controller:"__MapController",conrollerAs:"ngmap"}};angular.module("ngMap").directive("map",[e]),angular.module("ngMap").directive("ngMap",[e])}(),function(){"use strict";angular.module("ngMap").directive("mapsEngineLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.visualization.MapsEngineLayer(e);for(var i in t)google.maps.event.addListener(n,i,t[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,i,o,r){r=r[0]||r[1];var a=t.filter(o),s=t.getOptions(a,{scope:e}),l=t.getEvents(e,a,l),d=n(s,l);r.addObject("mapsEngineLayers",d)}}}])}(),function(){"use strict";var e,t,n,i=function(e,t){var i;if(n.defaultOptions.marker)for(var o in n.defaultOptions.marker)"undefined"==typeof e[o]&&(e[o]=n.defaultOptions.marker[o]);e.position instanceof google.maps.LatLng||(e.position=new google.maps.LatLng(0,0)),i=new google.maps.Marker(e),Object.keys(t).length>0;for(var r in t)r&&google.maps.event.addListener(i,r,t[r]);return i},o=function(o,r,a,s){s=s[0]||s[1];var l,d=e.orgAttributes(r),c=e.filter(a),h=e.getOptions(c,o,{scope:o}),u=e.getEvents(o,c);h.position instanceof google.maps.LatLng||(l=h.position);var p=i(h,u);s.addObject("markers",p),l&&n.getGeoLocation(l).then(function(e){p.setPosition(e),h.centered&&p.map.setCenter(e);var n=a.geoCallback;n&&t(n)(o)}),s.observeAttrSetObj(d,a,p),r.bind("$destroy",function(){s.deleteObject("markers",p)})},r=function(i,r,a){return e=i,t=r,n=a,{restrict:"E",require:["^?map","?^ngMap"],link:o}};r.$inject=["Attr2MapOptions","$parse","NgMap"],angular.module("ngMap").directive("marker",r)}(),function(){"use strict";angular.module("ngMap").directive("overlayMapType",["NgMap",function(e){return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,n,i,o){o=o[0]||o[1];var r=i.initMethod||"insertAt",a=t[i.object];e.getMap().then(function(e){if("insertAt"==r){var t=parseInt(i.index,10);e.overlayMapTypes.insertAt(t,a)}else"push"==r&&e.overlayMapTypes.push(a)}),o.addObject("overlayMapTypes",a)}}}])}(),function(){"use strict";var e=function(e,t){var n=e,i=function(e,i,o,r){if("false"===o.placesAutoComplete)return!1;var a=n.filter(o),s=n.getOptions(a,{scope:e}),l=n.getEvents(e,a),d=new google.maps.places.Autocomplete(i[0],s);for(var c in l)google.maps.event.addListener(d,c,l[c]);var h=function(){t(function(){r&&r.$setViewValue(i.val())},100)};google.maps.event.addListener(d,"place_changed",h),i[0].addEventListener("change",h),o.$observe("types",function(e){if(e){var t=n.toOptionValue(e,{key:"types"});d.setTypes(t)}})};return{restrict:"A",require:"?ngModel",link:i}};e.$inject=["Attr2MapOptions","$timeout"],angular.module("ngMap").directive("placesAutoComplete",e)}(),function(){"use strict";var e=function(e,t){var n,i=e.name;switch(delete e.name,i){case"circle":e.center instanceof google.maps.LatLng||(e.center=new google.maps.LatLng(0,0)),n=new google.maps.Circle(e);break;case"polygon":n=new google.maps.Polygon(e);break;case"polyline":n=new google.maps.Polyline(e);break;case"rectangle":n=new google.maps.Rectangle(e);break;case"groundOverlay":case"image":var o=e.url,r={opacity:e.opacity,clickable:e.clickable,id:e.id};n=new google.maps.GroundOverlay(o,e.bounds,r)}for(var a in t)t[a]&&google.maps.event.addListener(n,a,t[a]);return n},t=function(t,n,i){var o=t,r=function(t,r,a,s){s=s[0]||s[1];var l,d,c=o.orgAttributes(r),h=o.filter(a),u=o.getOptions(h,{scope:t}),p=o.getEvents(t,h);d=u.name,u.center instanceof google.maps.LatLng||(l=u.center);var m=e(u,p);s.addObject("shapes",m),l&&"circle"==d&&i.getGeoLocation(l).then(function(e){m.setCenter(e),m.centered&&m.map.setCenter(e);var i=a.geoCallback;i&&n(i)(t)}),s.observeAttrSetObj(c,a,m),r.bind("$destroy",function(){s.deleteObject("shapes",m)})};return{restrict:"E",require:["?^map","?^ngMap"],link:r}};t.$inject=["Attr2MapOptions","$parse","NgMap"],angular.module("ngMap").directive("shape",t)}(),function(){"use strict";var e=function(e,t){var n=e,i=function(e,t,n){var i,o;t.container&&(o=document.getElementById(t.container),o=o||document.querySelector(t.container)),o?i=new google.maps.StreetViewPanorama(o,t):(i=e.getStreetView(),i.setOptions(t));for(var r in n)r&&google.maps.event.addListener(i,r,n[r]);return i},o=function(e,o,r){var a=n.filter(r),s=n.getOptions(a,{scope:e}),l=n.getControlOptions(a),d=angular.extend(s,l),c=n.getEvents(e,a);t.getMap().then(function(e){var t=i(e,d,c);e.setStreetView(t),!t.getPosition()&&t.setPosition(e.getCenter()),google.maps.event.addListener(t,"position_changed",function(){t.getPosition()!==e.getCenter()&&e.setCenter(t.getPosition())});var n=google.maps.event.addListener(e,"center_changed",function(){t.setPosition(e.getCenter()),google.maps.event.removeListener(n)})})};return{restrict:"E",require:["?^map","?^ngMap"],link:o}};e.$inject=["Attr2MapOptions","NgMap"],angular.module("ngMap").directive("streetViewPanorama",e)}(),function(){"use strict";angular.module("ngMap").directive("trafficLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.TrafficLayer(e);for(var i in t)google.maps.event.addListener(n,i,t[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,i,o,r){r=r[0]||r[1];var a=t.orgAttributes(i),s=t.filter(o),l=t.getOptions(s,{scope:e}),d=t.getEvents(e,s),c=n(l,d);r.addObject("trafficLayers",c),r.observeAttrSetObj(a,o,c),i.bind("$destroy",function(){r.deleteObject("trafficLayers",c)})}}}])}(),function(){"use strict";angular.module("ngMap").directive("transitLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.TransitLayer(e);for(var i in t)google.maps.event.addListener(n,i,t[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,i,o,r){r=r[0]||r[1];var a=t.orgAttributes(i),s=t.filter(o),l=t.getOptions(s,{scope:e}),d=t.getEvents(e,s),c=n(l,d);r.addObject("transitLayers",c),r.observeAttrSetObj(a,o,c),i.bind("$destroy",function(){r.deleteObject("transitLayers",c)})}}}])}(),function(){"use strict";var e=/([\:\-\_]+(.))/g,t=/^moz([A-Z])/,n=function(){return function(n){return n.replace(e,function(e,t,n,i){return i?n.toUpperCase():n}).replace(t,"Moz$1")}};angular.module("ngMap").filter("camelCase",n)}(),function(){"use strict";var e=function(){return function(e){try{return JSON.parse(e),e}catch(t){return e.replace(/([\$\w]+)\s*:/g,function(e,t){return'"'+t+'":'}).replace(/'([^']+)'/g,function(e,t){return'"'+t+'"'})}}};angular.module("ngMap").filter("jsonize",e)}(),function(){"use strict";var isoDateRE=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/,Attr2MapOptions=function($parse,$timeout,$log,NavigatorGeolocation,GeoCoder,camelCaseFilter,jsonizeFilter){var orgAttributes=function(e){e.length>0&&(e=e[0]);for(var t={},n=0;n<e.attributes.length;n++){var i=e.attributes[n];t[i.name]=i.value}return t},getJSON=function(e){var t=/^[\+\-]?[0-9\.]+,[ ]*\ ?[\+\-]?[0-9\.]+$/;return e.match(t)&&(e="["+e+"]"),JSON.parse(jsonizeFilter(e))},getLatLng=function(e){var t=e;return e[0].constructor==Array?t=e.map(function(e){return new google.maps.LatLng(e[0],e[1])}):!isNaN(parseFloat(e[0]))&&isFinite(e[0])&&(t=new google.maps.LatLng(t[0],t[1])),t},toOptionValue=function(input,options){var output;try{output=getNumber(input)}catch(err){try{var output=getJSON(input);if(output instanceof Array)output=output[0].constructor==Object?output:getLatLng(output);else if(output===Object(output)){var newOptions=options;newOptions.doNotConverStringToNumber=!0,output=getOptions(output,newOptions)}}catch(err2){if(input.match(/^[A-Z][a-zA-Z0-9]+\(.*\)$/))try{var exp="new google.maps."+input;output=eval(exp)}catch(e){output=input}else if(input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/))try{var matches=input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/);output=google.maps[matches[1]][matches[2]]}catch(e){output=input}else if(input.match(/^[A-Z]+$/))try{var capitalizedKey=options.key.charAt(0).toUpperCase()+options.key.slice(1);options.key.match(/temperatureUnit|windSpeedUnit|labelColor/)?(capitalizedKey=capitalizedKey.replace(/s$/,""),output=google.maps.weather[capitalizedKey][input]):output=google.maps[capitalizedKey][input]}catch(e){output=input}else if(input.match(isoDateRE))try{output=new Date(input)}catch(e){output=input}else if(input.match(/^{/)&&options.scope)try{var expr=input.replace(/{{/,"").replace(/}}/g,"");
output=options.scope.$eval(expr)}catch(err){output=input}else output=input}}if(("center"==options.key||"center"==options.key)&&output instanceof Array&&(output=new google.maps.LatLng(output[0],output[1])),"bounds"==options.key&&output instanceof Array&&(output=new google.maps.LatLngBounds(output[0],output[1])),"icons"==options.key&&output instanceof Array)for(var i=0;i<output.length;i++){var el=output[i];el.icon.path.match(/^[A-Z_]+$/)&&(el.icon.path=google.maps.SymbolPath[el.icon.path])}if("icon"==options.key&&output instanceof Object){(""+output.path).match(/^[A-Z_]+$/)&&(output.path=google.maps.SymbolPath[output.path]);for(var key in output){var arr=output[key];"anchor"==key||"origin"==key?output[key]=new google.maps.Point(arr[0],arr[1]):("size"==key||"scaledSize"==key)&&(output[key]=new google.maps.Size(arr[0],arr[1]))}}return output},getAttrsToObserve=function(e){var t=[];if(!e.noWatcher)for(var n in e){var i=e[n];i&&i.match(/\{\{.*\}\}/)&&t.push(camelCaseFilter(n))}return t},filter=function(e){var t={};for(var n in e)n.match(/^\$/)||n.match(/^ng[A-Z]/)||(t[n]=e[n]);return t},getOptions=function(e,t){t=t||{};var n={};for(var i in e)if(e[i]||0===e[i]){if(i.match(/^on[A-Z]/))continue;if(i.match(/ControlOptions$/))continue;n[i]="string"!=typeof e[i]?e[i]:t.doNotConverStringToNumber&&e[i].match(/^[0-9]+$/)?e[i]:toOptionValue(e[i],{key:i,scope:t.scope})}return n},getEvents=function(e,t){var n={},i=function(e){return"_"+e.toLowerCase()},o=function(t){var n=t.match(/([^\(]+)\(([^\)]*)\)/),i=n[1],o=n[2].replace(/event[ ,]*/,""),r=$parse("["+o+"]");return function(t){function n(e,t){return e[t]}var o=r(e),a=i.split(".").reduce(n,e);a&&a.apply(this,[t].concat(o)),$timeout(function(){e.$apply()})}};for(var r in t)if(t[r]){if(!r.match(/^on[A-Z]/))continue;var a=r.replace(/^on/,"");a=a.charAt(0).toLowerCase()+a.slice(1),a=a.replace(/([A-Z])/g,i);var s=t[r];n[a]=new o(s)}return n},getControlOptions=function(e){var t={};if("object"!=typeof e)return!1;for(var n in e)if(e[n]){if(!n.match(/(.*)ControlOptions$/))continue;var i=e[n],o=i.replace(/'/g,'"');o=o.replace(/([^"]+)|("[^"]+")/g,function(e,t,n){return t?t.replace(/([a-zA-Z0-9]+?):/g,'"$1":'):n});try{var r=JSON.parse(o);for(var a in r)if(r[a]){var s=r[a];if("string"==typeof s?s=s.toUpperCase():"mapTypeIds"===a&&(s=s.map(function(e){return e.match(/^[A-Z]+$/)?google.maps.MapTypeId[e.toUpperCase()]:e})),"style"===a){var l=n.charAt(0).toUpperCase()+n.slice(1),d=l.replace(/Options$/,"")+"Style";r[a]=google.maps[d][s]}else r[a]="position"===a?google.maps.ControlPosition[s]:s}t[n]=r}catch(c){}}return t};return{filter:filter,getOptions:getOptions,getEvents:getEvents,getControlOptions:getControlOptions,toOptionValue:toOptionValue,getAttrsToObserve:getAttrsToObserve,orgAttributes:orgAttributes}};Attr2MapOptions.$inject=["$parse","$timeout","$log","NavigatorGeolocation","GeoCoder","camelCaseFilter","jsonizeFilter"],angular.module("ngMap").service("Attr2MapOptions",Attr2MapOptions)}(),function(){"use strict";var e,t=function(t){var n=e.defer(),i=new google.maps.Geocoder;return i.geocode(t,function(e,t){t==google.maps.GeocoderStatus.OK?n.resolve(e):n.reject(t)}),n.promise},n=function(n){return e=n,{geocode:t}};n.$inject=["$q"],angular.module("ngMap").service("GeoCoder",n)}(),function(){"use strict";var e,t=function(t){var n=e.defer();return navigator.geolocation?(void 0===t?t={timeout:5e3}:void 0===t.timeout&&(t.timeout=5e3),navigator.geolocation.getCurrentPosition(function(e){n.resolve(e)},function(e){n.reject(e)},t)):n.reject("Browser Geolocation service failed."),n.promise},n=function(n){return e=n,{getCurrentPosition:t}};n.$inject=["$q"],angular.module("ngMap").service("NavigatorGeolocation",n)}(),function(){"use strict";var e,t,n=[],i=function(i){var o=t.createElement("div");o.style.width="100%",o.style.height="100%",i.appendChild(o);var r=new e.google.maps.Map(o,{});return n.push(r),r},o=function(e){for(var t,i=0;i<n.length;i++){var o=n[i];if(!o.inUse){var r=o.getDiv();e.appendChild(r),t=o;break}}return t},r=function(e){var t=o(e);return t||(t=i(e)),t.inUse=!0,t},a=function(e){e.inUse=!1},s=function(i,o){return t=i[0],e=o,{mapInstances:n,getMapInstance:r,returnMapInstance:a}};s.$inject=["$document","$window"],angular.module("ngMap").factory("NgMapPool",s)}(),function(){"use strict";var e,t,n,i,o,r,a,s={},l=function(n,i){var o;return n.currentStyle?o=n.currentStyle[i]:e.getComputedStyle&&(o=t.defaultView.getComputedStyle(n,null).getPropertyValue(i)),o},d=function(e){var t=s[e||0];return t.map instanceof google.maps.Map?void 0:(t.initializeMap(),t.map)},c=function(t){function i(t){s[r]?o.resolve(s[r].map):t>a?o.reject("could not find map"):e.setTimeout(function(){i(t+100)},100)}t=t||{};var o=n.defer(),r=t.id||0,a=t.timeout||2e3;return i(0),o.promise},h=function(e){if(e.map){var t=Object.keys(s).length;s[e.map.id||t]=e}},u=function(e){var t=Object.keys(s).length-1,n=e.map.id||t;e.map&&(google.maps.event.clearInstanceListeners(e.map),e.map.controls&&e.map.controls.forEach(function(e){e.clear()})),delete s[n]},p=function(e,t){var o=n.defer();return!e||e.match(/^current/i)?i.getCurrentPosition(t).then(function(e){var t=e.coords.latitude,n=e.coords.longitude,i=new google.maps.LatLng(t,n);o.resolve(i)},function(e){o.reject(e)}):r.geocode({address:e}).then(function(e){o.resolve(e[0].geometry.location)},function(e){o.reject(e)}),o.promise},m=function(e,t){return function(n){if(n){var i=a("set-"+e),r=o.toOptionValue(n,{key:e});t[i]&&(e.match(/center|position/)&&"string"==typeof r?p(r).then(function(e){t[i](e)}):t[i](r))}}},f=function(e){var t=e.getAttribute("default-style");"true"==t?(e.style.display="block",e.style.height="300px"):("block"!=l(e,"display")&&(e.style.display="block"),l(e,"height").match(/^(0|auto)/)&&(e.style.height="300px"))};angular.module("ngMap").provider("NgMap",function(){var s={};this.setDefaultOptions=function(e){s=e};var l=function(l,g,v,y,b,_,x){return e=l,t=g[0],n=v,i=y,o=b,r=_,a=x,{defaultOptions:s,addMap:h,deleteMap:u,getMap:c,initMap:d,setStyle:f,getGeoLocation:p,observeAndSet:m}};l.$inject=["$window","$document","$q","NavigatorGeolocation","Attr2MapOptions","GeoCoder","camelCaseFilter"],this.$get=l})}(),function(){"use strict";var e,t=function(t,n){n=n||t.getCenter();var i=e.defer(),o=new google.maps.StreetViewService;return o.getPanoramaByLocation(n||t.getCenter,100,function(e,t){t===google.maps.StreetViewStatus.OK?i.resolve(e.location.pano):i.resolve(!1)}),i.promise},n=function(e,t){var n=new google.maps.StreetViewPanorama(e.getDiv(),{enableCloseButton:!0});n.setPano(t)},i=function(i){return e=i,{getPanorama:t,setPanorama:n}};i.$inject=["$q"],angular.module("ngMap").service("StreetView",i)}();var duScrollDefaultEasing=function(e){"use strict";return.5>e?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},duScroll=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");"undefined"!=typeof module&&module&&module.exports&&(module.exports=duScroll),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(e,t,n,i,o,r,a,s){"use strict";var l={},d=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},c=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},h=function(e){return c(e)||d(e)?e:e[0]};l.duScrollTo=function(t,n,i,o){var r;if(angular.isElement(t)?r=this.duScrollToElement:angular.isDefined(i)&&(r=this.duScrollToAnimated),r)return r.apply(this,arguments);var a=h(this);return d(a)?e.scrollTo(t,n):(a.scrollLeft=t,void(a.scrollTop=n))};var u,p;l.duScrollToAnimated=function(e,r,a,l){a&&!l&&(l=o);var d=this.duScrollLeft(),c=this.duScrollTop(),h=Math.round(e-d),m=Math.round(r-c),f=null,g=0,v=this,y=function(e){(!e||g&&e.which>0)&&(s&&v.unbind(s,y),n(u),p.reject(),u=null)};if(u&&y(),p=t.defer(),0===a||!h&&!m)return 0===a&&v.duScrollTo(e,r),p.resolve(),p.promise;var b=function(e){null===f&&(f=e),g=e-f;var t=g>=a?1:l(g/a);v.scrollTo(d+Math.ceil(h*t),c+Math.ceil(m*t)),1>t?u=i(b):(s&&v.unbind(s,y),u=null,p.resolve())};return v.duScrollTo(d,c),s&&v.bind(s,y),u=i(b),p.promise},l.duScrollToElement=function(e,t,n,i){var o=h(this);(!angular.isNumber(t)||isNaN(t))&&(t=a);var r=this.duScrollTop()+h(e).getBoundingClientRect().top-t;return c(o)&&(r-=o.getBoundingClientRect().top),this.duScrollTo(0,r,n,i)},l.duScrollLeft=function(t,n,i){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,i);var o=h(this);return d(o)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:o.scrollLeft},l.duScrollTop=function(t,n,i){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,i);var o=h(this);return d(o)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:o.scrollTop},l.duScrollToElementAnimated=function(e,t,n,i){return this.duScrollToElement(e,t,n||r,i)},l.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||r,n)},l.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||r,n)},angular.forEach(l,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,i){if(e[n])return e[n];for(var o,r=n.substr(0,1).toUpperCase()+n.substr(1),a=0;a<t.length;a++)if(o=t[a]+r,e[o])return e[o];return i}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=0,i=function(e,i){var o=(new Date).getTime(),r=Math.max(0,16-(o-n)),a=t(function(){e(o+r)},r);return n=o+r,a};return e("requestAnimationFrame",i)}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=function(e){t.cancel(e)};return e("cancelAnimationFrame",n)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollBottomSpy","duScrollActiveClass",function(e,t,n,i,o,r,a,s,l){"use strict";var d=function(o){var d=!1,c=!1,h=function(){c=!1;var t,a=o.container,d=a[0],h=0;if("undefined"!=typeof HTMLElement&&d instanceof HTMLElement||d.nodeType&&d.nodeType===d.ELEMENT_NODE)h=d.getBoundingClientRect().top,t=Math.round(d.scrollTop+d.clientHeight)>=d.scrollHeight;else{var u=i[0].body.scrollHeight||i[0].documentElement.scrollHeight;t=Math.round(n.pageYOffset+n.innerHeight)>=u}var p,m,f,g,v,y,b=s&&t?"bottom":"top";for(g=o.spies,m=o.currentlyActive,f=void 0,p=0;p<g.length;p++)v=g[p],y=v.getTargetPosition(),y&&(s&&t||y.top+v.offset-h<20&&(r||-1*y.top+h)<y.height)&&(!f||f[b]<y[b])&&(f={spy:v},f[b]=y[b]);f&&(f=f.spy),m===f||r&&!f||(m&&(m.$element.removeClass(l),e.$broadcast("duScrollspy:becameInactive",m.$element,angular.element(m.getTargetElement()))),f&&(f.$element.addClass(l),e.$broadcast("duScrollspy:becameActive",f.$element,angular.element(f.getTargetElement()))),o.currentlyActive=f)};return a?function(){d?c=!0:(h(),d=t(function(){d=!1,c&&h()},a,!1))}:h},c={},h=function(e){var t=e.$id,n={spies:[]};return n.handler=d(n),c[t]=n,e.$on("$destroy",function(){u(e)}),t},u=function(e){var t=e.$id,n=c[t],i=n.container;i&&i.off("scroll",n.handler),delete c[t]},p=h(e),m=function(e){return c[e.$id]?c[e.$id]:e.$parent?m(e.$parent):c[p]},f=function(e){var t,n,i=e.$scope;if(i)return m(i);for(n in c)if(t=c[n],-1!==t.spies.indexOf(e))return t},g=function(e){for(;e.parentNode;)if(e=e.parentNode,e===document)return!0;return!1},v=function(e){var t=f(e);t&&(t.spies.push(e),t.container&&g(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=o.getContainer(e.$scope),t.container.on("scroll",t.handler).triggerHandler("scroll")))},y=function(t){var n=f(t);t===n.currentlyActive&&(e.$broadcast("duScrollspy:becameInactive",n.currentlyActive.$element),n.currentlyActive=null);var i=n.spies.indexOf(t);-1!==i&&n.spies.splice(i,1),t.$element=null};return{addSpy:v,removeSpy:y,createContext:h,destroyContext:u,getContextForScope:m}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e,n){var i=e.$id;return t[i]=n,i},i=function(e){return t[e.$id]?e.$id:e.$parent?i(e.$parent):void 0},o=function(n){var o=i(n);return o?t[o]:e},r=function(e){var n=i(e);n&&delete t[n]};return{getContainerId:i,getContainer:o,setContainer:n,removeContainer:r}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){"use strict";return{link:function(i,o,r){o.on("click",function(o){if(r.href&&-1!==r.href.indexOf("#")||""!==r.duSmoothScroll){var a=r.href?r.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):r.duSmoothScroll,s=document.getElementById(a)||document.getElementsByName(a)[0];if(s&&s.getBoundingClientRect){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault();var l=r.offset?parseInt(r.offset,10):t,d=r.duration?parseInt(r.duration,10):e,c=n.getContainer(i);c.duScrollToElement(angular.element(s),isNaN(l)?0:l,isNaN(d)?0:d)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,i){return{pre:function(t,n,i,o){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,i){return{pre:function(t,n,i,o){i.$observe("duScrollContainer",function(i){angular.isString(i)&&(i=document.getElementById(i)),i=angular.isElement(i)?angular.element(i):n,e.setContainer(t,i),t.$on("$destroy",function(){e.removeContainer(t)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,i){"use strict";var o=function(e,t,n,i){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=i};return o.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},o.prototype.getTargetPosition=function(){var e=this.getTargetElement();return e?e.getBoundingClientRect():void 0},o.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(r,a,s){var l,d=s.ngHref||s.href;if(d&&-1!==d.indexOf("#")?l=d.replace(/.*(?=#[^\s]+$)/,"").substring(1):s.duScrollspy?l=s.duScrollspy:s.duSmoothScroll&&(l=s.duSmoothScroll),l){var c=n(function(){var n=new o(l,r,a,-(s.offset?parseInt(s.offset,10):t));e.addSpy(n),r.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var d=i.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));r.$on("$destroy",function(){e.removeSpy(n),d()})},0,!1);r.$on("$destroy",function(){n.cancel(c)})}}}}]),!function(e,t,n){"use strict";function i(e){return{require:"?ngModel",restrict:"A",link:function(n,i,o,r){function a(){var e=s(n);return t.isObject(e)&&e.hasOwnProperty("$viewValue")&&(e=e.$viewValue),e}if(r){var s=e(o.match),l=e(o.matchCaseless),d=e(o.notMatch);n.$watch(a,function(){r.$$parseAndValidate()}),r.$validators.match=function(){var e,i=a(),o=d(n);return e=l(n)?t.lowercase(r.$viewValue)===t.lowercase(i):r.$viewValue===i,e^=o,!!e}}}}}t.module("validation.match",[]),t.module("validation.match").directive("match",i),i.$inject=["$parse"]}(window,window.angular),!function(e,t){t["true"]=e,function(t,n){"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&"object"==typeof e?module.exports=t():n.rangy=t()}(function(){function e(e,t){var n=typeof e[t];return n==_||!(n!=b||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=b||!e[t])}function n(e,t){return typeof e[t]!=x}function i(e){return function(t,n){for(var i=n.length;i--;)if(!e(t,n[i]))return!1;return!0}}function o(e){return e&&S(e,T)&&$(e,w)}function r(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function a(t){typeof console!=x&&e(console,"log")&&console.log(t)}function s(e,t){L&&t?alert(e):a(e)}function l(e){O.initialized=!0,O.supported=!1,s("Rangy is not supported in this environment. Reason: "+e,O.config.alertOnFail)}function d(e){s("Rangy warning: "+e,O.config.alertOnWarn)}function c(e){return e.message||e.description||String(e)}function h(){if(L&&!O.initialized){var t,n=!1,i=!1;e(document,"createRange")&&(t=document.createRange(),S(t,C)&&$(t,E)&&(n=!0));var s=r(document);if(!s||"body"!=s.nodeName.toLowerCase())return void l("No body element found");if(s&&e(s,"createTextRange")&&(t=s.createTextRange(),o(t)&&(i=!0)),!n&&!i)return void l("Neither Range nor TextRange are available");O.initialized=!0,O.features={implementsDomRange:n,implementsTextRange:i};var d,h;for(var u in A)(d=A[u])instanceof f&&d.init(d,O);for(var p=0,m=I.length;m>p;++p)try{I[p](O)}catch(g){h="Rangy init listener threw an exception. Continuing. Detail: "+c(g),a(h)}}}function u(e,t,n){n&&(e+=" in module "+n.name),O.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function p(e,t,n,i){e[t]=function(){return u(t,n,i),e[n].apply(e,N.toArray(arguments))}}function m(e){e=e||window,h();for(var t=0,n=R.length;n>t;++t)R[t](e)}function f(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function g(e,t,n){var i=new f(e,t,function(t){if(!t.initialized){t.initialized=!0;try{n(O,t),t.supported=!0}catch(i){var o="Module '"+e+"' failed to load: "+c(i);a(o),i.stack&&a(i.stack)}}});return A[e]=i,i}function v(){}function y(){}var b="object",_="function",x="undefined",E=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],C=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],w=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],T=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],S=i(e),M=i(t),$=i(n),k=[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,i=e.length;i>n;++n)t(e[n],n)},A={},L=typeof window!=x&&typeof document!=x,N={isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:S,areHostObjects:M,areHostProperties:$,isTextRange:o,getBody:r,forEach:k},O={version:"1.3.0",initialized:!1,isBrowser:L,supported:!0,util:N,features:{},modules:A,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==x?!0:rangyAutoInitialize}};O.fail=l,O.warn=d;var D;({}).hasOwnProperty?(N.extend=D=function(e,t,n){var i,o;for(var r in t)t.hasOwnProperty(r)&&(i=e[r],o=t[r],n&&null!==i&&"object"==typeof i&&null!==o&&"object"==typeof o&&D(i,o,!0),e[r]=o);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},N.createOptions=function(e,t){var n={};return D(n,t),e&&D(n,e),n}):l("hasOwnProperty not supported"),L||l("Rangy can only run in a browser"),function(){var e;if(L){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(i){}}e||(e=function(e){for(var t=[],n=0,i=e.length;i>n;++n)t[n]=e[n];return t}),N.toArray=e}();var z;L&&(e(document,"addEventListener")?z=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?z=function(e,t,n){e.attachEvent("on"+t,n)}:l("Document does not have required addEventListener or attachEvent method"),N.addListener=z);var I=[];N.deprecationNotice=u,N.createAliasForDeprecatedMethod=p,O.init=h,O.addInitListener=function(e){O.initialized?e(O):I.push(e)};var R=[];O.addShimListener=function(e){R.push(e)},L&&(O.shim=O.createMissingNativeApi=m,p(O,"createMissingNativeApi","shim")),f.prototype={init:function(){for(var e,t,n=this.dependencies||[],i=0,o=n.length;o>i;++i){if(t=n[i],e=A[t],!(e&&e instanceof f))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){O.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){O.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},O.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var i=g(e,n,t);O.initialized&&O.supported&&i.init()},O.createCoreModule=function(e,t,n){g(e,t,n)},O.RangePrototype=v,O.rangePrototype=new v,O.selectionPrototype=new y,O.createCoreModule("DomUtil",[],function(e,t){function n(e){var t;return typeof e.namespaceURI==L||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function i(e){var t=e.parentNode;return 1==t.nodeType?t:null}function o(e){for(var t=0;e=e.previousSibling;)++t;return t}function r(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function a(e,t){var n,i=[];for(n=e;n;n=n.parentNode)i.push(n);for(n=t;n;n=n.parentNode)if(I(i,n))return n;return null}function s(e,t,n){for(var i=n?t:t.parentNode;i;){if(i===e)return!0;i=i.parentNode}return!1}function l(e,t){return s(e,t,!0)}function d(e,t,n){for(var i,o=n?e:e.parentNode;o;){if(i=o.parentNode,i===t)return o;o=i}return null}function c(e){var t=e.nodeType;return 3==t||4==t||8==t}function h(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function u(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e}function p(e,t,n){var i=e.cloneNode(!1);if(i.deleteData(0,t),e.deleteData(t,e.length-t),u(i,e),n)for(var r,a=0;r=n[a++];)r.node==e&&r.offset>t?(r.node=i,r.offset-=t):r.node==e.parentNode&&r.offset>o(e)&&++r.offset;return i}function m(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=L)return e.ownerDocument;if(typeof e.document!=L)return e.document;if(e.parentNode)return m(e.parentNode);throw t.createError("getDocument: no document found for node")}function f(e){var n=m(e);if(typeof n.defaultView!=L)return n.defaultView;if(typeof n.parentWindow!=L)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function g(e){if(typeof e.contentDocument!=L)return e.contentDocument;if(typeof e.contentWindow!=L)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function v(e){if(typeof e.contentWindow!=L)return e.contentWindow;if(typeof e.contentDocument!=L)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function y(e){return e&&N.isHostMethod(e,"setTimeout")&&N.isHostObject(e,"document")}function b(e,t,n){var i;if(e?N.isHostProperty(e,"nodeType")?i=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?g(e):m(e):y(e)&&(i=e.document):i=document,!i)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return i}function _(e){for(var t;t=e.parentNode;)e=t;return e}function x(e,n,i,r){var s,l,c,h,u;if(e==i)return n===r?0:r>n?-1:1;if(s=d(i,e,!0))return n<=o(s)?-1:1;if(s=d(e,i,!0))return o(s)<r?-1:1;if(l=a(e,i),!l)throw new Error("comparePoints error: nodes have no common ancestor");if(c=e===l?l:d(e,l,!0),h=i===l?l:d(i,l,!0),c===h)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(u=l.firstChild;u;){if(u===c)return-1;if(u===h)return 1;u=u.nextSibling}}function E(e){var t;try{return t=e.parentNode,!1}catch(n){return!0}}function C(e){if(!e)return"[No node]";if(R&&E(e))return"[Broken node]";if(c(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+o(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function w(e){for(var t,n=m(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function T(e,t,n){var i=O(e),o=e.createElement("div");o.contentEditable=""+!!n,t&&(o.innerHTML=t);var r=i.firstChild;return r?i.insertBefore(o,r):i.appendChild(o),o}function S(e){return e.parentNode.removeChild(e)}function M(e){this.root=e,this._next=e}function $(e){return new M(e)}function k(e,t){this.node=e,this.offset=t}function A(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var L="undefined",N=e.util,O=N.getBody;N.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),N.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var D=document.createElement("div");N.areHostMethods(D,["insertBefore","appendChild","cloneNode"]||!N.areHostObjects(D,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),N.isHostProperty(D,"innerHTML")||t.fail("Element is missing innerHTML property");var z=document.createTextNode("test");N.areHostMethods(z,["splitText","deleteData","insertData","appendData","cloneNode"]||!N.areHostObjects(D,["previousSibling","nextSibling","childNodes","parentNode"])||!N.areHostProperties(z,["data"]))||t.fail("Incomplete Text Node implementation");var I=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},R=!1;!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br />",R=E(n),e.features.crashyTextNodes=R}();var H;typeof window.getComputedStyle!=L?H=function(e,t){return f(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=L?H=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found"),M.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},k.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+C(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},A.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},A.prototype.toString=function(){return this.message},e.dom={arrayContains:I,isHtmlNamespace:n,parentElement:i,getNodeIndex:o,getNodeLength:r,getCommonAncestor:a,isAncestorOf:s,isOrIsAncestorOf:l,getClosestAncestorIn:d,isCharacterDataNode:c,isTextOrCommentNode:h,insertAfter:u,splitDataNode:p,getDocument:m,getWindow:f,getIframeWindow:v,getIframeDocument:g,getBody:O,isWindow:y,getContentDocument:b,getRootContainer:_,comparePoints:x,isBrokenNode:E,inspectNode:C,getComputedStyleProperty:H,createTestElement:T,removeNode:S,fragmentFromNodeChildren:w,createIterator:$,DomPosition:k},e.DOMException=A}),O.createCoreModule("DomRange",["DomUtil"],function(e,t){function n(e,t){return 3!=e.nodeType&&(B(e,t.startContainer)||B(e,t.endContainer))}function i(e){return e.document||W(e.startContainer)}function o(e){return G(e.startContainer)}function r(e){return new R(e.parentNode,F(e))}function a(e){return new R(e.parentNode,F(e)+1)}function s(e,t,n){var i=11==e.nodeType?e.firstChild:e;return P(t)?n==t.length?z.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:Y(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),i}function l(e,t,n){if(T(e),T(t),i(t)!=i(e))throw new H("WRONG_DOCUMENT_ERR");var o=q(e.startContainer,e.startOffset,t.endContainer,t.endOffset),r=q(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?0>=o&&r>=0:0>o&&r>0}function d(e){for(var t,n,o,r=i(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),n=n.cloneNode(!t),t&&(o=e.getSubtreeIterator(),n.appendChild(d(o)),o.detach()),10==n.nodeType)throw new H("HIERARCHY_REQUEST_ERR");r.appendChild(n)}return r}function c(e,t,n){var i,o;n=n||{stop:!1};for(var r,a;r=e.next();)if(e.isPartiallySelectedSubtree()){if(t(r)===!1)return void(n.stop=!0);if(a=e.getSubtreeIterator(),c(a,t,n),a.detach(),n.stop)return}else for(i=z.createIterator(r);o=i.next();)if(t(o)===!1)return void(n.stop=!0)}function h(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),h(t),t.detach()):e.remove()}function u(e){for(var t,n,o=i(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(u(n)),n.detach()):e.remove(),10==t.nodeType)throw new H("HIERARCHY_REQUEST_ERR");o.appendChild(t)}return o}function p(e,t,n){var i,o=!(!t||!t.length),r=!!n;o&&(i=new RegExp("^("+t.join("|")+")$"));var a=[];return c(new f(e,!1),function(t){if(!(o&&!i.test(t.nodeType)||r&&!n(t))){var s=e.startContainer;if(t!=s||!P(s)||e.startOffset!=s.length){var l=e.endContainer;t==l&&P(l)&&0==e.endOffset||a.push(t)}}}),a}function m(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+z.inspectNode(e.startContainer)+":"+e.startOffset+", "+z.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function f(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&P(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||P(this.sc)?U(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||P(this.ec)?U(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function g(e){return function(t,n){for(var i,o=n?t:t.parentNode;o;){if(i=o.nodeType,j(e,i))return o;o=o.parentNode}return null}}function v(e,t){if(oe(e,t))throw new H("INVALID_NODE_TYPE_ERR")}function y(e,t){if(!j(t,e.nodeType))throw new H("INVALID_NODE_TYPE_ERR")}function b(e,t){if(0>t||t>(P(e)?e.length:e.childNodes.length))throw new H("INDEX_SIZE_ERR")}function _(e,t){if(ne(e,!0)!==ne(t,!0))throw new H("WRONG_DOCUMENT_ERR")}function x(e){if(ie(e,!0))throw new H("NO_MODIFICATION_ALLOWED_ERR")}function E(e,t){if(!e)throw new H(t)}function C(e,t){return t<=(P(e)?e.length:e.childNodes.length)}function w(e){return!!e.startContainer&&!!e.endContainer&&!(X&&(z.isBrokenNode(e.startContainer)||z.isBrokenNode(e.endContainer)))&&G(e.startContainer)==G(e.endContainer)&&C(e.startContainer,e.startOffset)&&C(e.endContainer,e.endOffset)}function T(e){if(!w(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}function S(e,t){T(e);var n=e.startContainer,i=e.startOffset,o=e.endContainer,r=e.endOffset,a=n===o;P(o)&&r>0&&r<o.length&&Y(o,r,t),P(n)&&i>0&&i<n.length&&(n=Y(n,i,t),a?(r-=i,o=n):o==n.parentNode&&r>=F(n)&&r++,i=0),e.setStartAndEnd(n,i,o,r);
}function M(e){T(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function $(e){e.START_TO_START=ce,e.START_TO_END=he,e.END_TO_END=ue,e.END_TO_START=pe,e.NODE_BEFORE=me,e.NODE_AFTER=fe,e.NODE_BEFORE_AND_AFTER=ge,e.NODE_INSIDE=ve}function k(e){$(e),$(e.prototype)}function A(e,t){return function(){T(this);var n,i,o=this.startContainer,r=this.startOffset,s=this.commonAncestorContainer,l=new f(this,!0);o!==s&&(n=U(o,s,!0),i=a(n),o=i.node,r=i.offset),c(l,x),l.reset();var d=e(l);return l.detach(),t(this,o,r,o,r),d}}function L(t,i){function o(e,t){return function(n){y(n,K),y(G(n),Q);var i=(e?r:a)(n);(t?s:l)(this,i.node,i.offset)}}function s(e,t,n){var o=e.endContainer,r=e.endOffset;(t!==e.startContainer||n!==e.startOffset)&&((G(t)!=G(o)||1==q(t,n,o,r))&&(o=t,r=n),i(e,t,n,o,r))}function l(e,t,n){var o=e.startContainer,r=e.startOffset;(t!==e.endContainer||n!==e.endOffset)&&((G(t)!=G(o)||-1==q(t,n,o,r))&&(o=t,r=n),i(e,o,r,t,n))}var d=function(){};d.prototype=e.rangePrototype,t.prototype=new d,I.extend(t.prototype,{setStart:function(e,t){v(e,!0),b(e,t),s(this,e,t)},setEnd:function(e,t){v(e,!0),b(e,t),l(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],o=t,r=n;switch(e.length){case 3:r=e[2];break;case 4:o=e[2],r=e[3]}i(this,t,n,o,r)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:o(!0,!0),setStartAfter:o(!1,!0),setEndBefore:o(!0,!1),setEndAfter:o(!1,!1),collapse:function(e){T(this),e?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){v(e,!0),i(this,e,0,e,V(e))},selectNode:function(e){v(e,!1),y(e,K);var t=r(e),n=a(e);i(this,t.node,t.offset,n.node,n.offset)},extractContents:A(u,i),deleteContents:A(h,i),canSurroundContents:function(){T(this),x(this.startContainer),x(this.endContainer);var e=new f(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},splitBoundaries:function(){S(this)},splitBoundariesPreservingPositions:function(e){S(this,e)},normalizeBoundaries:function(){T(this);var e,t=this.startContainer,n=this.startOffset,o=this.endContainer,r=this.endOffset,a=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(o=e,r=e.length,e.appendData(t.data),Z(t))},s=function(e){var i=e.previousSibling;if(i&&i.nodeType==e.nodeType){t=e;var a=e.length;if(n=i.length,e.insertData(0,i.data),Z(i),t==o)r+=n,o=t;else if(o==e.parentNode){var s=F(e);r==s?(o=e,r=a):r>s&&r--}}},l=!0;if(P(o))r==o.length?a(o):0==r&&(e=o.previousSibling,e&&e.nodeType==o.nodeType&&(r=e.length,t==o&&(l=!1),e.appendData(o.data),Z(o),o=e));else{if(r>0){var d=o.childNodes[r-1];d&&P(d)&&a(d)}l=!this.collapsed}if(l){if(P(t))0==n?s(t):n==t.length&&(e=t.nextSibling,e&&e.nodeType==t.nodeType&&(o==e&&(o=t,r+=t.length),t.appendData(e.data),Z(e)));else if(n<t.childNodes.length){var c=t.childNodes[n];c&&P(c)&&s(c)}}else t=o,n=r;i(this,t,n,o,r)},collapseToPoint:function(e,t){v(e,!0),b(e,t),this.setStartAndEnd(e,t)}}),k(t)}function N(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:z.getCommonAncestor(e.startContainer,e.endContainer)}function O(e,t,n,i,o){e.startContainer=t,e.startOffset=n,e.endContainer=i,e.endOffset=o,e.document=z.getDocument(t),N(e)}function D(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,N(this)}var z=e.dom,I=e.util,R=z.DomPosition,H=e.DOMException,P=z.isCharacterDataNode,F=z.getNodeIndex,B=z.isOrIsAncestorOf,W=z.getDocument,q=z.comparePoints,Y=z.splitDataNode,U=z.getClosestAncestorIn,V=z.getNodeLength,j=z.arrayContains,G=z.getRootContainer,X=e.features.crashyTextNodes,Z=z.removeNode;f.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,P(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!P(n)||n!==this.sc&&n!==this.ec?n.parentNode&&Z(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return n(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse(!1);else{e=new D(i(this.range));var t=this._current,n=t,o=0,r=t,a=V(t);B(t,this.sc)&&(n=this.sc,o=this.so),B(t,this.ec)&&(r=this.ec,a=this.eo),O(e,n,o,r,a)}return new f(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var K=[1,3,4,5,7,8,10],Q=[2,9,11],J=[5,6,10,12],ee=[1,3,4,5,7,8,10,11],te=[1,3,4,5,7,8],ne=g([9,11]),ie=g(J),oe=g([6,10,12]),re=document.createElement("style"),ae=!1;try{re.innerHTML="<b>x</b>",ae=3==re.firstChild.nodeType}catch(se){}e.features.htmlParsingConforms=ae;var le=ae?function(e){var t=this.startContainer,n=W(t);if(!t)throw new H("INVALID_STATE_ERR");var i=null;return 1==t.nodeType?i=t:P(t)&&(i=z.parentElement(t)),i=null===i||"HTML"==i.nodeName&&z.isHtmlNamespace(W(i).documentElement)&&z.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1),i.innerHTML=e,z.fragmentFromNodeChildren(i)}:function(e){var t=i(this),n=t.createElement("body");return n.innerHTML=e,z.fragmentFromNodeChildren(n)},de=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ce=0,he=1,ue=2,pe=3,me=0,fe=1,ge=2,ve=3;I.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){T(this),_(this.startContainer,t.startContainer);var n,i,o,r,a=e==pe||e==ce?"start":"end",s=e==he||e==ce?"start":"end";return n=this[a+"Container"],i=this[a+"Offset"],o=t[s+"Container"],r=t[s+"Offset"],q(n,i,o,r)},insertNode:function(e){if(T(this),y(e,ee),x(this.startContainer),B(e,this.startContainer))throw new H("HIERARCHY_REQUEST_ERR");var t=s(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){T(this);var e,t;if(this.collapsed)return i(this).createDocumentFragment();if(this.startContainer===this.endContainer&&P(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=i(this).createDocumentFragment(),t.appendChild(e),t;var n=new f(this,!0);return e=d(n),n.detach(),e},canSurroundContents:function(){T(this),x(this.startContainer),x(this.endContainer);var e=new f(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},surroundContents:function(e){if(y(e,te),!this.canSurroundContents())throw new H("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);s(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){T(this);for(var e,t=new D(i(this)),n=de.length;n--;)e=de[n],t[e]=this[e];return t},toString:function(){T(this);var e=this.startContainer;if(e===this.endContainer&&P(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new f(this,!0);return c(n,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){T(this);var t=e.parentNode,n=F(e);if(!t)throw new H("NOT_FOUND_ERR");var i=this.comparePoint(t,n),o=this.comparePoint(t,n+1);return 0>i?o>0?ge:me:o>0?fe:ve},comparePoint:function(e,t){return T(this),E(e,"HIERARCHY_REQUEST_ERR"),_(e,this.startContainer),q(e,t,this.startContainer,this.startOffset)<0?-1:q(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:le,toHtml:function(){return M(this)},intersectsNode:function(e,t){if(T(this),G(e)!=o(this))return!1;var n=e.parentNode,i=F(e);if(!n)return!0;var r=q(n,i,this.endContainer,this.endOffset),a=q(n,i+1,this.startContainer,this.startOffset);return t?0>=r&&a>=0:0>r&&a>0},isPointInRange:function(e,t){return T(this),E(e,"HIERARCHY_REQUEST_ERR"),_(e,this.startContainer),q(e,t,this.startContainer,this.startOffset)>=0&&q(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return l(this,e,!1)},intersectsOrTouchesRange:function(e){return l(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=q(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=q(this.endContainer,this.endOffset,e.endContainer,e.endOffset),i=this.cloneRange();return-1==t&&i.setStart(e.startContainer,e.startOffset),1==n&&i.setEnd(e.endContainer,e.endOffset),i}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==q(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==q(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new H("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==ve},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,V(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var i=n.pop();return t.setEnd(i,i.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return T(this),p(this,e,t)},getDocument:function(){return i(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var n=i(this),o=e.createRange(n);t=t||z.getBody(n),o.selectNodeContents(t);var r=this.intersection(o),a=0,s=0;return r&&(o.setEnd(r.startContainer,r.startOffset),a=o.toString().length,s=a+r.toString().length),{start:a,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var i,o,r,a,s=[t],l=!1,d=!1;!d&&(i=s.pop());)if(3==i.nodeType)o=n+i.length,!l&&e.start>=n&&e.start<=o&&(this.setStart(i,e.start-n),l=!0),l&&e.end>=n&&e.end<=o&&(this.setEnd(i,e.end-n),d=!0),n=o;else for(a=i.childNodes,r=a.length;r--;)s.push(a[r])},getName:function(){return"DomRange"},equals:function(e){return D.rangesEqual(this,e)},isValid:function(){return w(this)},inspect:function(){return m(this)},detach:function(){}}),L(D,O),I.extend(D,{rangeProperties:de,RangeIterator:f,copyComparisonConstants:k,createPrototypeRange:L,inspect:m,toHtml:M,getRangeDocument:i,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=D}),O.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,i,o=e.dom,r=e.util,a=o.DomPosition,s=e.DomRange,l=o.getBody,d=o.getContentDocument,c=o.isCharacterDataNode;if(e.features.implementsDomRange&&!function(){function i(e){for(var t,n=u.length;n--;)t=u[n],e[t]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function a(e,t,n,i,o){var r=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==i||e.endOffset!=o,s=!e.equals(e.nativeRange);(r||a||s)&&(e.setEnd(i,o),e.setStart(t,n))}var c,h,u=s.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,i(this)},s.createPrototypeRange(n,a),c=n.prototype,c.selectNode=function(e){this.nativeRange.selectNode(e),i(this)},c.cloneContents=function(){return this.nativeRange.cloneContents()},c.surroundContents=function(e){this.nativeRange.surroundContents(e),i(this)},c.collapse=function(e){this.nativeRange.collapse(e),i(this)},c.cloneRange=function(){return new n(this.nativeRange.cloneRange())},c.refresh=function(){i(this)},c.toString=function(){return this.nativeRange.toString()};var p=document.createTextNode("test");l(document).appendChild(p);var m=document.createRange();m.setStart(p,0),m.setEnd(p,0);try{m.setStart(p,1),c.setStart=function(e,t){this.nativeRange.setStart(e,t),i(this)},c.setEnd=function(e,t){this.nativeRange.setEnd(e,t),i(this)},h=function(e){return function(t){this.nativeRange[e](t),i(this)}}}catch(f){c.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}i(this)},c.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}i(this)},h=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(o){this.nativeRange[t](n),this.nativeRange[e](n)}i(this)}}}c.setStartBefore=h("setStartBefore","setEndBefore"),c.setStartAfter=h("setStartAfter","setEndAfter"),c.setEndBefore=h("setEndBefore","setStartBefore"),c.setEndAfter=h("setEndAfter","setStartAfter"),c.selectNodeContents=function(e){this.setStartAndEnd(e,0,o.getNodeLength(e))},m.selectNodeContents(p),m.setEnd(p,3);var g=document.createRange();g.selectNodeContents(p),g.setEnd(p,4),g.setStart(p,2),-1==m.compareBoundaryPoints(m.START_TO_END,g)&&1==m.compareBoundaryPoints(m.END_TO_START,g)?c.compareBoundaryPoints=function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:c.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var v=document.createElement("div");v.innerHTML="123";var y=v.firstChild,b=l(document);b.appendChild(v),m.setStart(y,1),m.setEnd(y,2),m.deleteContents(),"13"==y.data&&(c.deleteContents=function(){this.nativeRange.deleteContents(),i(this)},c.extractContents=function(){var e=this.nativeRange.extractContents();return i(this),e}),b.removeChild(v),b=null,r.isHostMethod(m,"createContextualFragment")&&(c.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),l(document).removeChild(p),c.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return e=d(e,t,"createNativeRange"),e.createRange()}}(),e.features.implementsTextRange){var h=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var i=n.parentElement();n=e.duplicate(),n.collapse(!1);var r=n.parentElement(),a=i==r?i:o.getCommonAncestor(i,r);return a==t?a:o.getCommonAncestor(t,a)},u=function(e){return 0==e.compareEndPoints("StartToEnd",e)},p=function(e,t,n,i,r){var s=e.duplicate();s.collapse(n);var l=s.parentElement();if(o.isOrIsAncestorOf(t,l)||(l=t),!l.canHaveHTML){var d=new a(l.parentNode,o.getNodeIndex(l));return{boundaryPosition:d,nodeInfo:{nodeIndex:d.offset,containerElement:d.node}}}var h=o.getDocument(l).createElement("span");h.parentNode&&o.removeNode(h);for(var u,p,m,f,g,v=n?"StartToStart":"StartToEnd",y=r&&r.containerElement==l?r.nodeIndex:0,b=l.childNodes.length,_=b,x=_;x==b?l.appendChild(h):l.insertBefore(h,l.childNodes[x]),s.moveToElementText(h),u=s.compareEndPoints(v,e),0!=u&&y!=_;){if(-1==u){if(_==y+1)break;y=x}else _=_==y+1?y:x;x=Math.floor((y+_)/2),l.removeChild(h)}if(g=h.nextSibling,-1==u&&g&&c(g)){s.setEndPoint(n?"EndToStart":"EndToEnd",e);var E;if(/[\r\n]/.test(g.data)){var C=s.duplicate(),w=C.text.replace(/\r\n/g,"\r").length;for(E=C.moveStart("character",w);-1==(u=C.compareEndPoints("StartToEnd",C));)E++,C.moveStart("character",1)}else E=s.text.length;f=new a(g,E)}else p=(i||!n)&&h.previousSibling,m=(i||n)&&h.nextSibling,f=m&&c(m)?new a(m,0):p&&c(p)?new a(p,p.data.length):new a(l,o.getNodeIndex(h));return o.removeNode(h),{boundaryPosition:f,nodeInfo:{nodeIndex:x,containerElement:l}}},m=function(e,t){var n,i,r,a,s=e.offset,d=o.getDocument(e.node),h=l(d).createTextRange(),u=c(e.node);return u?(n=e.node,i=n.parentNode):(a=e.node.childNodes,n=s<a.length?a[s]:null,i=e.node),r=d.createElement("span"),r.innerHTML="&#feff;",n?i.insertBefore(r,n):i.appendChild(r),h.moveToElementText(r),h.collapse(!t),i.removeChild(r),u&&h[t?"moveStart":"moveEnd"]("character",s),h};i=function(e){this.textRange=e,this.refresh()},i.prototype=new s(document),i.prototype.refresh=function(){var e,t,n,i=h(this.textRange);u(this.textRange)?t=e=p(this.textRange,i,!0,!0).boundaryPosition:(n=p(this.textRange,i,!0,!1),e=n.boundaryPosition,t=p(this.textRange,i,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},i.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(i);var f=function(e){if(e.collapsed)return m(new a(e.startContainer,e.startOffset),!0);var t=m(new a(e.startContainer,e.startOffset),!0),n=m(new a(e.endContainer,e.endOffset),!1),i=l(s.getRangeDocument(e)).createTextRange();return i.setEndPoint("StartToStart",t),i.setEndPoint("EndToEnd",n),i};if(i.rangeToTextRange=f,i.prototype.toTextRange=function(){return f(this)},e.WrappedTextRange=i,!e.features.implementsDomRange||e.config.preferTextRange){var g=function(e){return e("return this;")()}(Function);"undefined"==typeof g.Range&&(g.Range=i),e.createNativeRange=function(e){return e=d(e,t,"createNativeRange"),l(e).createTextRange()},e.WrappedRange=i}}e.createRange=function(n){return n=d(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=d(e,t,"createRangyRange"),new s(e)},r.createAliasForDeprecatedMethod(e,"createIframeRange","createRange"),r.createAliasForDeprecatedMethod(e,"createIframeRangyRange","createRangyRange"),e.addShimListener(function(t){var n=t.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),O.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function i(e,n){if(e){if($.isWindow(e))return e;if(e instanceof v)return e.win;var i=$.getContentDocument(e,t,n);return $.getWindow(i)}return window}function o(e){return i(e,"getWinSelection").getSelection()}function r(e){return i(e,"getDocSelection").document.selection}function a(e){var t=!1;return e.anchorNode&&(t=1==$.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function s(e,t,n){var i=n?"end":"start",o=n?"start":"end";e.anchorNode=t[i+"Container"],e.anchorOffset=t[i+"Offset"],e.focusNode=t[o+"Container"],e.focusOffset=t[o+"Offset"]}function l(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function d(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function c(t){var n;return t instanceof L?(n=e.createNativeRange(t.getDocument()),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof N?n=t.nativeRange:z.implementsDomRange&&t instanceof $.getWindow(t.startContainer).Range&&(n=t),n}function h(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!$.isAncestorOf(e[0],e[t]))return!1;return!0}function u(e){var n=e.getNodes();if(!h(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function p(e){return!!e&&"undefined"!=typeof e.text}function m(e,t){var n=new N(t);e._ranges=[n],s(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function f(t){if(t._ranges.length=0,"None"==t.docSelection.type)d(t);else{var n=t.docSelection.createRange();if(p(n))m(t,n);else{t.rangeCount=n.length;for(var i,o=R(n.item(0)),r=0;r<t.rangeCount;++r)i=e.createRange(o),i.selectNode(n.item(r)),t._ranges.push(i);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function g(e,n){for(var i=e.docSelection.createRange(),o=u(n),r=R(i.item(0)),a=H(r).createControlRange(),s=0,l=i.length;l>s;++s)a.add(i.item(s));try{a.add(o)}catch(d){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),f(e)}function v(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function y(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function b(e,t){for(var n,i,o=te.length;o--;)if(n=te[o],i=n.selection,"deleteAll"==t)y(i);else if(n.win==e)return"delete"==t?(te.splice(o,1),!0):i;return"deleteAll"==t&&(te.length=0),null}function _(e,n){for(var i,o=R(n[0].startContainer),r=H(o).createControlRange(),a=0,s=n.length;s>a;++a){i=u(n[a]);try{r.add(i)}catch(l){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}r.select(),f(e)}function x(e,t){if(e.win.document!=R(t))throw new O("WRONG_DOCUMENT_ERR")}function E(t){return function(n,i){var o;this.rangeCount?(o=this.getRangeAt(0),o["set"+(t?"Start":"End")](n,i)):(o=e.createRange(this.win.document),o.setStartAndEnd(n,i)),this.setSingleRange(o,this.isBackward())}}function C(e){var t=[],n=new D(e.anchorNode,e.anchorOffset),i=new D(e.focusNode,e.focusOffset),o="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var r=0,a=e.rangeCount;a>r;++r)t[r]=L.inspect(e.getRangeAt(r));return"["+o+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}e.config.checkSelectionRanges=!0;var w,T,S="boolean",M="number",$=e.dom,k=e.util,A=k.isHostMethod,L=e.DomRange,N=e.WrappedRange,O=e.DOMException,D=$.DomPosition,z=e.features,I="Control",R=$.getDocument,H=$.getBody,P=L.rangesEqual,F=A(window,"getSelection"),B=k.isHostObject(document,"selection");z.implementsWinGetSelection=F,z.implementsDocSelection=B;var W=B&&(!F||e.config.preferTextRange);if(W)w=r,e.isSelectionValid=function(e){var t=i(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||R(n.createRange().parentElement())==t};else{if(!F)return t.fail("Neither document.selection or window.getSelection() detected."),!1;w=o,e.isSelectionValid=function(){return!0}}e.getNativeSelection=w;var q=w();if(!q)return t.fail("Native selection was null (possibly issue 138?)"),!1;var Y=e.createNativeRange(document),U=H(document),V=k.areHostProperties(q,["anchorNode","focusNode","anchorOffset","focusOffset"]);z.selectionHasAnchorAndFocus=V;var j=A(q,"extend");z.selectionHasExtend=j;var G=typeof q.rangeCount==M;z.selectionHasRangeCount=G;var X=!1,Z=!0,K=j?function(t,n){var i=L.getRangeDocument(n),o=e.createRange(i);o.collapseToPoint(n.endContainer,n.endOffset),t.addRange(c(o)),t.extend(n.startContainer,n.startOffset)}:null;k.areHostMethods(q,["addRange","getRangeAt","removeAllRanges"])&&typeof q.rangeCount==M&&z.implementsDomRange&&!function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,i=n>1,o=[],r=a(t),s=0;n>s;++s)o[s]=t.getRangeAt(s);var l=$.createTestElement(document,"",!1),d=l.appendChild(document.createTextNode("")),c=document.createRange();if(c.setStart(d,1),c.collapse(!0),t.removeAllRanges(),t.addRange(c),Z=1==t.rangeCount,t.removeAllRanges(),!i){var h=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(h&&parseInt(h[1])>=36)X=!1;else{var u=c.cloneRange();c.setStart(d,0),u.setEnd(d,3),u.setStart(d,2),t.addRange(c),t.addRange(u),X=2==t.rangeCount}}for($.removeNode(l),t.removeAllRanges(),s=0;n>s;++s)0==s&&r?K?K(t,o[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(o[s])):t.addRange(o[s])}}(),z.selectionSupportsMultipleRanges=X,z.collapsedNonEditableSelectionsSupported=Z;var Q,J=!1;U&&A(U,"createControlRange")&&(Q=U.createControlRange(),k.areHostProperties(Q,["item","add"])&&(J=!0)),z.implementsControlRange=J,T=V?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return e.rangeCount?e.getRangeAt(e.rangeCount-1).collapsed:!1};var ee;A(q,"getRangeAt")?ee=function(e,t){try{return e.getRangeAt(t)}catch(n){return null}}:V&&(ee=function(t){var n=R(t.anchorNode),i=e.createRange(n);return i.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),i.collapsed!==this.isCollapsed&&i.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),i}),v.prototype=e.selectionPrototype;var te=[],ne=function(e){if(e&&e instanceof v)return e.refresh(),e;e=i(e,"getNativeSelection");var t=b(e),n=w(e),o=B?r(e):null;return t?(t.nativeSelection=n,t.docSelection=o,t.refresh()):(t=new v(n,o,e),te.push({win:e,selection:t})),t};e.getSelection=ne,k.createAliasForDeprecatedMethod(e,"getIframeSelection","getSelection");var ie=v.prototype;if(!W&&V&&k.areHostMethods(q,["removeAllRanges","addRange"])){ie.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),d(this)};var oe=function(e,t){K(e.nativeSelection,t),e.refresh()};G?ie.addRange=function(t,i){if(J&&B&&this.docSelection.type==I)g(this,t);else if(n(i)&&j)oe(this,t);else{var o;X?o=this.rangeCount:(this.removeAllRanges(),o=0);var r=c(t).cloneRange();try{this.nativeSelection.addRange(r)}catch(a){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==o+1){if(e.config.checkSelectionRanges){var l=ee(this.nativeSelection,this.rangeCount-1);l&&!P(l,t)&&(t=new N(l))}this._ranges[this.rangeCount-1]=t,s(this,t,se(this.nativeSelection)),this.isCollapsed=T(this)}else this.refresh()}}:ie.addRange=function(e,t){n(t)&&j?oe(this,e):(this.nativeSelection.addRange(c(e)),this.refresh())},ie.setRanges=function(e){if(J&&B&&e.length>1)_(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;n>t;++t)this.addRange(e[t])}}}else{if(!(A(q,"empty")&&A(Y,"select")&&J&&W))return t.fail("No means of selecting a Range or TextRange was found"),!1;ie.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=R(this.anchorNode);else if(this.docSelection.type==I){var t=this.docSelection.createRange();t.length&&(e=R(t.item(0)))}if(e){var n=H(e).createTextRange();n.select(),this.docSelection.empty()}}}catch(i){}d(this)},ie.addRange=function(t){this.docSelection.type==I?g(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},ie.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?_(this,e):t&&this.addRange(e[0])}}ie.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new O("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()};var re;if(W)re=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=H(t.win.document).createTextRange(),n.collapse(!0)),t.docSelection.type==I?f(t):p(n)?m(t,n):d(t)};else if(A(q,"getRangeAt")&&typeof q.rangeCount==M)re=function(t){if(J&&B&&t.docSelection.type==I)f(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,i=t.rangeCount;i>n;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));s(t,t._ranges[t.rangeCount-1],se(t.nativeSelection)),t.isCollapsed=T(t)}else d(t)};else{if(!V||typeof q.isCollapsed!=S||typeof Y.collapsed!=S||!z.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;re=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=ee(n,0),e._ranges=[t],e.rangeCount=1,l(e),e.isCollapsed=T(e)):d(e)}}ie.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,i=this.anchorOffset;if(re(this),e){var o=t.length;if(o!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=i)return!0;for(;o--;)if(!P(t[o],this._ranges[o]))return!0;return!1}};var ae=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var i=0,o=n.length;o>i;++i)P(t,n[i])||e.addRange(n[i]);e.rangeCount||d(e)};J&&B?ie.removeRange=function(e){if(this.docSelection.type==I){for(var t,n=this.docSelection.createRange(),i=u(e),o=R(n.item(0)),r=H(o).createControlRange(),a=!1,s=0,l=n.length;l>s;++s)t=n.item(s),t!==i||a?r.add(n.item(s)):a=!0;r.select(),f(this)}else ae(this,e)}:ie.removeRange=function(e){ae(this,e)};var se;!W&&V&&z.implementsDomRange?(se=a,ie.isBackward=function(){return se(this)}):se=ie.isBackward=function(){return!1},ie.isBackwards=ie.isBackward,ie.toString=function(){for(var e=[],t=0,n=this.rangeCount;n>t;++t)e[t]=""+this._ranges[t];return e.join("")},ie.collapse=function(t,n){x(this,t);var i=e.createRange(t);i.collapseToPoint(t,n),this.setSingleRange(i),this.isCollapsed=!0},ie.collapseToStart=function(){if(!this.rangeCount)throw new O("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},ie.collapseToEnd=function(){if(!this.rangeCount)throw new O("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},ie.selectAllChildren=function(t){x(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},ie.deleteFromDocument=function(){if(J&&B&&this.docSelection.type==I){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),$.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var i=0,o=n.length;o>i;++i)n[i].deleteContents();this.addRange(n[o-1])}}},ie.eachRange=function(e,t){for(var n=0,i=this._ranges.length;i>n;++n)if(e(this.getRangeAt(n)))return t},ie.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},ie.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},ie.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(i){n.push(i[e].apply(i,t||[]))}),n},ie.setStart=E(!0),ie.setEnd=E(!1),e.rangePrototype.select=function(e){ne(this.getDocument()).setSingleRange(this,e)},ie.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},ie.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},ie.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},ie.moveToBookmark=function(t){for(var n,i,o=[],r=0;n=t.rangeBookmarks[r++];)i=e.createRange(this.win),i.moveToBookmark(n),o.push(i);t.backward?this.setSingleRange(o[0],"backward"):this.setRanges(o)},ie.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},ie.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},ie.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(L.toHtml(t))}),e.join("")},z.implementsTextRange&&(ie.getNativeTextRange=function(){var n;if(n=this.docSelection){var i=n.createRange();if(p(i))return i;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),ie.getName=function(){return"WrappedSelection"},ie.inspect=function(){return C(this)},ie.detach=function(){b(this.win,"delete"),y(this)},v.detachAll=function(){b(null,"deleteAll")},v.inspect=C,v.isDirectionBackward=n,e.Selection=v,e.selectionPrototype=ie,e.addShimListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return ne(e)}),e=null})});var H=!1,P=function(e){H||(H=!0,!O.initialized&&O.config.autoInitialize&&h())};return L&&("complete"==document.readyState?P():(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",P,!1),z(window,"load",P))),O},this),function(t,n){"function"==typeof define&&define.amd?define(["./rangy-core"],t):"undefined"!=typeof module&&"object"==typeof e?module.exports=t(require("rangy")):t(n.rangy)}(function(e){return e.createModule("SaveRestore",["WrappedRange"],function(e,t){
function n(e,t){return(t||document).getElementById(e)}function i(e,t){var n,i="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),o=m.getDocument(e.startContainer),r=e.cloneRange();return r.collapse(t),n=o.createElement("span"),n.id=i,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(o.createTextNode(v)),r.insertNode(n),n}function o(e,i,o,r){var a=n(o,e);a?(i[r?"setStartBefore":"setEndBefore"](a),f(a)):t.warn("Marker element has been removed. Cannot restore selection.")}function r(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function a(t,n){var o,r,a=e.DomRange.getRangeDocument(t),s=t.toString(),l=g(n);return t.collapsed?(r=i(t,!1),{document:a,markerId:r.id,collapsed:!0}):(r=i(t,!1),o=i(t,!0),{document:a,startMarkerId:o.id,endMarkerId:r.id,collapsed:!1,backward:l,toString:function(){return"original text: '"+s+"', new text: '"+t.toString()+"'"}})}function s(i,r){var a=i.document;"undefined"==typeof r&&(r=!0);var s=e.createRange(a);if(i.collapsed){var l=n(i.markerId,a);if(l){l.style.display="inline";var d=l.previousSibling;d&&3==d.nodeType?(f(l),s.collapseToPoint(d,d.length)):(s.collapseBefore(l),f(l))}else t.warn("Marker element has been removed. Cannot restore selection.")}else o(a,s,i.startMarkerId,!0),o(a,s,i.endMarkerId,!1);return r&&s.normalizeBoundaries(),s}function l(t,i){var o,s,l=[],d=g(i);t=t.slice(0),t.sort(r);for(var c=0,h=t.length;h>c;++c)l[c]=a(t[c],d);for(c=h-1;c>=0;--c)o=t[c],s=e.DomRange.getRangeDocument(o),o.collapsed?o.collapseAfter(n(l[c].markerId,s)):(o.setEndBefore(n(l[c].endMarkerId,s)),o.setStartAfter(n(l[c].startMarkerId,s)));return l}function d(n){if(!e.isSelectionValid(n))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var i=e.getSelection(n),o=i.getAllRanges(),r=1==o.length&&i.isBackward(),a=l(o,r);return r?i.setSingleRange(o[0],r):i.setRanges(o),{win:n,rangeInfos:a,restored:!1}}function c(e){for(var t=[],n=e.length,i=n-1;i>=0;i--)t[i]=s(e[i],!0);return t}function h(t,n){if(!t.restored){var i=t.rangeInfos,o=e.getSelection(t.win),r=c(i),a=i.length;1==a&&n&&e.features.selectionHasExtend&&i[0].backward?(o.removeAllRanges(),o.addRange(r[0],!0)):o.setRanges(r),t.restored=!0}}function u(e,t){var i=n(t,e);i&&f(i)}function p(e){for(var t,n=e.rangeInfos,i=0,o=n.length;o>i;++i)t=n[i],t.collapsed?u(e.doc,t.markerId):(u(e.doc,t.startMarkerId),u(e.doc,t.endMarkerId))}var m=e.dom,f=m.removeNode,g=e.Selection.isDirectionBackward,v="\ufeff";e.util.extend(e,{saveRange:a,restoreRange:s,saveRanges:l,restoreRanges:c,saveSelection:d,restoreSelection:h,removeMarkerElement:u,removeMarkers:p})}),e},this)}({},function(){return this}()),!function(e,t){function n(e){try{return 0!==angular.element(e).length}catch(t){return!1}}function i(e,t){if(!e||""===e||o.hasOwnProperty(e))throw"textAngular Error: A unique name is required for a Tool Definition";if(t.display&&(""===t.display||!n(t.display))||!t.display&&!t.buttontext&&!t.iconclass)throw'textAngular Error: Tool Definition for "'+e+'" does not have a valid display/iconclass/buttontext value';o[e]=t}t["true"]=e;var o={};angular.module("textAngularSetup",[]).constant("taRegisterTool",i).value("taTools",o).value("taOptions",{forceTextAngularSanitize:!0,keyMappings:[],toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function(e){},htmlEditorSetup:function(e){}},defaultFileDropHandler:function(e,t){var n=new FileReader;return"image"===e.type.substring(0,5)?(n.onload=function(){""!==n.result&&t("insertImage",n.result,!0)},n.readAsDataURL(e),!0):!1}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(e){var t=angular.element("<iframe></iframe>"),n=e.prop("attributes");angular.forEach(n,function(e){t.attr(e.name,e.value)}),t.attr("src",t.attr("ta-insert-video")),e.replaceWith(t)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyFull:{tooltip:"Justify text"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).factory("taToolFunctions",["$window","taTranslations",function(e,t){return{imgOnSelectAction:function(e,t,n){var i=function(){n.updateTaBindtaTextElement(),n.hidePopover()};e.preventDefault(),n.displayElements.popover.css("width","375px");var o=n.displayElements.popoverContainer;o.empty();var r=angular.element('<div class="btn-group" style="padding-right: 6px;">'),a=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');a.on("click",function(e){e.preventDefault(),t.css({width:"100%",height:""}),i()});var s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');s.on("click",function(e){e.preventDefault(),t.css({width:"50%",height:""}),i()});var l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');l.on("click",function(e){e.preventDefault(),t.css({width:"25%",height:""}),i()});var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');d.on("click",function(e){e.preventDefault(),t.css({width:"",height:""}),i()}),r.append(a),r.append(s),r.append(l),r.append(d),o.append(r),r=angular.element('<div class="btn-group" style="padding-right: 6px;">');var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');c.on("click",function(e){e.preventDefault(),t.css("float","left"),t.css("cssFloat","left"),t.css("styleFloat","left"),i()});var h=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');h.on("click",function(e){e.preventDefault(),t.css("float","right"),t.css("cssFloat","right"),t.css("styleFloat","right"),i()});var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');u.on("click",function(e){e.preventDefault(),t.css("float",""),t.css("cssFloat",""),t.css("styleFloat",""),i()}),r.append(c),r.append(u),r.append(h),o.append(r),r=angular.element('<div class="btn-group">');var p=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');p.on("click",function(e){e.preventDefault(),t.remove(),i()}),r.append(p),o.append(r),n.showPopover(t),n.showResizeOverlay(t)},aOnSelectAction:function(n,i,o){n.preventDefault(),o.displayElements.popover.css("width","436px");var r=o.displayElements.popoverContainer;r.empty(),r.css("line-height","28px");var a=angular.element('<a href="'+i.attr("href")+'" target="_blank">'+i.attr("href")+"</a>");a.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),r.append(a);var s=angular.element('<div class="btn-group pull-right">'),l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+t.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"></i></button>');l.on("click",function(n){n.preventDefault();var r=e.prompt(t.insertLink.dialogPrompt,i.attr("href"));r&&""!==r&&"http://"!==r&&(i.attr("href",r),o.updateTaBindtaTextElement()),o.hidePopover()}),s.append(l);var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+t.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"></i></button>');d.on("click",function(e){e.preventDefault(),i.replaceWith(i.contents()),o.updateTaBindtaTextElement(),o.hidePopover()}),s.append(d);var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+t.editLink.targetToggle.buttontext+"</button>");"_blank"===i.attr("target")&&c.addClass("active"),c.on("click",function(e){e.preventDefault(),i.attr("target","_blank"===i.attr("target")?"":"_blank"),c.toggleClass("active"),o.updateTaBindtaTextElement()}),s.append(c),r.append(s),o.showPopover(i)},extractYoutubeVideoId:function(e){var t=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/i,n=e.match(t);return n&&n[1]||null}}}]).run(["taRegisterTool","$window","taTranslations","taSelection","taToolFunctions","$sanitize","taOptions",function(e,t,n,i,o,r,a){var s={};if(r("",s),a.forceTextAngularSanitize===!0&&"taSanitize"!==s.version)throw angular.$$minErr("textAngular")("textAngularSetup","The textAngular-sanitize provider has been replaced by another -- have you included angular-sanitize by mistake?");e("html",{iconclass:"fa fa-code",tooltiptext:n.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var l=function(e){return function(){return this.$editor().queryFormatBlockState(e)}},d=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(t){e(t.toLowerCase(),{buttontext:t.toUpperCase(),tooltiptext:n.heading.tooltip+t.charAt(1),action:d,activeState:l(t.toLowerCase())})}),e("p",{buttontext:"P",tooltiptext:n.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),e("pre",{buttontext:"pre",tooltiptext:n.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),e("ul",{iconclass:"fa fa-list-ul",tooltiptext:n.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),e("ol",{iconclass:"fa fa-list-ol",tooltiptext:n.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),e("quote",{iconclass:"fa fa-quote-right",tooltiptext:n.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),e("undo",{iconclass:"fa fa-undo",tooltiptext:n.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),e("redo",{iconclass:"fa fa-repeat",tooltiptext:n.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),e("bold",{iconclass:"fa fa-bold",tooltiptext:n.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),e("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:n.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;return e&&(t="left"===e.css("text-align")||"left"===e.attr("align")||"right"!==e.css("text-align")&&"center"!==e.css("text-align")&&"justify"!==e.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")),t=t||this.$editor().queryCommandState("justifyLeft")}}),e("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:n.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;return e&&(t="right"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyRight")}}),e("justifyFull",{iconclass:"fa fa-align-justify",tooltiptext:n.justifyFull.tooltip,action:function(){return this.$editor().wrapSelection("justifyFull",null)},activeState:function(e){var t=!1;return e&&(t="justify"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyFull")}}),e("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:n.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;return e&&(t="center"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyCenter")}}),e("indent",{iconclass:"fa fa-indent",tooltiptext:n.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")},commandKeyCode:"TabKey"}),e("outdent",{iconclass:"fa fa-outdent",tooltiptext:n.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1},commandKeyCode:"ShiftTabKey"}),e("italics",{iconclass:"fa fa-italic",tooltiptext:n.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),e("underline",{iconclass:"fa fa-underline",tooltiptext:n.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),e("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:n.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}}),e("clear",{iconclass:"fa fa-ban",tooltiptext:n.clear.tooltip,action:function(e,t){var n;this.$editor().wrapSelection("removeFormat",null);var o=angular.element(i.getSelectionElement()),r=function(e){e=angular.element(e);var t=e;angular.forEach(e.children(),function(e){var n=angular.element("<p></p>");n.html(angular.element(e).html()),t.after(n),t=n}),e.remove()};if(angular.forEach(o.find("ul"),r),angular.forEach(o.find("ol"),r),"li"===o[0].tagName.toLowerCase()){var a=o[0].parentNode.childNodes,s=[],l=[],d=!1;for(n=0;n<a.length;n++)a[n]===o[0]?d=!0:d?l.push(a[n]):s.push(a[n]);var c=angular.element(o[0].parentNode),h=angular.element("<p></p>");if(h.html(angular.element(o[0]).html()),0===s.length||0===l.length)0===l.length?c.after(h):c[0].parentNode.insertBefore(h[0],c[0]),0===s.length&&0===l.length?c.remove():angular.element(o[0]).remove();else{var u=angular.element("<"+c[0].tagName+"></"+c[0].tagName+">"),p=angular.element("<"+c[0].tagName+"></"+c[0].tagName+">");for(n=0;n<s.length;n++)u.append(angular.element(s[n]));for(n=0;n<l.length;n++)p.append(angular.element(l[n]));c.after(p),c.after(h),c.after(u),c.remove()}i.setSelectionToElementEnd(h[0])}var m=this.$editor(),f=function(e){e=angular.element(e),e[0]!==m.displayElements.text[0]&&e.removeAttr("class"),angular.forEach(e.children(),f)};angular.forEach(o,f),"li"!==o[0].tagName.toLowerCase()&&"ol"!==o[0].tagName.toLowerCase()&&"ul"!==o[0].tagName.toLowerCase()&&this.$editor().wrapSelection("formatBlock","default"),t()}}),e("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:n.insertImage.tooltip,action:function(){var e;return e=t.prompt(n.insertImage.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e?this.$editor().wrapSelection("insertImage",e,!0):void 0},onElementSelect:{element:"img",action:o.imgOnSelectAction}}),e("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:n.insertVideo.tooltip,action:function(){var e;if(e=t.prompt(n.insertVideo.dialogPrompt,"https://"),e&&""!==e&&"https://"!==e&&(videoId=o.extractYoutubeVideoId(e),videoId)){var i="https://www.youtube.com/embed/"+videoId,r='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+videoId+'/hqdefault.jpg" ta-insert-video="'+i+'" contenteditable="false" allowfullscreen="true" frameborder="0" />';return this.$editor().wrapSelection("insertHTML",r,!0)}},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:o.imgOnSelectAction}}),e("insertLink",{tooltiptext:n.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var e;return e=t.prompt(n.insertLink.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e?this.$editor().wrapSelection("createLink",e,!0):void 0},activeState:function(e){return e?"A"===e[0].tagName:!1},onElementSelect:{element:"a",action:o.aOnSelectAction}}),e("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',disabled:!0,wordcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerHTML||"",n=0;return""!==t.replace(/\s*<[^>]*?>\s*/g,"")&&(n=t.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=n,this.$editor().wordcount=n,!1}}),e("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',disabled:!0,charcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerText||e[0].textContent,n=t.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=n,this.$editor().charcount=n,!1}})}]),"undefined"!=typeof module&&"undefined"!=typeof e&&module.exports===e&&(module.exports="textAngular"),function(){"use strict";var t={ie:function(){for(var e,t=3,n=document.createElement("div"),i=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",i[0];);return t>4?t:e}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent)},n=!1;t.webkit&&(document.addEventListener("mousedown",function(e){var t=e||window.event,i=t.target;if(n&&null!==i){for(var o=!1,r=i;null!==r&&"html"!==r.tagName.toLowerCase()&&!o;)o="true"===r.contentEditable,r=r.parentNode;o||(document.getElementById("textAngular-editableFix-010203040506070809").setSelectionRange(0,0),i.focus(),i.select&&i.select())}n=!1},!1),angular.element(document).ready(function(){angular.element(document.body).append(angular.element('<input id="textAngular-editableFix-010203040506070809" class="ta-hidden-input" aria-hidden="true" unselectable="on" tabIndex="-1">'))}));var i=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,r=/^(ul|li|ol)$/i,a=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var s,l,d,c,h,u;if(t.ie>8||void 0===t.ie){for(var p=document.styleSheets,m=0;m<p.length;m++)if((0===p[m].media.length||p[m].media.mediaText.match(/(all|screen)/gi))&&p[m].href&&p[m].href.match(/textangular\.(min\.|)css/gi)){s=p[m];break}s||(s=function(){var e=document.createElement("style");return t.webkit&&e.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(e),e.sheet}()),l=function(e,t){return c(s,e,t)},c=function(e,t,n){var i,o;return e.cssRules?i=Math.max(e.cssRules.length-1,0):e.rules&&(i=Math.max(e.rules.length-1,0)),e.insertRule?e.insertRule(t+"{"+n+"}",i):e.addRule(t,n,i),s.rules?o=s.rules[i]:s.cssRules&&(o=s.cssRules[i]),o},u=function(e,t){var n,i;for(n=0;n<t.length;n++)if(t[n].cssText===e.cssText){i=n;break}return i},d=function(e){h(s,e)},h=function(e,t){var n=e.cssRules||e.rules;if(n&&0!==n.length){var i=u(t,n);e.removeRule?e.removeRule(i):e.deleteRule(i)}}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(e){return e?""===e?void 0===t.ie?"div":t.ie<=8?"P":"p":t.ie<=8?e.toUpperCase():e:t.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(e,t){return function(n){var i=angular.element("<div></div>");return i[0].innerHTML=n,angular.forEach(e,function(e){var n=[];e.selector&&""!==e.selector?n=i.find(e.selector):e.customAttribute&&""!==e.customAttribute&&(n=t.getByAttribute(i,e.customAttribute)),angular.forEach(n,function(t){t=angular.element(t),e.selector&&""!==e.selector&&e.customAttribute&&""!==e.customAttribute?void 0!==t.attr(e.customAttribute)&&e.renderLogic(t):e.renderLogic(t)})}),i[0].innerHTML}}]).factory("taFixChrome",function(){var e=function(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n,i,o=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,r="",a=0;t=o.exec(e);)n=t[3]||t[4],n&&n.match(/line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;/i)&&(n=n.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;/gi,""),i="<"+t[1].trim(),n.trim().length>0&&(i+=" style="+t[2].substring(0,1)+n+t[2].substring(0,1)),i+=t[5].trim()+">",r+=e.substring(a,t.index)+i,a=t.index+t[0].length);return r+=e.substring(a),a>0?r.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1"):e};return e}).factory("taSanitize",["$sanitize",function(e){function t(e,t){for(var n,i=0,o=0,r=/<[^>]*>/gi;n=r.exec(e);)if(o=n.index,"/"===n[0].substr(1,1)){if(0===i)break;i--}else i++;return t+e.substring(0,o)+angular.element(t)[0].outerHTML.substring(t.length)+e.substring(o)}function n(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var i,r,a,s,l,c,h=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,u="",p="",m=0;r=h.exec(e);){s=r[3]||r[4];var f=new RegExp(d,"i");if(angular.isString(s)&&f.test(s)){l="";for(var g=new RegExp(d,"ig");a=g.exec(s);)for(i=0;i<o.length;i++)a[2*i+2]&&(l+="<"+o[i].tag+">");c=n(e.substring(m,r.index)),p+=u.length>0?t(c,u):c,s=s.replace(new RegExp(d,"ig"),""),p+="<"+r[1].trim(),s.length>0&&(p+=' style="'+s+'"'),p+=r[5]+">",m=r.index+r[0].length,u=l}}return p+=u.length>0?t(e.substring(m),u):e.substring(m)}function i(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,i="",o=0;t=n.exec(e);){i+=e.substring(o,t.index),o=t.index+t[0].length;var r="<"+t[1]+t[5];/style=("([^"]+)"|'([^']+)')/gi.test(r)?r=r.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(t[3]||t[4])+';"'):r+=' style="text-align:'+(t[3]||t[4])+';"',r+=">",i+=r}return i+e.substring(o)}for(var o=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],r=[],a=0;a<o.length;a++){for(var s="("+o[a].property+":\\s*(",l=0;l<o[a].values.length;l++)l>0&&(s+="|"),s+=o[a].values[l];s+=");)",r.push(s)}var d="("+r.join("|")+")";return function(t,o,r){if(!r)try{t=n(t)}catch(a){}t=i(t);var s;try{s=e(t),r&&(s=t)}catch(a){s=o||""}var l,d=s.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),c=s.replace(/(&#(9|10);)*/gi,""),h=/<pre[^>]*>.*?<\/pre[^>]*>/gi,u=0,p=0;for(s="";null!==(l=h.exec(c))&&u<d.length;)s+=c.substring(p,l.index)+d[u],p=l.index+l[0].length,u++;return s+c.substring(p)}}]).factory("taToolExecuteAction",["$q","$log",function(e,t){return function(n){void 0!==n&&(this.$editor=function(){return n});var i,o=e.defer(),r=o.promise,a=this.$editor();try{i=this.action(o,a.startAction()),r["finally"](function(){a.endAction.call(a)})}catch(s){t.error(s)}(i||void 0===i)&&o.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(e,t,n){var o=function(t,n){var i,o,r=t.find("li");for(o=r.length-1;o>=0;o--)i=angular.element("<"+n+">"+r[o].innerHTML+"</"+n+">"),t.after(i);t.remove(),e.setSelectionToElementEnd(i[0])},a=function(t){/(<br(|\/)>)$/i.test(t.innerHTML.trim())?e.setSelectionBeforeElement(angular.element(t).find("br")[0]):e.setSelectionToElementEnd(t)},s=function(e,t){var n=angular.element("<"+t+">"+e[0].innerHTML+"</"+t+">");e.after(n),e.remove(),a(n.find("li")[0])},l=function(e,n,i){for(var o="",r=0;r<e.length;r++)o+="<"+t("li")+">"+e[r].innerHTML+"</"+t("li")+">";var s=angular.element("<"+i+">"+o+"</"+i+">");n.after(s),n.remove(),a(s.find("li")[0])};return function(a,d){return a=t(a),function(c,h,u,p){var m,f,g,v,y,b,_,x=angular.element("<"+a+">");try{_=e.getSelectionElement()}catch(E){}var C=angular.element(_);if(void 0!==_){var w=_.tagName.toLowerCase();if("insertorderedlist"===c.toLowerCase()||"insertunorderedlist"===c.toLowerCase()){var T=t("insertorderedlist"===c.toLowerCase()?"ol":"ul");if(w===T)return o(C,a);if("li"===w&&C.parent()[0].tagName.toLowerCase()===T&&1===C.parent().children().length)return o(C.parent(),a);if("li"===w&&C.parent()[0].tagName.toLowerCase()!==T&&1===C.parent().children().length)return s(C.parent(),T);if(w.match(i)&&!C.hasClass("ta-bind")){if("ol"===w||"ul"===w)return s(C,T);var S=!1;return angular.forEach(C.children(),function(e){e.tagName.match(i)&&(S=!0)}),S?l(C.children(),C,T):l([angular.element("<div>"+_.innerHTML+"</div>")[0]],C,T)}if(w.match(i)){if(v=e.getOnlySelectedElements(),0===v.length)f=angular.element("<"+T+"><li>"+_.innerHTML+"</li></"+T+">"),C.html(""),C.append(f);else{if(1===v.length&&("ol"===v[0].tagName.toLowerCase()||"ul"===v[0].tagName.toLowerCase()))return v[0].tagName.toLowerCase()===T?o(angular.element(v[0]),a):s(angular.element(v[0]),T);g="";var M=[];for(m=0;m<v.length;m++)if(3!==v[m].nodeType){var $=angular.element(v[m]);if("li"===v[m].tagName.toLowerCase())continue;g+="ol"===v[m].tagName.toLowerCase()||"ul"===v[m].tagName.toLowerCase()?$[0].innerHTML:"span"!==v[m].tagName.toLowerCase()||"ol"!==v[m].childNodes[0].tagName.toLowerCase()&&"ul"!==v[m].childNodes[0].tagName.toLowerCase()?"<"+t("li")+">"+$[0].innerHTML+"</"+t("li")+">":$[0].childNodes[0].innerHTML,M.unshift($)}f=angular.element("<"+T+">"+g+"</"+T+">"),M.pop().replaceWith(f),angular.forEach(M,function(e){e.remove()})}return void e.setSelectionToElementEnd(f[0])}}else{if("formatblock"===c.toLowerCase()){for(b=u.toLowerCase().replace(/[<>]/gi,""),"default"===b.trim()&&(b=a,u="<"+a+">"),f="li"===w?C.parent():C;!f[0].tagName||!f[0].tagName.match(i)&&!f.parent().attr("contenteditable");)f=f.parent(),w=(f[0].tagName||"").toLowerCase();if(w===b){v=f.children();var k=!1;for(m=0;m<v.length;m++)k=k||v[m].tagName.match(i);k?(f.after(v),y=f.next(),f.remove(),f=y):(x.append(f[0].childNodes),f.after(x),f.remove(),f=x)}else if(f.parent()[0].tagName.toLowerCase()!==b||f.parent().hasClass("ta-bind"))if(w.match(r))f.wrap(u);else{for(v=e.getOnlySelectedElements(),0===v.length&&(v=[f[0]]),m=0;m<v.length;m++)if(3===v[m].nodeType||!v[m].tagName.match(i))for(;3===v[m].nodeType||!v[m].tagName||!v[m].tagName.match(i);)v[m]=v[m].parentNode;if(angular.element(v[0]).hasClass("ta-bind"))f=angular.element(u),f[0].innerHTML=v[0].innerHTML,v[0].innerHTML=f[0].outerHTML;else if("blockquote"===b){for(g="",m=0;m<v.length;m++)g+=v[m].outerHTML;for(f=angular.element(u),f[0].innerHTML=g,v[0].parentNode.insertBefore(f[0],v[0]),m=v.length-1;m>=0;m--)v[m].parentNode&&v[m].parentNode.removeChild(v[m])}else for(m=0;m<v.length;m++)f=angular.element(u),f[0].innerHTML=v[m].innerHTML,v[m].parentNode.insertBefore(f[0],v[m]),v[m].parentNode.removeChild(v[m])}else{var A=f.parent(),L=A.contents();for(m=0;m<L.length;m++)A.parent().hasClass("ta-bind")&&3===L[m].nodeType&&(x=angular.element("<"+a+">"),x[0].innerHTML=L[m].outerHTML,L[m]=x[0]),A.parent()[0].insertBefore(L[m],A[0]);A.remove()}return void e.setSelectionToElementEnd(f[0])}if("createlink"===c.toLowerCase()){var N='<a href="'+u+'" target="'+(p.a.target?p.a.target:"")+'">',O="</a>",D=e.getSelection();if(D.collapsed)e.insertHtml(N+u+O,d);else if(rangy.getSelection().getRangeAt(0).canSurroundContents()){var z=angular.element(N+O)[0];rangy.getSelection().getRangeAt(0).surroundContents(z)}return}if("inserthtml"===c.toLowerCase())return void e.insertHtml(u,d)}}try{n[0].execCommand(c,h,u)}catch(E){}}}}]).service("taSelection",["$window","$document","taDOM",function(e,t,n){var o=t[0],r=e.rangy,s=function(e,t){return e.tagName&&e.tagName.match(/^br$/i)&&0===t&&!e.previousSibling?{element:e.parentNode,offset:0}:{element:e,offset:t}},l={getSelection:function(){var e=r.getSelection().getRangeAt(0),t=e.commonAncestorContainer,n={start:s(e.startContainer,e.startOffset),end:s(e.endContainer,e.endOffset),collapsed:e.collapsed};return t=3===t.nodeType?t.parentNode:t,t.parentNode===n.start.element||t.parentNode===n.end.element?n.container=t.parentNode:n.container=t,n},getOnlySelectedElements:function(){var e=r.getSelection().getRangeAt(0),t=e.commonAncestorContainer;return t=3===t.nodeType?t.parentNode:t,e.getNodes([1],function(e){return e.parentNode===t})},getSelectionElement:function(){return l.getSelection().container},setSelection:function(e,t,n){var i=r.createRange();i.setStart(e,t),i.setEnd(e,n),r.getSelection().setSingleRange(i)},setSelectionBeforeElement:function(e){var t=r.createRange();t.selectNode(e),t.collapse(!0),r.getSelection().setSingleRange(t)},setSelectionAfterElement:function(e){var t=r.createRange();t.selectNode(e),t.collapse(!1),r.getSelection().setSingleRange(t)},setSelectionToElementStart:function(e){var t=r.createRange();t.selectNodeContents(e),t.collapse(!0),r.getSelection().setSingleRange(t)},setSelectionToElementEnd:function(e){var t=r.createRange();t.selectNodeContents(e),t.collapse(!1),e.childNodes&&e.childNodes[e.childNodes.length-1]&&"br"===e.childNodes[e.childNodes.length-1].nodeName&&(t.startOffset=t.endOffset=t.startOffset-1),r.getSelection().setSingleRange(t)},insertHtml:function(e,t){var s,d,c,h,u,p,m,f=angular.element("<div>"+e+"</div>"),g=r.getSelection().getRangeAt(0),v=o.createDocumentFragment(),y=f[0].childNodes,b=!0;if(y.length>0){for(h=[],c=0;c<y.length;c++)"p"===y[c].nodeName.toLowerCase()&&""===y[c].innerHTML.trim()||3===y[c].nodeType&&""===y[c].nodeValue.trim()||(b=b&&!i.test(y[c].nodeName),h.push(y[c]));for(var _=0;_<h.length;_++)p=v.appendChild(h[_]);!b&&g.collapsed&&/^(|<br(|\/)>)$/i.test(g.startContainer.innerHTML)&&g.selectNode(g.startContainer)}else b=!0,p=v=o.createTextNode(e);if(b)g.deleteContents();else if(g.collapsed&&g.startContainer!==t)if(g.startContainer.innerHTML&&g.startContainer.innerHTML.match(/^<[^>]*>$/i))s=g.startContainer,1===g.startOffset?(g.setStartAfter(s),g.setEndAfter(s)):(g.setStartBefore(s),g.setEndBefore(s));else{
if(3===g.startContainer.nodeType&&g.startContainer.parentNode!==t)for(s=g.startContainer.parentNode,d=s.cloneNode(),n.splitNodes(s.childNodes,s,d,g.startContainer,g.startOffset);!a.test(s.nodeName);){angular.element(s).after(d),s=s.parentNode;var x=d;d=s.cloneNode(),n.splitNodes(s.childNodes,s,d,x)}else s=g.startContainer,d=s.cloneNode(),n.splitNodes(s.childNodes,s,d,void 0,void 0,g.startOffset);if(angular.element(s).after(d),g.setStartAfter(s),g.setEndAfter(s),/^(|<br(|\/)>)$/i.test(s.innerHTML.trim())&&(g.setStartBefore(s),g.setEndBefore(s),angular.element(s).remove()),/^(|<br(|\/)>)$/i.test(d.innerHTML.trim())&&angular.element(d).remove(),"li"===s.nodeName.toLowerCase()){for(m=o.createDocumentFragment(),u=0;u<v.childNodes.length;u++)f=angular.element("<li>"),n.transferChildNodes(v.childNodes[u],f[0]),n.transferNodeAttributes(v.childNodes[u],f[0]),m.appendChild(f[0]);v=m,p&&(p=v.childNodes[v.childNodes.length-1],p=p.childNodes[p.childNodes.length-1])}}else g.deleteContents();g.insertNode(v),p&&l.setSelectionToElementEnd(p)}};return l}]).service("taDOM",function(){var e={getByAttribute:function(t,n){var i=[],o=t.children();return o.length&&angular.forEach(o,function(t){i=i.concat(e.getByAttribute(angular.element(t),n))}),void 0!==t.attr(n)&&i.push(t),i},transferChildNodes:function(e,t){for(t.innerHTML="";e.childNodes.length>0;)t.appendChild(e.childNodes[0]);return t},splitNodes:function(t,n,i,o,r,a){if(!o&&isNaN(a))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var s=document.createDocumentFragment(),l=document.createDocumentFragment(),d=0;t.length>0&&(isNaN(a)||a!==d)&&t[0]!==o;)s.appendChild(t[0]),d++;for(!isNaN(r)&&r>=0&&t[0]&&(s.appendChild(document.createTextNode(t[0].nodeValue.substring(0,r))),t[0].nodeValue=t[0].nodeValue.substring(r));t.length>0;)l.appendChild(t[0]);e.transferChildNodes(s,n),e.transferChildNodes(l,i)},transferNodeAttributes:function(e,t){for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].name,e.attributes[n].value);return t}};return e}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var o=parseInt(e.$eval(n.taMaxText));if(isNaN(o))throw"Max text must be an integer";n.$observe("taMaxText",function(e){if(o=parseInt(e),isNaN(o))throw"Max text must be an integer";i.$dirty&&i.$validate()}),i.$validators.taMaxText=function(e){var t=angular.element("<div/>");return t.html(e),t.text().length<=o}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var o=parseInt(e.$eval(n.taMinText));if(isNaN(o))throw"Min text must be an integer";n.$observe("taMinText",function(e){if(o=parseInt(e),isNaN(o))throw"Min text must be an integer";i.$dirty&&i.$validate()}),i.$validators.taMinText=function(e){var t=angular.element("<div/>");return t.html(e),!t.text().length||t.text().length>=o}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){var e=/<(a|abbr|acronym|bdi|bdo|big|cite|code|del|dfn|img|ins|kbd|label|map|mark|q|ruby|rp|rt|s|samp|time|tt|var)[^>]*(>|$)/i;return function(t){return function(n){if(!n)return!0;var i,o=/(^[^<]|>)[^<]/i.exec(n);return o?i=o.index:(n=n.toString().replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,""),i=n.indexOf(">")),n=n.trim().substring(i,i+100),/^[^<>]+$/i.test(n)?!1:0===n.length||n===t||/^>(\s|&nbsp;)*<\/[^>]+>$/gi.test(n)?!0:/>\s*[^\s<]/i.test(n)||e.test(n)?!1:!0}}}]).directive("taButton",[function(){return{link:function(e,t,n){t.attr("unselectable","on"),t.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$window","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM","textAngularManager",function(e,o,r,s,c,h,u,p,m,g,v,y,b,_){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(h,x,E,C){function w(e){var t;return q.forEach(function(n){if(n.keyCode===e.keyCode){var i=(e.metaKey?F:0)+(e.ctrlKey?P:0)+(e.shiftKey?W:0)+(e.altKey?B:0);if(n.forbiddenModifiers&i)return;n.mustHaveModifiers.every(function(e){return i&e})&&(t=n.specialKey)}}),t}var T,S,M,$,k=C[0],A=C[1]||{},L=void 0!==x.attr("contenteditable")&&x.attr("contenteditable"),N=L||"textarea"===x[0].tagName.toLowerCase()||"input"===x[0].tagName.toLowerCase(),O=!1,D=!1,z=!1,I=E.taUnsafeSanitizer||g.disableSanitizer,R=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,H=/^(8|13|32|46|59|61|107|109|173|186|187|188|189|190|191|192|219|220|221|222)$/i,P=1,F=2,B=4,W=8,q=[{specialKey:"UndoKey",forbiddenModifiers:B+W,mustHaveModifiers:[F+P],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:B,mustHaveModifiers:[F+P,W],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:B+W,mustHaveModifiers:[F+P],keyCode:89},{specialKey:"TabKey",forbiddenModifiers:F+W+B+P,mustHaveModifiers:[],keyCode:9},{specialKey:"ShiftTabKey",forbiddenModifiers:F+B+P,mustHaveModifiers:[W],keyCode:9}];void 0===E.taDefaultWrap&&(E.taDefaultWrap="p"),""===E.taDefaultWrap?(M="",$=void 0===t.ie?"<div><br></div>":t.ie>=11?"<p><br></p>":t.ie<=8?"<P>&nbsp;</P>":"<p>&nbsp;</p>"):(M=void 0===t.ie||t.ie>=11?"<"+E.taDefaultWrap+"><br></"+E.taDefaultWrap+">":t.ie<=8?"<"+E.taDefaultWrap.toUpperCase()+"></"+E.taDefaultWrap.toUpperCase()+">":"<"+E.taDefaultWrap+"></"+E.taDefaultWrap+">",$=void 0===t.ie||t.ie>=11?"<"+E.taDefaultWrap+"><br></"+E.taDefaultWrap+">":t.ie<=8?"<"+E.taDefaultWrap.toUpperCase()+">&nbsp;</"+E.taDefaultWrap.toUpperCase()+">":"<"+E.taDefaultWrap+">&nbsp;</"+E.taDefaultWrap+">"),A.$options||(A.$options={});var Y=v($),U=function(e){if(Y(e))return e;var t=angular.element("<div>"+e+"</div>");if(0===t.children().length)e="<"+E.taDefaultWrap+">"+e+"</"+E.taDefaultWrap+">";else{var n,o=t[0].childNodes,r=!1;for(n=0;n<o.length&&!(r=o[n].nodeName.toLowerCase().match(i));n++);if(r)for(e="",n=0;n<o.length;n++){var a=o[n],s=a.nodeName.toLowerCase();if("#comment"===s)e+="<!--"+a.nodeValue+"-->";else if("#text"===s){var l=a.textContent;e+=l.trim()?"<"+E.taDefaultWrap+">"+l+"</"+E.taDefaultWrap+">":l}else if(s.match(i))e+=a.outerHTML;else{var d=a.outerHTML||a.nodeValue;e+=""!==d.trim()?"<"+E.taDefaultWrap+">"+d+"</"+E.taDefaultWrap+">":d}}else e="<"+E.taDefaultWrap+">"+e+"</"+E.taDefaultWrap+">"}return e};E.taPaste&&(S=y(E.taPaste)),x.addClass("ta-bind");var V;h["$undoManager"+(E.id||"")]=k.$undoManager={_stack:[],_index:0,_max:1e3,push:function(e){return"undefined"==typeof e||null===e||"undefined"!=typeof this.current()&&null!==this.current()&&e===this.current()?e:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(e),V&&o.cancel(V),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,e)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(e){return 0>e||e>this._stack.length-1?void 0:(this._index=e,this.current())},current:function(){return this._stack[this._index]}};var j,G=h["$undoTaBind"+(E.id||"")]=function(){if(!O&&L){var e=k.$undoManager.undo();"undefined"!=typeof e&&null!==e&&(ce(e),K(e,!1),j&&o.cancel(j),j=o(function(){x[0].focus(),u.setSelectionToElementEnd(x[0])},1))}},X=h["$redoTaBind"+(E.id||"")]=function(){if(!O&&L){var e=k.$undoManager.redo();"undefined"!=typeof e&&null!==e&&(ce(e),K(e,!1),j&&o.cancel(j),j=o(function(){x[0].focus(),u.setSelectionToElementEnd(x[0])},1))}},Z=function(){if(L)return x[0].innerHTML;if(N)return x.val();throw"textAngular Error: attempting to update non-editable taBind"},K=function(e,t,n){z=n||!1,("undefined"==typeof t||null===t)&&(t=L),("undefined"==typeof e||null===e)&&(e=Z()),Y(e)?(""!==k.$viewValue&&k.$setViewValue(""),t&&""!==k.$undoManager.current()&&k.$undoManager.push("")):(de(),k.$viewValue!==e&&(k.$setViewValue(e),t&&k.$undoManager.push(e))),k.$render()};h["updateTaBind"+(E.id||"")]=function(){O||K(void 0,void 0,!0)};var Q=function(t){return k.$oldViewValue=e(c(t),k.$oldViewValue,I)};if(x.attr("required")&&(k.$validators.required=function(e,t){return!Y(e||t)}),k.$parsers.push(Q),k.$parsers.unshift(U),k.$formatters.push(Q),k.$formatters.unshift(U),k.$formatters.unshift(function(e){return k.$undoManager.push(e||"")}),N)if(h.events={},L){var J=!1,ee=function(t){if(t&&t.trim().length){if(t.match(/class=["']*Mso(Normal|List)/i)){var n=t.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);n=n?n[1]:t,n=n.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var i=angular.element("<div>"+n+"</div>"),r=angular.element("<div></div>"),a={element:null,lastIndent:[],lastLi:null,isUl:!1};a.lastIndent.peek=function(){var e=this.length;return e>0?this[e-1]:void 0};for(var s=function(e){a.isUl=e,a.element=angular.element(e?"<ul>":"<ol>"),a.lastIndent=[],a.lastIndent.peek=function(){var e=this.length;return e>0?this[e-1]:void 0},a.lastLevelMatch=null},l=0;l<=i[0].childNodes.length;l++)if(i[0].childNodes[l]&&"#text"!==i[0].childNodes[l].nodeName&&"p"===i[0].childNodes[l].tagName.toLowerCase()){var d=angular.element(i[0].childNodes[l]),c=(d.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(c){if(d[0].childNodes.length<2||d[0].childNodes[1].childNodes.length<1)continue;var p="bullet"===c[1].toLowerCase()||"number"!==c[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(d[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(d[0].childNodes[1].childNodes[0].innerHTML)),m=(d.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),f=parseFloat(m?m[1]:0),g=(d.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(g&&g[2]&&(f=parseInt(g[2])),g&&(!a.lastLevelMatch||g[1]!==a.lastLevelMatch[1])||!c[3]||"first"===c[3].toLowerCase()||null===a.lastIndent.peek()||a.isUl!==p&&a.lastIndent.peek()===f)s(p),r.append(a.element);else if(null!=a.lastIndent.peek()&&a.lastIndent.peek()<f)a.element=angular.element(p?"<ul>":"<ol>"),a.lastLi.append(a.element);else if(null!=a.lastIndent.peek()&&a.lastIndent.peek()>f){for(;null!=a.lastIndent.peek()&&a.lastIndent.peek()>f;)if("li"!==a.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(a.element.parent()[0].tagName.toLowerCase()))break;a.element=a.element.parent(),a.lastIndent.pop()}else a.element=a.element.parent();a.isUl="ul"===a.element[0].tagName.toLowerCase(),p!==a.isUl&&(s(p),r.append(a.element))}a.lastLevelMatch=g,f!==a.lastIndent.peek()&&a.lastIndent.push(f),a.lastLi=angular.element("<li>"),a.element.append(a.lastLi),a.lastLi.html(d.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,"")),d.remove()}else s(!1),r.append(d)}var v=function(e){e=angular.element(e);for(var t=e[0].childNodes.length-1;t>=0;t--)e.after(e[0].childNodes[t]);e.remove()};angular.forEach(r.find("span"),function(e){e.removeAttribute("lang"),e.attributes.length<=0&&v(e)}),angular.forEach(r.find("font"),v),t=r.html()}else{if(t=t.replace(/<(|\/)meta[^>]*?>/gi,""),t.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(t.match(/<[^>]*?(text-angular)[^>]*?>/)){var y=angular.element("<div>"+t+"</div>");y.find("textarea").remove();for(var _=b.getByAttribute(y,"ta-bind"),E=0;E<_.length;E++){for(var C=_[E][0].parentNode.parentNode,w=0;w<_[E][0].childNodes.length;w++)C.parentNode.insertBefore(_[E][0].childNodes[w],C);C.parentNode.removeChild(C)}t=y.html().replace('<br class="Apple-interchange-newline">',"")}}else t.match(/^<span/)&&(t.match(/<span class=(\"Apple-converted-space\"|\'Apple-converted-space\')>.<\/span>/gi)||(t=t.replace(/<(|\/)span[^>]*?>/gi,"")));t=t.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(t)&&/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(t)===!1&&(t=t.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&</ul>")),t=t.replace(/^[ |\u00A0]+/gm,function(e){for(var t="",n=0;n<e.length;n++)t+="&nbsp;";return t}).replace(/\n|\r\n|\r/g,"<br />").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),S&&(t=S(h,{$html:t})||t),t=e(t,"",I),u.insertHtml(t,x[0]),o(function(){k.$setViewValue(Z()),J=!1,x.removeClass("processing-paste")},0)}else J=!1,x.removeClass("processing-paste")};x.on("paste",h.events.paste=function(e,t){if(t&&angular.extend(e,t),O||J)return e.stopPropagation(),e.preventDefault(),!1;J=!0,x.addClass("processing-paste");var n,i=(e.originalEvent||e).clipboardData;if(i&&i.getData&&i.types.length>0){for(var a="",l=0;l<i.types.length;l++)a+=" "+i.types[l];return/text\/html/i.test(a)?n=i.getData("text/html"):/text\/plain/i.test(a)&&(n=i.getData("text/plain")),ee(n),e.stopPropagation(),e.preventDefault(),!1}var d=r.rangy.saveSelection(),c=angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');s.find("body").append(c),c[0].focus(),o(function(){r.rangy.restoreSelection(d),ee(c[0].innerHTML),x[0].focus(),c.remove()},0)}),x.on("cut",h.events.cut=function(e){O?e.preventDefault():o(function(){k.$setViewValue(Z())},0)}),x.on("keydown",h.events.keydown=function(e,t){t&&angular.extend(e,t),e.specialKey=w(e);var n;if(g.keyMappings.forEach(function(t){e.specialKey===t.commandKeyCode&&(e.specialKey=void 0),t.testForKey(e)&&(n=t.commandKeyCode),("UndoKey"===t.commandKeyCode||"RedoKey"===t.commandKeyCode)&&(t.enablePropagation||e.preventDefault())}),"undefined"!=typeof n&&(e.specialKey=n),"undefined"==typeof e.specialKey||"UndoKey"===e.specialKey&&"RedoKey"===e.specialKey||(e.preventDefault(),_.sendKeyCommand(h,e)),!O&&("UndoKey"===e.specialKey&&(G(),e.preventDefault()),"RedoKey"===e.specialKey&&(X(),e.preventDefault()),13===e.keyCode&&!e.shiftKey)){var i,o=u.getSelectionElement();if(!o.tagName.match(a))return;var r=angular.element(M);if(/^<br(|\/)>$/i.test(o.innerHTML.trim())&&"blockquote"===o.parentNode.tagName.toLowerCase()&&!o.nextSibling){i=angular.element(o);var s=i.parent();s.after(r),i.remove(),0===s.children().length&&s.remove(),u.setSelectionToElementStart(r[0]),e.preventDefault()}else/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(o.innerHTML.trim())&&"blockquote"===o.tagName.toLowerCase()&&(i=angular.element(o),i.after(r),i.remove(),u.setSelectionToElementStart(r[0]),e.preventDefault())}});var te;if(x.on("keyup",h.events.keyup=function(e,t){if(t&&angular.extend(e,t),9===e.keyCode){var n=u.getSelection();return void(n.start.element===x[0]&&x.children().length&&u.setSelectionToElementStart(x.children()[0]))}if(V&&o.cancel(V),!O&&!R.test(e.keyCode)){if(""!==M&&13===e.keyCode&&!e.shiftKey){for(var i=u.getSelectionElement();!i.tagName.match(a)&&i!==x[0];)i=i.parentNode;if(i.tagName.toLowerCase()!==E.taDefaultWrap&&"li"!==i.tagName.toLowerCase()&&(""===i.innerHTML.trim()||"<br>"===i.innerHTML.trim())){var r=angular.element(M);angular.element(i).replaceWith(r),u.setSelectionToElementStart(r[0])}}var s=Z();""!==M&&""===s.trim()?(ce(M),u.setSelectionToElementStart(x.children()[0])):"<"!==s.substring(0,1)&&""!==E.taDefaultWrap;var l=T!==e.keyCode&&H.test(e.keyCode);te&&o.cancel(te),te=o(function(){K(s,l,!0)},A.$options.debounce||400),l||(V=o(function(){k.$undoManager.push(s)},250)),T=e.keyCode}}),x.on("blur",h.events.blur=function(){D=!1,O?(z=!0,k.$render()):K(void 0,void 0,!0)}),E.placeholder&&(t.ie>8||void 0===t.ie)){var ne;if(!E.id)throw"textAngular Error: An unique ID is required for placeholders to work";ne=l("#"+E.id+".placeholder-text:before",'content: "'+E.placeholder+'"'),h.$on("$destroy",function(){d(ne)})}x.on("focus",h.events.focus=function(){D=!0,x.removeClass("placeholder-text"),de()}),x.on("mouseup",h.events.mouseup=function(){var e=u.getSelection();e.start.element===x[0]&&x.children().length&&u.setSelectionToElementStart(x.children()[0])}),x.on("mousedown",h.events.mousedown=function(e,t){t&&angular.extend(e,t),e.stopPropagation()})}else{x.on("change blur",h.events.change=h.events.blur=function(){O||k.$setViewValue(Z())}),x.on("keydown",h.events.keydown=function(e,t){if(t&&angular.extend(e,t),9===e.keyCode){var n=this.selectionStart,i=this.selectionEnd,o=x.val();if(e.shiftKey){var r=o.lastIndexOf("\n",n),a=o.lastIndexOf("	",n);-1!==a&&a>=r&&(x.val(o.substring(0,a)+o.substring(a+1)),this.selectionStart=this.selectionEnd=n-1)}else x.val(o.substring(0,n)+"	"+o.substring(i)),this.selectionStart=this.selectionEnd=n+1;e.preventDefault()}});var ie=function(e,t){for(var n="",i=0;t>i;i++)n+=e;return n},oe=function(e,t,n){for(var i=0;i<e.length;i++)t.call(n,i,e[i])},re=function(e,t){var n="",i=e.childNodes;return t++,n+=ie("	",t-1)+e.outerHTML.substring(0,4),oe(i,function(e,i){var o=i.nodeName.toLowerCase();return"#comment"===o?void(n+="<!--"+i.nodeValue+"-->"):"#text"===o?void(n+=i.textContent):void(i.outerHTML&&(n+="ul"===o||"ol"===o?"\n"+re(i,t):"\n"+ie("	",t)+i.outerHTML))}),n+="\n"+ie("	",t-1)+e.outerHTML.substring(e.outerHTML.lastIndexOf("<"))};k.$formatters.unshift(function(e){var t=angular.element("<div>"+e+"</div>")[0].childNodes;return t.length>0&&(e="",oe(t,function(t,n){var i=n.nodeName.toLowerCase();return"#comment"===i?void(e+="<!--"+n.nodeValue+"-->"):"#text"===i?void(e+=n.textContent):void(n.outerHTML&&(e.length>0&&(e+="\n"),e+="ul"===i||"ol"===i?""+re(n,0):""+n.outerHTML))})),e})}var ae,se=function(e){return h.$emit("ta-element-select",this),e.preventDefault(),!1},le=function(e,t){if(t&&angular.extend(e,t),!f&&!O){f=!0;var n;n=e.originalEvent?e.originalEvent.dataTransfer:e.dataTransfer,h.$emit("ta-drop-event",this,e,n),o(function(){f=!1,K(void 0,void 0,!0)},100)}},de=h["reApplyOnSelectorHandlers"+(E.id||"")]=function(){O||angular.forEach(p,function(e){x.find(e).off("click",se).on("click",se)})},ce=function(e){x[0].innerHTML=e},he=!1;k.$render=function(){if(!he){he=!0;var e=k.$viewValue||"";z||(L&&D&&(x.removeClass("placeholder-text"),ae&&o.cancel(ae),ae=o(function(){D||(x[0].focus(),u.setSelectionToElementEnd(x.children()[x.children().length-1])),ae=void 0},1)),L?(ce(E.placeholder?""===e?M:e:""===e?M:e),O?x.off("drop",le):(de(),x.on("drop",le))):"textarea"!==x[0].tagName.toLowerCase()&&"input"!==x[0].tagName.toLowerCase()?ce(m(e)):x.val(e)),L&&E.placeholder&&(""===e?D?x.removeClass("placeholder-text"):x.addClass("placeholder-text"):x.removeClass("placeholder-text")),he=z=!1}},E.taReadonly&&(O=h.$eval(E.taReadonly),O?(x.addClass("ta-readonly"),("textarea"===x[0].tagName.toLowerCase()||"input"===x[0].tagName.toLowerCase())&&x.attr("disabled","disabled"),void 0!==x.attr("contenteditable")&&x.attr("contenteditable")&&x.removeAttr("contenteditable")):(x.removeClass("ta-readonly"),"textarea"===x[0].tagName.toLowerCase()||"input"===x[0].tagName.toLowerCase()?x.removeAttr("disabled"):L&&x.attr("contenteditable","true")),h.$watch(E.taReadonly,function(e,t){t!==e&&(e?(x.addClass("ta-readonly"),("textarea"===x[0].tagName.toLowerCase()||"input"===x[0].tagName.toLowerCase())&&x.attr("disabled","disabled"),void 0!==x.attr("contenteditable")&&x.attr("contenteditable")&&x.removeAttr("contenteditable"),angular.forEach(p,function(e){x.find(e).on("click",se)}),x.off("drop",le)):(x.removeClass("ta-readonly"),"textarea"===x[0].tagName.toLowerCase()||"input"===x[0].tagName.toLowerCase()?x.removeAttr("disabled"):L&&x.attr("contenteditable","true"),angular.forEach(p,function(e){x.find(e).off("click",se)}),x.on("drop",le)),O=e)})),L&&!O&&(angular.forEach(p,function(e){x.find(e).on("click",se)}),x.on("drop",le),x.on("blur",function(){t.webkit&&(n=!0)}))}}}]);var f=!1,g=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]);g.config([function(){angular.forEach(o,function(e,t){delete o[t]})}]),g.run([function(){if("function"==typeof define&&define.amd)define(function(e){window.rangy=e("rangy"),window.rangy.saveSelection=e("rangy/lib/rangy-selectionsaverestore")});else if("function"==typeof require&&"undefined"!=typeof module&&"object"==typeof e)window.rangy=require("rangy"),window.rangy.saveSelection=require("rangy/lib/rangy-selectionsaverestore");else{if(!window.rangy)throw"rangy-core.js and rangy-selectionsaverestore.js are required for textAngular to work correctly, rangy-core is not yet loaded.";if(window.rangy.init(),!window.rangy.saveSelection)throw"rangy-selectionsaverestore.js is required for textAngular to work correctly."}}]),g.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$window","$document","$animate","$log","$q","$parse",function(e,t,n,i,o,r,a,s,l,d,c,h){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(u,p,m,f){var g,v,y,b,_,x,E,C,w,T,S,M=m.serial?m.serial:Math.floor(1e16*Math.random());u._name=m.name?m.name:"textAngularEditor"+M;var $=function(e,n,i){t(function(){var t=function(){e.off(n,t),i.apply(this,arguments)};e.on(n,t)},100)};if(w=o(m.taDefaultWrap),angular.extend(u,angular.copy(n),{wrapSelection:function(e,t,n){"undo"===e.toLowerCase()?u["$undoTaBindtaTextElement"+M]():"redo"===e.toLowerCase()?u["$redoTaBindtaTextElement"+M]():(w(e,!1,t,u.defaultTagAttributes),n&&u["reApplyOnSelectorHandlerstaTextElement"+M](),u.displayElements.text[0].focus())},showHtml:u.$eval(m.taShowHtml)||!1}),m.taFocussedClass&&(u.classes.focussed=m.taFocussedClass),m.taTextEditorClass&&(u.classes.textEditor=m.taTextEditorClass),m.taHtmlEditorClass&&(u.classes.htmlEditor=m.taHtmlEditorClass),m.taDefaultTagAttributes)try{angular.extend(u.defaultTagAttributes,angular.fromJson(m.taDefaultTagAttributes))}catch(k){d.error(k)}m.taTextEditorSetup&&(u.setup.textEditorSetup=u.$parent.$eval(m.taTextEditorSetup)),m.taHtmlEditorSetup&&(u.setup.htmlEditorSetup=u.$parent.$eval(m.taHtmlEditorSetup)),m.taFileDrop?u.fileDropHandler=u.$parent.$eval(m.taFileDrop):u.fileDropHandler=u.defaultFileDropHandler,E=p[0].innerHTML,p[0].innerHTML="",u.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},u.displayElements.popover.append(u.displayElements.popoverArrow),u.displayElements.popover.append(u.displayElements.popoverContainer),u.displayElements.scrollWindow.append(u.displayElements.popover),u.displayElements.popover.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1}),u.showPopover=function(e){u.displayElements.popover.css("display","block"),u.reflowPopover(e),l.addClass(u.displayElements.popover,"in"),$(s.find("body"),"click keyup",function(){u.hidePopover()})},u.reflowPopover=function(e){u.displayElements.text[0].offsetHeight-51>e[0].offsetTop?(u.displayElements.popover.css("top",e[0].offsetTop+e[0].offsetHeight+u.displayElements.scrollWindow[0].scrollTop+"px"),u.displayElements.popover.removeClass("top").addClass("bottom")):(u.displayElements.popover.css("top",e[0].offsetTop-54+u.displayElements.scrollWindow[0].scrollTop+"px"),u.displayElements.popover.removeClass("bottom").addClass("top"));var t=u.displayElements.text[0].offsetWidth-u.displayElements.popover[0].offsetWidth,n=e[0].offsetLeft+e[0].offsetWidth/2-u.displayElements.popover[0].offsetWidth/2;u.displayElements.popover.css("left",Math.max(0,Math.min(t,n))+"px"),u.displayElements.popoverArrow.css("margin-left",Math.min(n,Math.max(0,n-t))-11+"px")},u.hidePopover=function(){u.displayElements.popover.css("display",""),u.displayElements.popoverContainer.attr("style",""),u.displayElements.popoverContainer.attr("class","popover-content"),u.displayElements.popover.removeClass("in")},u.displayElements.resize.overlay.append(u.displayElements.resize.background),angular.forEach(u.displayElements.resize.anchors,function(e){u.displayElements.resize.overlay.append(e)}),u.displayElements.resize.overlay.append(u.displayElements.resize.info),u.displayElements.scrollWindow.append(u.displayElements.resize.overlay),u.reflowResizeOverlay=function(e){e=angular.element(e)[0],u.displayElements.resize.overlay.css({display:"block",left:e.offsetLeft-5+"px",top:e.offsetTop-5+"px",width:e.offsetWidth+10+"px",height:e.offsetHeight+10+"px"}),u.displayElements.resize.info.text(e.offsetWidth+" x "+e.offsetHeight)},u.showResizeOverlay=function(e){var t=s.find("body");T=function(n){var i={width:parseInt(e.attr("width")),height:parseInt(e.attr("height")),x:n.clientX,y:n.clientY};(void 0===i.width||isNaN(i.width))&&(i.width=e[0].offsetWidth),(void 0===i.height||isNaN(i.height))&&(i.height=e[0].offsetHeight),u.hidePopover();var o=i.height/i.width,r=function(t){function n(e){return Math.round(Math.max(0,e))}var r={x:Math.max(0,i.width+(t.clientX-i.x)),y:Math.max(0,i.height+(t.clientY-i.y))},a=void 0!==m.taResizeForceAspectRatio,s=m.taResizeMaintainAspectRatio,l=a||s&&!t.shiftKey;if(l){var d=r.y/r.x;r.x=o>d?r.x:r.y/o,r.y=o>d?r.x*o:r.y}var c=angular.element(e);c.css("height",n(r.y)+"px"),c.css("width",n(r.x)+"px"),u.reflowResizeOverlay(e)};t.on("mousemove",r),$(t,"mouseup",function(n){n.preventDefault(),n.stopPropagation(),t.off("mousemove",r),u.showPopover(e)}),n.stopPropagation(),n.preventDefault()},u.displayElements.resize.anchors[3].off("mousedown"),u.displayElements.resize.anchors[3].on("mousedown",T),u.reflowResizeOverlay(e),$(t,"click",function(){u.hideResizeOverlay()})},u.hideResizeOverlay=function(){u.displayElements.resize.anchors[3].off("mousedown",T),u.displayElements.resize.overlay.css("display","")},u.setup.htmlEditorSetup(u.displayElements.html),u.setup.textEditorSetup(u.displayElements.text),u.displayElements.html.attr({id:"taHtmlElement"+M,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":p.attr("ng-model-options")}),u.displayElements.text.attr({id:"taTextElement"+M,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":p.attr("ng-model-options")}),u.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),m.taDefaultWrap&&u.displayElements.text.attr("ta-default-wrap",m.taDefaultWrap),m.taUnsafeSanitizer&&(u.displayElements.text.attr("ta-unsafe-sanitizer",m.taUnsafeSanitizer),u.displayElements.html.attr("ta-unsafe-sanitizer",m.taUnsafeSanitizer)),u.displayElements.scrollWindow.append(u.displayElements.text),p.append(u.displayElements.scrollWindow),p.append(u.displayElements.html),u.displayElements.forminput.attr("name",u._name),p.append(u.displayElements.forminput),m.tabindex&&(p.removeAttr("tabindex"),u.displayElements.text.attr("tabindex",m.tabindex),u.displayElements.html.attr("tabindex",m.tabindex)),m.placeholder&&(u.displayElements.text.attr("placeholder",m.placeholder),u.displayElements.html.attr("placeholder",m.placeholder)),m.taDisabled&&(u.displayElements.text.attr("ta-readonly","disabled"),u.displayElements.html.attr("ta-readonly","disabled"),u.disabled=u.$parent.$eval(m.taDisabled),u.$parent.$watch(m.taDisabled,function(e){u.disabled=e,u.disabled?p.addClass(u.classes.disabled):p.removeClass(u.classes.disabled)})),m.taPaste&&(u._pasteHandler=function(e){return h(m.taPaste)(u.$parent,{$html:e})},u.displayElements.text.attr("ta-paste","_pasteHandler($html)")),e(u.displayElements.scrollWindow)(u),e(u.displayElements.html)(u),u.updateTaBindtaTextElement=u["updateTaBindtaTextElement"+M],u.updateTaBindtaHtmlElement=u["updateTaBindtaHtmlElement"+M],p.addClass("ta-root"),u.displayElements.scrollWindow.addClass("ta-text ta-editor "+u.classes.textEditor),u.displayElements.html.addClass("ta-html ta-editor "+u.classes.htmlEditor),u._actionRunning=!1;var A=!1;if(u.startAction=function(){return u._actionRunning=!0,A=a.rangy.saveSelection(),function(){A&&a.rangy.restoreSelection(A)}},u.endAction=function(){u._actionRunning=!1,A&&(u.showHtml?u.displayElements.html[0].focus():u.displayElements.text[0].focus(),a.rangy.removeMarkers(A)),A=!1,u.updateSelectedStyles(),u.showHtml||u["updateTaBindtaTextElement"+M]()},_=function(){u.focussed=!0,p.addClass(u.classes.focussed),C.focus(),p.triggerHandler("focus")},u.displayElements.html.on("focus",_),u.displayElements.text.on("focus",_),x=function(e){return u._actionRunning||s[0].activeElement===u.displayElements.html[0]||s[0].activeElement===u.displayElements.text[0]||(p.removeClass(u.classes.focussed),C.unfocus(),t(function(){u._bUpdateSelectedStyles=!1,p.triggerHandler("blur"),u.focussed=!1},0)),e.preventDefault(),!1},u.displayElements.html.on("blur",x),u.displayElements.text.on("blur",x),u.displayElements.text.on("paste",function(e){p.triggerHandler("paste",e)}),u.queryFormatBlockState=function(e){return!u.showHtml&&e.toLowerCase()===s[0].queryCommandValue("formatBlock").toLowerCase()},u.queryCommandState=function(e){return u.showHtml?"":s[0].queryCommandState(e)},u.switchView=function(){u.showHtml=!u.showHtml,l.enabled(!1,u.displayElements.html),l.enabled(!1,u.displayElements.text),u.showHtml?t(function(){return l.enabled(!0,u.displayElements.html),l.enabled(!0,u.displayElements.text),u.displayElements.html[0].focus()},100):t(function(){return l.enabled(!0,u.displayElements.html),l.enabled(!0,u.displayElements.text),u.displayElements.text[0].focus()},100)},m.ngModel){var L=!0;f.$render=function(){if(L){L=!1;var e=u.$parent.$eval(m.ngModel);void 0!==e&&null!==e||!E||""===E||f.$setViewValue(E)}u.displayElements.forminput.val(f.$viewValue),u.html=f.$viewValue||""},p.attr("required")&&(f.$validators.required=function(e,t){var n=e||t;return!(!n||""===n.trim())})}else u.displayElements.forminput.val(E),u.html=E;if(u.$watch("html",function(e,t){e!==t&&(m.ngModel&&f.$viewValue!==e&&f.$setViewValue(e),u.displayElements.forminput.val(e))}),m.taTargetToolbars)C=r.registerEditor(u._name,u,m.taTargetToolbars.split(","));else{var N=angular.element('<div text-angular-toolbar name="textAngularToolbar'+M+'">');m.taToolbar&&N.attr("ta-toolbar",m.taToolbar),m.taToolbarClass&&N.attr("ta-toolbar-class",m.taToolbarClass),m.taToolbarGroupClass&&N.attr("ta-toolbar-group-class",m.taToolbarGroupClass),m.taToolbarButtonClass&&N.attr("ta-toolbar-button-class",m.taToolbarButtonClass),m.taToolbarActiveButtonClass&&N.attr("ta-toolbar-active-button-class",m.taToolbarActiveButtonClass),m.taFocussedClass&&N.attr("ta-focussed-class",m.taFocussedClass),p.prepend(N),e(N)(u.$parent),C=r.registerEditor(u._name,u,["textAngularToolbar"+M])}u.$on("$destroy",function(){r.unregisterEditor(u._name),angular.element(window).off("blur")}),u.$on("ta-element-select",function(e,t){C.triggerElementSelect(e,t)&&u["reApplyOnSelectorHandlerstaTextElement"+M]()}),u.$on("ta-drop-event",function(e,n,i,o){u.displayElements.text[0].focus(),o&&o.files&&o.files.length>0?(angular.forEach(o.files,function(e){try{c.when(u.fileDropHandler(e,u.wrapSelection)||u.fileDropHandler!==u.defaultFileDropHandler&&c.when(u.defaultFileDropHandler(e,u.wrapSelection))).then(function(){u["updateTaBindtaTextElement"+M]()})}catch(t){d.error(t)}}),i.preventDefault(),i.stopPropagation()):t(function(){u["updateTaBindtaTextElement"+M]()},0)}),u._bUpdateSelectedStyles=!1,angular.element(window).on("blur",function(){u._bUpdateSelectedStyles=!1,u.focussed=!1}),u.updateSelectedStyles=function(){var e;S&&t.cancel(S),void 0!==(e=i.getSelectionElement())&&e.parentNode!==u.displayElements.text[0]?C.updateSelectedStyles(angular.element(e)):C.updateSelectedStyles(),
u._bUpdateSelectedStyles&&(S=t(u.updateSelectedStyles,200))},g=function(){return u.focussed?void(u._bUpdateSelectedStyles||(u._bUpdateSelectedStyles=!0,u.$apply(function(){u.updateSelectedStyles()}))):void(u._bUpdateSelectedStyles=!1)},u.displayElements.html.on("keydown",g),u.displayElements.text.on("keydown",g),v=function(){u._bUpdateSelectedStyles=!1},u.displayElements.html.on("keyup",v),u.displayElements.text.on("keyup",v),y=function(e,t){t&&angular.extend(e,t),u.$apply(function(){return C.sendKeyCommand(e)?(u._bUpdateSelectedStyles||u.updateSelectedStyles(),e.preventDefault(),!1):void 0})},u.displayElements.html.on("keypress",y),u.displayElements.text.on("keypress",y),b=function(){u._bUpdateSelectedStyles=!1,u.$apply(function(){u.updateSelectedStyles()})},u.displayElements.html.on("mouseup",b),u.displayElements.text.on("mouseup",b)}}}]),g.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool",function(e,t,n){var i={},o={};return{registerEditor:function(n,r,a){if(!n||""===n)throw"textAngular Error: An editor requires a name";if(!r)throw"textAngular Error: An editor requires a scope";if(o[n])throw'textAngular Error: An Editor with name "'+n+'" already exists';var s=[];return angular.forEach(a,function(e){i[e]&&s.push(i[e])}),o[n]={scope:r,toolbars:a,_registerToolbar:function(e){this.toolbars.indexOf(e.name)>=0&&s.push(e)},editorFunctions:{disable:function(){angular.forEach(s,function(e){e.disabled=!0})},enable:function(){angular.forEach(s,function(e){e.disabled=!1})},focus:function(){angular.forEach(s,function(e){e._parent=r,e.disabled=!1,e.focussed=!0,r.focussed=!0})},unfocus:function(){angular.forEach(s,function(e){e.disabled=!0,e.focussed=!1}),r.focussed=!1},updateSelectedStyles:function(e){angular.forEach(s,function(t){angular.forEach(t.tools,function(n){n.activeState&&(t._parent=r,n.active=n.activeState(e))})})},sendKeyCommand:function(n){var i=!1;return(n.ctrlKey||n.metaKey||n.specialKey)&&angular.forEach(t,function(t,o){if(t.commandKeyCode&&(t.commandKeyCode===n.which||t.commandKeyCode===n.specialKey))for(var a=0;a<s.length;a++)if(void 0!==s[a].tools[o]){e.call(s[a].tools[o],r),i=!0;break}}),i},triggerElementSelect:function(e,n){var i=function(e,t){for(var n=!0,i=0;i<t.length;i++)n=n&&e.attr(t[i]);return n},o=[],a={},l=!1;n=angular.element(n);var d=!1;if(angular.forEach(t,function(e,t){e.onElementSelect&&e.onElementSelect.element&&e.onElementSelect.element.toLowerCase()===n[0].tagName.toLowerCase()&&(!e.onElementSelect.filter||e.onElementSelect.filter(n))&&(d=d||angular.isArray(e.onElementSelect.onlyWithAttrs)&&i(n,e.onElementSelect.onlyWithAttrs),(!e.onElementSelect.onlyWithAttrs||i(n,e.onElementSelect.onlyWithAttrs))&&(a[t]=e))}),d?(angular.forEach(a,function(e,t){e.onElementSelect.onlyWithAttrs&&i(n,e.onElementSelect.onlyWithAttrs)&&o.push({name:t,tool:e})}),o.sort(function(e,t){return t.tool.onElementSelect.onlyWithAttrs.length-e.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(a,function(e,t){o.push({name:t,tool:e})}),o.length>0)for(var c=0;c<o.length;c++){for(var h=o[c].tool,u=o[c].name,p=0;p<s.length;p++)if(void 0!==s[p].tools[u]){h.onElementSelect.action.call(s[p].tools[u],e,n,r),l=!0;break}if(l)break}return l}}},o[n].editorFunctions},retrieveEditor:function(e){return o[e]},unregisterEditor:function(e){delete o[e]},registerToolbar:function(e){if(!e)throw"textAngular Error: A toolbar requires a scope";if(!e.name||""===e.name)throw"textAngular Error: A toolbar requires a name";if(i[e.name])throw'textAngular Error: A toolbar with name "'+e.name+'" already exists';i[e.name]=e,angular.forEach(o,function(t){t._registerToolbar(e)})},retrieveToolbar:function(e){return i[e]},retrieveToolbarsViaEditor:function(e){var t=[],n=this;return angular.forEach(this.retrieveEditor(e).toolbars,function(e){t.push(n.retrieveToolbar(e))}),t},unregisterToolbar:function(e){delete i[e]},updateToolsDisplay:function(e){var t=this;angular.forEach(e,function(e,n){t.updateToolDisplay(n,e)})},resetToolsDisplay:function(){var e=this;angular.forEach(t,function(t,n){e.resetToolDisplay(n)})},updateToolDisplay:function(e,t){var n=this;angular.forEach(i,function(i,o){n.updateToolbarToolDisplay(o,e,t)})},resetToolDisplay:function(e){var t=this;angular.forEach(i,function(n,i){t.resetToolbarToolDisplay(i,e)})},updateToolbarToolDisplay:function(e,t,n){if(!i[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';i[e].updateToolDisplay(t,n)},resetToolbarToolDisplay:function(e,n){if(!i[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';i[e].updateToolDisplay(n,t[n],!0)},removeTool:function(e){delete t[e],angular.forEach(i,function(t){delete t.tools[e];for(var n=0;n<t.toolbar.length;n++){for(var i,o=0;o<t.toolbar[n].length;o++){if(t.toolbar[n][o]===e){i={group:n,index:o};break}if(void 0!==i)break}void 0!==i&&(t.toolbar[i.group].slice(i.index,1),t._$element.children().eq(i.group).children().eq(i.index).remove())}})},addTool:function(e,t,o,r){n(e,t),angular.forEach(i,function(n){n.addTool(e,t,o,r)})},addToolToToolbar:function(e,t,o,r,a){n(e,t),i[o].addTool(e,t,r,a)},refreshEditor:function(e){if(!o[e])throw'textAngular Error: No Editor with name "'+e+'" exists';o[e].scope.updateTaBindtaTextElement(),o[e].scope.$$phase||o[e].scope.$digest()},sendKeyCommand:function(e,t){angular.forEach(o,function(n){return n.editorFunctions.sendKeyCommand(t)?(e._bUpdateSelectedStyles||e.updateSelectedStyles(),t.preventDefault(),!1):void 0})}}}]),g.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(e,t,n,i,o,r){return{scope:{name:"@"},restrict:"EA",link:function(a,s,l){if(!a.name||""===a.name)throw"textAngular Error: A toolbar requires a name";angular.extend(a,angular.copy(n)),l.taToolbar&&(a.toolbar=a.$parent.$eval(l.taToolbar)),l.taToolbarClass&&(a.classes.toolbar=l.taToolbarClass),l.taToolbarGroupClass&&(a.classes.toolbarGroup=l.taToolbarGroupClass),l.taToolbarButtonClass&&(a.classes.toolbarButton=l.taToolbarButtonClass),l.taToolbarActiveButtonClass&&(a.classes.toolbarButtonActive=l.taToolbarActiveButtonClass),l.taFocussedClass&&(a.classes.focussed=l.taFocussedClass),a.disabled=!0,a.focussed=!1,a._$element=s,s[0].innerHTML="",s.addClass("ta-toolbar "+a.classes.toolbar),a.$watch("focussed",function(){a.focussed?s.addClass(a.classes.focussed):s.removeClass(a.classes.focussed)});var d=function(t,n){var i;if(i=t&&t.display?angular.element(t.display):angular.element("<button type='button'>"),t&&t["class"]?i.addClass(t["class"]):i.addClass(a.classes.toolbarButton),i.attr("name",n.name),i.attr("ta-button","ta-button"),i.attr("ng-disabled","isDisabled()"),i.attr("tabindex","-1"),i.attr("ng-click","executeAction()"),i.attr("ng-class","displayActiveToolClass(active)"),t&&t.tooltiptext&&i.attr("title",t.tooltiptext),t&&!t.display&&!n._display&&(i[0].innerHTML="",t.buttontext&&(i[0].innerHTML=t.buttontext),t.iconclass)){var o=angular.element("<i>"),r=i[0].innerHTML;o.addClass(t.iconclass),i[0].innerHTML="",i.append(o),r&&""!==r&&i.append("&nbsp;"+r)}return n._lastToolDefinition=angular.copy(t),e(i)(n)};a.tools={},a._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var c={$window:r,$editor:function(){return a._parent},isDisabled:function(){return"function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(e){return e?a.classes.toolbarButtonActive:""},executeAction:o};angular.forEach(a.toolbar,function(e){var t=angular.element("<div>");t.addClass(a.classes.toolbarGroup),angular.forEach(e,function(e){a.tools[e]=angular.extend(a.$new(!0),i[e],c,{name:e}),a.tools[e].$element=d(i[e],a.tools[e]),t.append(a.tools[e].$element)}),s.append(t)}),a.updateToolDisplay=function(e,t,n){var i=a.tools[e];if(i){if(i._lastToolDefinition&&!n&&(t=angular.extend({},i._lastToolDefinition,t)),null===t.buttontext&&null===t.iconclass&&null===t.display)throw'textAngular Error: Tool Definition for updating "'+e+'" does not have a valid display/iconclass/buttontext value';null===t.buttontext&&delete t.buttontext,null===t.iconclass&&delete t.iconclass,null===t.display&&delete t.display;var o=d(t,i);i.$element.replaceWith(o),i.$element=o}},a.addTool=function(e,t,n,o){a.tools[e]=angular.extend(a.$new(!0),i[e],c,{name:e}),a.tools[e].$element=d(i[e],a.tools[e]);var r;void 0===n&&(n=a.toolbar.length-1),r=angular.element(s.children()[n]),void 0===o?(r.append(a.tools[e].$element),a.toolbar[n][a.toolbar[n].length-1]=e):(r.children().eq(o).after(a.tools[e].$element),a.toolbar[n][o]=e)},t.registerToolbar(a),a.$on("$destroy",function(){t.unregisterToolbar(a.name)})}}}])}()}({},function(){return this}()),!function(e,t){t["true"]=e,function(e,t,n){"use strict";function i(){this.$get=["$$sanitizeUri",function(e){return function(t){"undefined"!=typeof arguments[1]&&(arguments[1].version="taSanitize");var n=[];return a(t,h(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function o(e){var n=[],i=h(n,t.noop);return i.chars(e),n.join("")}function r(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function a(e,n){function i(e,i,r,a){if(i=t.lowercase(i),k[i])for(;c.last()&&A[c.last()];)o("",c.last());$[i]&&c.last()==i&&o("",i),a=T[i]||!!a,a||c.push(i);var l={};r.replace(f,function(e,t,n,i,o){var r=n||i||o||"";l[t]=s(r)}),n.start&&n.start(i,l,a)}function o(e,i){var o,r=0;if(i=t.lowercase(i))for(r=c.length-1;r>=0&&c[r]!=i;r--);if(r>=0){for(o=c.length-1;o>=r;o--)n.end&&n.end(c[o]);c.length=r}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var r,a,l,d,c=[],h=e;for(c.last=function(){return c[c.length-1]};e;){if(d="",a=!0,c.last()&&N[c.last()]?(e=e.replace(new RegExp("([^]*)<\\s*\\/\\s*"+c.last()+"[^>]*>","i"),function(e,t){return t=t.replace(y,"$1").replace(x,"$1"),n.chars&&n.chars(s(t)),""}),o("",c.last())):(w.test(e)?(l=e.match(w))&&(l[0],n.whitespace&&n.whitespace(l[0]),e=e.replace(l[0],""),a=!1):b.test(e)?(l=e.match(b),l&&(n.comment&&n.comment(l[1]),e=e.replace(l[0],""),a=!1)):_.test(e)?(l=e.match(_),l&&(e=e.replace(l[0],""),a=!1)):v.test(e)?(l=e.match(m),l&&(e=e.substring(l[0].length),l[0].replace(m,o),a=!1)):g.test(e)&&(l=e.match(p),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(p,i)),a=!1):(d+="<",e=e.substring(1))),a&&(r=e.indexOf("<"),d+=0>r?e:e.substring(0,r),e=0>r?"":e.substring(r),n.chars&&n.chars(s(d)))),e==h)throw u("badparse","The sanitizer was unable to parse the following block of html: {0}",e);h=e}o()}function s(e){if(!e)return"";var t=P.exec(e),n=t[1],i=t[3],o=t[2];return o&&(H.innerHTML=o.replace(/</g,"&lt;"),o="textContent"in H?H.textContent:H.innerText),n+o+i}function l(e){return e.replace(/&/g,"&amp;").replace(E,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(C,function(e){var t=e.charCodeAt(0);return 159>=t||173==t||t>=1536&&1540>=t||1807==t||6068==t||6069==t||t>=8204&&8207>=t||t>=8232&&8239>=t||t>=8288&&8303>=t||65279==t||t>=65520&&65535>=t?"&#"+t+";":e}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(e){var n="",i=e.split(";");return t.forEach(i,function(e){var i=e.split(":");if(2==i.length){var o=F(t.lowercase(i[0])),e=F(t.lowercase(i[1]));(("color"===o||"background-color"===o)&&(e.match(/^rgb\([0-9%,\. ]*\)$/i)||e.match(/^rgba\([0-9%,\. ]*\)$/i)||e.match(/^hsl\([0-9%,\. ]*\)$/i)||e.match(/^hsla\([0-9%,\. ]*\)$/i)||e.match(/^#[0-9a-f]{3,6}$/i)||e.match(/^[a-z]*$/i))||"text-align"===o&&("left"===e||"right"===e||"center"===e||"justify"===e)||"float"===o&&("left"===e||"right"===e||"none"===e)||("width"===o||"height"===o)&&e.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===o&&e.match(/^ltr|rtl|initial|inherit$/))&&(n+=o+": "+e+";")}}),n}function c(e,t,n,i){return"img"===e&&t["ta-insert-video"]&&("ta-insert-video"===n||"allowfullscreen"===n||"frameborder"===n||"contenteditable"===n&&"false"===i)?!0:!1}function h(e,n){var i=!1,o=t.bind(e,e.push);return{start:function(e,r,a){e=t.lowercase(e),!i&&N[e]&&(i=e),i||O[e]!==!0||(o("<"),o(e),t.forEach(r,function(i,a){var s=t.lowercase(a),h="img"===e&&"src"===s||"background"===s;("style"===s&&""!==(i=d(i))||c(e,r,s,i)||R[s]===!0&&(D[s]!==!0||n(i,h)))&&(o(" "),o(a),o('="'),o(l(i)),o('"'))}),o(a?"/>":">"))},comment:function(e){o(e)},whitespace:function(e){o(l(e))},end:function(e){e=t.lowercase(e),i||O[e]!==!0||(o("</"),o(e),o(">")),e==i&&(i=!1)},chars:function(e){i||o(l(e))}}}var u=t.$$minErr("$sanitize"),p=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,m=/^<\/\s*([\w:-]+)[^>]*>/,f=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,g=/^</,v=/^<\//,y=/<!--(.*?)-->/g,b=/(^<!--.*?-->)/,_=/<!DOCTYPE([^>]*?)>/i,x=/<!\[CDATA\[(.*?)]]>/g,E=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,C=/([^\#-~| |!])/g,w=/^(\s+)/,T=r("area,br,col,hr,img,wbr,input"),S=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),M=r("rp,rt"),$=t.extend({},M,S),k=t.extend({},S,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),A=t.extend({},M,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),L=r("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),N=r("script,style"),O=t.extend({},T,k,A,$,L),D=r("background,cite,href,longdesc,src,usemap,xlink:href"),z=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),I=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),R=t.extend({},D,I,z),H=document.createElement("pre"),P=/^(\s*)([\s\S]*?)(\s*)$/,F=function(){return String.prototype.trim?function(e){return t.isString(e)?e.trim():e}:function(e){return t.isString(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();t.module("ngSanitize",[]).provider("$sanitize",i),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,i=/^mailto:/;return function(r,a){function s(e){e&&p.push(o(e))}function l(e,n){p.push("<a "),t.isDefined(a)&&p.push('target="',a,'" '),p.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),p.push("</a>")}if(!r)return r;for(var d,c,h,u=r,p=[];d=u.match(n);)c=d[0],d[2]||d[4]||(c=(d[3]?"http://":"mailto:")+c),h=d.index,s(u.substr(0,h)),l(c,d[0].replace(i,"")),u=u.substring(h+d[0].length);return s(u),e(p.join(""))}}])}(window,window.angular)}({},function(){return this}()),!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),i=function(){var i=e.preferredLanguage();angular.isString(i)?e.use(i):n.put(t,e.use())};i.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t))["catch"](i):i():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n=null,i=!1,o=!1;t={sanitize:function(e,t){return"text"===t&&(e=a(e)),e},escape:function(e,t){return"text"===t&&(e=r(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=s(e,a)),e},escapeParameters:function(e,t){return"params"===t&&(e=s(e,r)),e}},t.escaped=t.escapeParameters,this.addStrategy=function(e,n){return t[e]=n,this},this.removeStrategy=function(e){return delete t[e],this},this.useStrategy=function(e){return i=!0,n=e,this},this.$get=["$injector","$log",function(r,a){var s={},l=function(e,n,i){return angular.forEach(i,function(i){if(angular.isFunction(i))e=i(e,n);else if(angular.isFunction(t[i]))e=t[i](e,n);else{if(!angular.isString(t[i]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'");if(!s[t[i]])try{s[t[i]]=r.get(t[i])}catch(o){throw s[t[i]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'")}e=s[t[i]](e,n)}}),e},d=function(){i||o||(a.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),o=!0)};return r.has("$sanitize")&&(e=r.get("$sanitize")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,i){if(n||d(),arguments.length<3&&(i=n),!i)return e;var o=angular.isArray(i)?i:[i];return l(e,t,o)}}}];var r=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},a=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},s=function(e,t){if(angular.isObject(e)){var n=angular.isArray(e)?[]:{};return angular.forEach(e,function(e,i){n[i]=s(e,t)}),n}return angular.isNumber(e)?e:t(e)}}function n(e,t,n,i){"use strict";var o,r,a,s,l,d,c,h,u,p,m,f,g,v,y,b={},_=[],x=e,E=[],C="translate-cloak",w=!1,T=!1,S=".",M=!1,$=0,k=!0,A="default",L={"default":function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t}},N="2.8.1",O=function(){if(angular.isFunction(i.getLocale))return i.getLocale();var e,n,o=t.$get().navigator,r=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(o.languages))for(e=0;e<o.languages.length;e++)if(n=o.languages[e],n&&n.length)return n;for(e=0;e<r.length;e++)if(n=o[r[e]],n&&n.length)return n;return null};O.displayName="angular-translate/service: getFirstBrowserLanguage";var D=function(){var e=O()||"";return L[A]&&(e=L[A](e)),e};D.displayName="angular-translate/service: getLocale";var z=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},I=function(){return this.toString().replace(/^\s+|\s+$/g,"")},R=function(e){for(var t=[],n=angular.lowercase(e),i=0,o=_.length;o>i;i++)t.push(angular.lowercase(_[i]));if(z(t,n)>-1)return e;if(r){var a;for(var s in r){var l=!1,d=Object.prototype.hasOwnProperty.call(r,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(d||l)&&(a=r[s],z(t,angular.lowercase(a))>-1))return a}}if(e){var c=e.split("_");if(c.length>1&&z(t,angular.lowercase(c[0]))>-1)return c[0]}return e},H=function(e,t){if(!e&&!t)return b;if(e&&!t){if(angular.isString(e))return b[e]}else angular.isObject(b[e])||(b[e]={}),angular.extend(b[e],P(t));return this};this.translations=H,this.cloakClassName=function(e){return e?(C=e,this):C},this.nestedObjectDelimeter=function(e){return e?(S=e,this):S};var P=function(e,t,n,i){var o,r,a,s;t||(t=[]),n||(n={});for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(s=e[o],angular.isObject(s)?P(s,t.concat(o),n,o):(r=t.length?""+t.join(S)+S+o:o,t.length&&o===i&&(a=""+t.join(S),n[a]="@:"+r),n[r]=s));return n};P.displayName="flatObject",this.addInterpolation=function(e){return E.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return p=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(F(e),this):o};var F=function(e){return e&&(o=e),o};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(g=e,this):g},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return B(e),this};var B=function(e){return e?(angular.isString(e)?(s=!0,a=[e]):angular.isArray(e)&&(s=!1,a=e),angular.isString(o)&&z(a,o)<0&&a.push(o),this):s?a[0]:a};this.use=function(e){if(e){if(!b[e]&&!m)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return l=e,this}return l};var W=function(e){return e?(x=e,this):h?h+x:x};this.storageKey=W,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return m=e,f=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return c=e,this},this.storagePrefix=function(e){return e?(h=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return u=e,this},this.usePostCompiling=function(e){return w=!!e,this},this.forceAsyncReload=function(e){return T=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},A=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():D();return o=_.length?R(t):t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(_=e,t&&(r=t),this):_},this.useLoaderCache=function(e){return e===!1?y=void 0:e===!0?y=!0:"undefined"==typeof e?y="$translationCache":e&&(y=e),this},this.directivePriority=function(e){return void 0===e?$:($=e,this)},this.statefulFilter=function(e){return void 0===e?k:(k=e,this)},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,i){var r,h,_,A=t.get(p||"$translateDefaultInterpolation"),L=!1,O={},D={},q=function(e,t,n,s){if(angular.isArray(e)){var d=function(e){for(var o={},r=[],a=function(e){var r=i.defer(),a=function(t){o[e]=t,r.resolve([e,t])};return q(e,t,n,s).then(a,a),r.promise},l=0,d=e.length;d>l;l++)r.push(a(e[l]));return i.all(r).then(function(){return o})};return d(e)}var u=i.defer();e&&(e=I.apply(e));var p=function(){var e=o?D[o]:D[l];if(h=0,c&&!e){var t=r.get(x);if(e=D[t],a&&a.length){var n=z(a,t);h=0===n?1:0,z(a,o)<0&&a.push(o)}}return e}();if(p){var m=function(){ne(e,t,n,s).then(u.resolve,u.reject)};m.displayName="promiseResolved",p["finally"](m,u.reject)}else ne(e,t,n,s).then(u.resolve,u.reject);return u.promise},Y=function(e){return g&&(e=[g,e].join(" ")),v&&(e=[e,v].join(" ")),e},U=function(e){l=e,c&&r.put(q.storageKey(),l),n.$emit("$translateChangeSuccess",{language:e}),A.setLocale(l);var t=function(e,t){O[t].setLocale(l)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(O,t),n.$emit("$translateChangeEnd",{language:e})},V=function(e){if(!e)throw"No language key specified for loading.";var o=i.defer();n.$emit("$translateLoadingStart",{language:e}),L=!0;var r=y;"string"==typeof r&&(r=t.get(r));var a=angular.extend({},f,{key:e,$http:angular.extend({},{cache:r},f.$http)}),s=function(t){var i={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(i,P(e))}):angular.extend(i,P(t)),L=!1,o.resolve({key:e,table:i}),n.$emit("$translateLoadingEnd",{language:e})};s.displayName="onLoaderSuccess";var l=function(e){n.$emit("$translateLoadingError",{language:e}),o.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return l.displayName="onLoaderError",t.get(m)(a).then(s,l),o.promise};if(c&&(r=t.get(c),!r.get||!r.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(E.length){var j=function(e){var n=t.get(e);n.setLocale(o||l),O[n.getInterpolationIdentifier()]=n};j.displayName="interpolationFactoryAdder",angular.forEach(E,j)}var G=function(e){var t=i.defer();if(Object.prototype.hasOwnProperty.call(b,e))t.resolve(b[e]);else if(D[e]){var n=function(e){H(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",D[e].then(n,t.reject)}else t.reject();return t.promise},X=function(e,t,n,o){var r=i.defer(),a=function(i){if(Object.prototype.hasOwnProperty.call(i,t)){o.setLocale(e);var a=i[t];"@:"===a.substr(0,2)?X(e,a.substr(2),n,o).then(r.resolve,r.reject):r.resolve(o.interpolate(i[t],n)),o.setLocale(l)}else r.reject()};return a.displayName="fallbackTranslationResolver",G(e).then(a,r.reject),r.promise},Z=function(e,t,n,i){var o,r=b[e];if(r&&Object.prototype.hasOwnProperty.call(r,t)){if(i.setLocale(e),o=i.interpolate(r[t],n),"@:"===o.substr(0,2))return Z(e,o.substr(2),n,i);i.setLocale(l)}return o},K=function(e,n){if(u){var i=t.get(u)(e,l,n);return void 0!==i?i:e}return e},Q=function(e,t,n,o,r){var s=i.defer();if(e<a.length){var l=a[e];X(l,t,n,o).then(s.resolve,function(){Q(e+1,t,n,o,r).then(s.resolve)})}else r?s.resolve(r):s.resolve(K(t,n));return s.promise},J=function(e,t,n,i){var o;if(e<a.length){var r=a[e];o=Z(r,t,n,i),o||(o=J(e+1,t,n,i))}return o},ee=function(e,t,n,i){return Q(_>0?_:h,e,t,n,i)},te=function(e,t,n){return J(_>0?_:h,e,t,n)},ne=function(e,t,n,o){var r=i.defer(),s=l?b[l]:b,d=n?O[n]:A;if(s&&Object.prototype.hasOwnProperty.call(s,e)){var c=s[e];"@:"===c.substr(0,2)?q(c.substr(2),t,n,o).then(r.resolve,r.reject):r.resolve(d.interpolate(c,t))}else{var h;u&&!L&&(h=K(e,t)),l&&a&&a.length?ee(e,t,d,o).then(function(e){r.resolve(e)},function(e){r.reject(Y(e))}):u&&!L&&h?o?r.resolve(o):r.resolve(h):o?r.resolve(o):r.reject(Y(e))}return r.promise},ie=function(e,t,n){var i,o=l?b[l]:b,r=A;if(O&&Object.prototype.hasOwnProperty.call(O,n)&&(r=O[n]),o&&Object.prototype.hasOwnProperty.call(o,e)){var s=o[e];i="@:"===s.substr(0,2)?ie(s.substr(2),t,n):r.interpolate(s,t)}else{var d;u&&!L&&(d=K(e,t)),l&&a&&a.length?(h=0,i=te(e,t,r)):i=u&&!L&&d?d:Y(e)}return i},oe=function(e){d===e&&(d=void 0),D[e]=void 0};q.preferredLanguage=function(e){return e&&F(e),o},q.cloakClassName=function(){return C},q.nestedObjectDelimeter=function(){return S},q.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(B(e),m&&a&&a.length)for(var t=0,n=a.length;n>t;t++)D[a[t]]||(D[a[t]]=V(a[t]));q.use(q.use())}return s?a[0]:a},q.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=z(a,e);t>-1&&(_=t)}else _=0},q.proposedLanguage=function(){return d},q.storage=function(){return r},q.use=function(e){if(!e)return l;var t=i.defer();n.$emit("$translateChangeStart",{language:e});var o=R(e);return o&&(e=o),!T&&b[e]||!m||D[e]?d===e&&D[e]?D[e].then(function(e){return t.resolve(e.key),e},function(e){return t.reject(e),i.reject(e)}):(t.resolve(e),U(e)):(d=e,D[e]=V(e).then(function(n){return H(n.key,n.table),t.resolve(n.key),d===e&&U(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),i.reject(e)}),D[e]["finally"](function(){oe(e)})),t.promise},q.storageKey=function(){return W()},q.isPostCompilingEnabled=function(){return w},q.isForceAsyncReloadEnabled=function(){return T},q.refresh=function(e){function t(){r.resolve(),n.$emit("$translateRefreshEnd",{language:e})}function o(){r.reject(),n.$emit("$translateRefreshEnd",{language:e})}if(!m)throw new Error("Couldn't refresh translation table, no loader registered!");var r=i.defer();if(n.$emit("$translateRefreshStart",{language:e}),e)if(b[e]){var s=function(n){H(n.key,n.table),e===l&&U(l),t()};s.displayName="refreshPostProcessor",V(e).then(s,o)}else o();else{var d=[],c={};if(a&&a.length)for(var h=0,u=a.length;u>h;h++)d.push(V(a[h])),c[a[h]]=!0;l&&!c[l]&&d.push(V(l));var p=function(e){b={},angular.forEach(e,function(e){H(e.key,e.table)}),l&&U(l),t()};p.displayName="refreshPostProcessor",i.all(d).then(p,o)}return r.promise},q.instant=function(e,t,n){if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var i={},r=0,s=e.length;s>r;r++)i[e[r]]=q.instant(e[r],t,n);return i}if(angular.isString(e)&&e.length<1)return e;e&&(e=I.apply(e));var d,c=[];o&&c.push(o),l&&c.push(l),a&&a.length&&(c=c.concat(a));for(var h=0,p=c.length;p>h;h++){var m=c[h];if(b[m]&&("undefined"!=typeof b[m][e]?d=ie(e,t,n):(g||v)&&(d=Y(e))),"undefined"!=typeof d)break}return d||""===d||(d=A.interpolate(e,t),u&&!L&&(d=K(e,t))),d},q.versionInfo=function(){return N},q.loaderCache=function(){return y},q.directivePriority=function(){return $},q.statefulFilter=function(){return k},q.isReady=function(){return M};var re=i.defer();re.promise.then(function(){M=!0}),q.onReady=function(e){var t=i.defer();return angular.isFunction(e)&&t.promise.then(e),M?t.resolve():re.promise.then(t.resolve),t.promise};var ae=n.$on("$translateReady",function(){re.resolve(),ae(),ae=null}),se=n.$on("$translateChangeEnd",function(){re.resolve(),se(),se=null});if(m){if(angular.equals(b,{})&&q.use()&&q.use(q.use()),a&&a.length)for(var le=function(e){return H(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},de=0,ce=a.length;ce>de;de++){var he=a[de];(T||!b[he])&&(D[he]=V(he).then(le))}}else n.$emit("$translateReady",{language:q.use()});return q}]}function i(e,t){"use strict";var n,i={},o="default";return i.setLocale=function(e){n=e},i.getInterpolationIdentifier=function(){return o},i.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},i.interpolate=function(n,i){i=i||{},i=t.sanitize(i,"params");var o=e(n)(i);return o=t.sanitize(o,"text")},i}function o(e,t,n,i,o,a){"use strict";var s=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(t,l){var d=l.translateValues?l.translateValues:void 0,c=l.translateInterpolation?l.translateInterpolation:void 0,h=t[0].outerHTML.match(/translate-value-+/i),u="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",p="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(t,m,f){t.interpolateParams={},t.preText="",t.postText="",t.translateNamespace=r(t);var g={},v=function(e,n,i){if(n.translateValues&&angular.extend(e,o(n.translateValues)(t.$parent)),h)for(var r in i)if(Object.prototype.hasOwnProperty.call(n,r)&&"translateValue"===r.substr(0,14)&&"translateValues"!==r){var a=angular.lowercase(r.substr(14,1))+r.substr(15);e[a]=i[r]}},y=function(e){if(angular.isFunction(y._unwatchOld)&&(y._unwatchOld(),y._unwatchOld=void 0),
angular.equals(e,"")||!angular.isDefined(e)){var i=s.apply(m.text()),o=i.match(u);if(angular.isArray(o)){t.preText=o[1],t.postText=o[3],g.translate=n(o[2])(t.$parent);var r=i.match(p);angular.isArray(r)&&r[2]&&r[2].length&&(y._unwatchOld=t.$watch(r[2],function(e){g.translate=e,w()}))}else g.translate=i}else g.translate=e;w()},b=function(e){f.$observe(e,function(t){g[e]=t,w()})};v(t.interpolateParams,f,l);var _=!0;f.$observe("translate",function(e){"undefined"==typeof e?y(""):""===e&&_||(g.translate=e,w()),_=!1});for(var x in f)f.hasOwnProperty(x)&&"translateAttr"===x.substr(0,13)&&b(x);if(f.$observe("translateDefault",function(e){t.defaultText=e}),d&&f.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,o(e)(t.$parent))})}),h){var E=function(e){f.$observe(e,function(n){var i=angular.lowercase(e.substr(14,1))+e.substr(15);t.interpolateParams[i]=n})};for(var C in f)Object.prototype.hasOwnProperty.call(f,C)&&"translateValue"===C.substr(0,14)&&"translateValues"!==C&&E(C)}var w=function(){for(var e in g)g.hasOwnProperty(e)&&void 0!==g[e]&&T(e,g[e],t,t.interpolateParams,t.defaultText,t.translateNamespace)},T=function(t,n,i,o,r,a){n?(a&&"."===n.charAt(0)&&(n=a+n),e(n,o,c,r).then(function(e){S(e,i,!0,t)},function(e){S(e,i,!1,t)})):S(n,i,!1,t)},S=function(t,n,o,r){if("translate"===r){o||"undefined"==typeof n.defaultText||(t=n.defaultText),m.empty().append(n.preText+t+n.postText);var a=e.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,d=s&&"false"!==l.translateCompile;(a&&!s||d)&&i(m.contents())(n)}else{o||"undefined"==typeof n.defaultText||(t=n.defaultText);var c=f.$attr[r];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),m.attr(c,t)}};(d||h||f.translateDefault)&&t.$watch("interpolateParams",w,!0);var M=a.$on("$translateChangeSuccess",w);m.text().length?y(f.translate?f.translate:""):f.translate&&y(f.translate),w(),t.$on("$destroy",M)}}}}function r(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?r(e.$parent):void 0}function a(e){"use strict";return{compile:function(t){var n=function(){t.addClass(e.cloakClassName())},i=function(){t.removeClass(e.cloakClassName())};return e.onReady(function(){i()}),n(),function(t,o,r){r.translateCloak&&r.translateCloak.length&&r.$observe("translateCloak",function(t){e(t).then(i,n)})}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=r(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function r(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?r(e.$parent):void 0}function l(e,t){"use strict";var n=function(n,i,o){return angular.isObject(i)||(i=e(i)(this)),t.instant(n,i,o)};return t.statefulFilter()&&(n.$stateful=!0),n}function d(e){"use strict";return e("translations")}return angular.module("pascalprecht.translate",["ng"]).run(e),e.$inject=["$translate"],e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",i),i.$inject=["$interpolate","$translateSanitization"],i.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",o),o.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],o.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",a),a.$inject=["$translate"],a.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").filter("translate",l),l.$inject=["$parse","$translate"],l.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",d),d.$inject=["$cacheFactory"],d.displayName="$translationCache","pascalprecht.translate"}),!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e,t){"use strict";return function(n){if(!n||!(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix)))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var i=function(i){if(!i||!angular.isString(i.prefix)||!angular.isString(i.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");return t(angular.extend({url:[i.prefix,n.key,i.suffix].join(""),method:"GET",params:""},n.$http)).then(function(e){return e.data},function(){return e.reject(n.key)})},o=e.defer(),r=[],a=n.files.length,s=0;a>s;s++)r.push(i({prefix:n.files[s].prefix,key:n.key,suffix:n.files[s].suffix}));return e.all(r).then(function(e){for(var t=e.length,n={},i=0;t>i;i++)for(var r in e[i])n[r]=e[i][r];o.resolve(n)},function(e){o.reject(e)}),o.promise}}return angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",e),e.$inject=["$q","$http"],e.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),!function(e){var t,n;!function(){function e(e,t){if(!t)return e;if(0===e.indexOf(".")){var n=t.split("/"),i=e.split("/"),o=n.length-1,r=i.length,a=0,s=0;e:for(var l=0;r>l;l++)switch(i[l]){case"..":if(!(o>a))break e;a++,s++;break;case".":s++;break;default:break e}return n.length=o-a,i=i.slice(s),n.concat(i).join("/")}return e}function i(t){function n(n,a){if("string"==typeof n){var s=i[n];return s||(s=r(e(n,t)),i[n]=s),s}n instanceof Array&&(a=a||function(){},a.apply(this,o(n,a,t)))}var i={};return n}function o(n,i,o){for(var s=[],l=a[o],d=0,c=Math.min(n.length,i.length);c>d;d++){var h,u=e(n[d],o);switch(u){case"require":h=l&&l.require||t;break;case"exports":h=l.exports;break;case"module":h=l;break;default:h=r(u)}s.push(h)}return s}function r(e){var t=a[e];if(!t)throw new Error("No "+e);if(!t.defined){var n=t.factory,i=n.apply(this,o(t.deps||[],n,e));"undefined"!=typeof i&&(t.exports=i),t.defined=1}return t.exports}var a={};n=function(e,t,n){a[e]={id:e,deps:t,factory:n,defined:0,exports:{},require:i(e)}},t=i("")}(),n("echarts/chart/line",["require","./base","zrender/shape/Polyline","../util/shape/Icon","../util/shape/HalfSmoothPolygon","../component/axis","../component/grid","../component/dataZoom","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../chart"],function(e){function t(e,t,n,o,r){i.call(this,e,t,n,o,r),this.refresh(o)}function n(e,t,n){var i=t.x,o=t.y,a=t.width,s=t.height,l=s/2;t.symbol.match("empty")&&(e.fillStyle="#fff"),t.brushType="both";var d=t.symbol.replace("empty","").toLowerCase();d.match("star")?(l=d.replace("star","")-0||5,o-=1,d="star"):("rectangle"===d||"arrow"===d)&&(i+=(a-s)/2,a=s);var c="";if(d.match("image")&&(c=d.replace(new RegExp("^image:\\/\\/"),""),d="image",i+=Math.round((a-s)/2)-1,a=s+=2),d=r.prototype.iconLibrary[d]){var h=t.x,u=t.y;e.moveTo(h,u+l),e.lineTo(h+5,u+l),e.moveTo(h+t.width-5,u+l),e.lineTo(h+t.width,u+l);var p=this;d(e,{x:i+4,y:o+4,width:a-8,height:s-8,n:l,image:c},function(){p.modSelf(),n()})}else e.moveTo(i,o+l),e.lineTo(i+a,o+l)}var i=e("./base"),o=e("zrender/shape/Polyline"),r=e("../util/shape/Icon"),a=e("../util/shape/HalfSmoothPolygon");e("../component/axis"),e("../component/grid"),e("../component/dataZoom");var s=e("../config");s.line={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,dataFilter:"nearest",itemStyle:{normal:{label:{show:!1},lineStyle:{width:2,type:"solid",shadowColor:"rgba(0,0,0,0)",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0}},emphasis:{label:{show:!1}}},symbolSize:2,showAllSymbol:!1};var l=e("../util/ecData"),d=e("zrender/tool/util"),c=e("zrender/tool/color");return t.prototype={type:s.CHART_TYPE_LINE,_buildShape:function(){this.finalPLMap={},this._buildPosition()},_buildHorizontal:function(e,t,n,i){for(var o,r,a,s,l,d,c,h,u,p=this.series,m=n[0][0],f=p[m],g=this.component.xAxis.getAxis(f.xAxisIndex||0),v={},y=0,b=t;b>y&&null!=g.getNameByIndex(y);y++){r=g.getCoordByIndex(y);for(var _=0,x=n.length;x>_;_++){o=this.component.yAxis.getAxis(p[n[_][0]].yAxisIndex||0),l=s=c=d=o.getCoord(0);for(var E=0,C=n[_].length;C>E;E++)m=n[_][E],f=p[m],h=f.data[y],u=this.getDataFromOption(h,"-"),v[m]=v[m]||[],i[m]=i[m]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},"-"!==u?(u>=0?(s-=E>0?o.getCoordSize(u):l-o.getCoord(u),a=s):0>u&&(d+=E>0?o.getCoordSize(u):o.getCoord(u)-c,a=d),v[m].push([r,a,y,g.getNameByIndex(y),r,l]),i[m].min>u&&(i[m].min=u,i[m].minY=a,i[m].minX=r),i[m].max<u&&(i[m].max=u,i[m].maxY=a,i[m].maxX=r),i[m].sum+=u,i[m].counter++):v[m].length>0&&(this.finalPLMap[m]=this.finalPLMap[m]||[],this.finalPLMap[m].push(v[m]),v[m]=[])}s=this.component.grid.getY();for(var w,_=0,x=n.length;x>_;_++)for(var E=0,C=n[_].length;C>E;E++)m=n[_][E],f=p[m],h=f.data[y],u=this.getDataFromOption(h,"-"),"-"==u&&this.deepQuery([h,f,this.option],"calculable")&&(w=this.deepQuery([h,f],"symbolSize"),s+=2*w+5,a=s,this.shapeList.push(this._getCalculableItem(m,y,g.getNameByIndex(y),r,a,"horizontal")))}for(var T in v)v[T].length>0&&(this.finalPLMap[T]=this.finalPLMap[T]||[],this.finalPLMap[T].push(v[T]),v[T]=[]);this._calculMarkMapXY(i,n,"y"),this._buildBorkenLine(e,this.finalPLMap,g,"horizontal")},_buildVertical:function(e,t,n,i){for(var o,r,a,s,l,d,c,h,u,p=this.series,m=n[0][0],f=p[m],g=this.component.yAxis.getAxis(f.yAxisIndex||0),v={},y=0,b=t;b>y&&null!=g.getNameByIndex(y);y++){a=g.getCoordByIndex(y);for(var _=0,x=n.length;x>_;_++){o=this.component.xAxis.getAxis(p[n[_][0]].xAxisIndex||0),l=s=c=d=o.getCoord(0);for(var E=0,C=n[_].length;C>E;E++)m=n[_][E],f=p[m],h=f.data[y],u=this.getDataFromOption(h,"-"),v[m]=v[m]||[],i[m]=i[m]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},"-"!==u?(u>=0?(s+=E>0?o.getCoordSize(u):o.getCoord(u)-l,r=s):0>u&&(d-=E>0?o.getCoordSize(u):c-o.getCoord(u),r=d),v[m].push([r,a,y,g.getNameByIndex(y),l,a]),i[m].min>u&&(i[m].min=u,i[m].minX=r,i[m].minY=a),i[m].max<u&&(i[m].max=u,i[m].maxX=r,i[m].maxY=a),i[m].sum+=u,i[m].counter++):v[m].length>0&&(this.finalPLMap[m]=this.finalPLMap[m]||[],this.finalPLMap[m].push(v[m]),v[m]=[])}s=this.component.grid.getXend();for(var w,_=0,x=n.length;x>_;_++)for(var E=0,C=n[_].length;C>E;E++)m=n[_][E],f=p[m],h=f.data[y],u=this.getDataFromOption(h,"-"),"-"==u&&this.deepQuery([h,f,this.option],"calculable")&&(w=this.deepQuery([h,f],"symbolSize"),s-=2*w+5,r=s,this.shapeList.push(this._getCalculableItem(m,y,g.getNameByIndex(y),r,a,"vertical")))}for(var T in v)v[T].length>0&&(this.finalPLMap[T]=this.finalPLMap[T]||[],this.finalPLMap[T].push(v[T]),v[T]=[]);this._calculMarkMapXY(i,n,"x"),this._buildBorkenLine(e,this.finalPLMap,g,"vertical")},_buildOther:function(e,t,n,i){for(var o,r=this.series,a={},s=0,l=n.length;l>s;s++)for(var d=0,c=n[s].length;c>d;d++){var h=n[s][d],u=r[h];o=this.component.xAxis.getAxis(u.xAxisIndex||0);var p=this.component.yAxis.getAxis(u.yAxisIndex||0),m=p.getCoord(0);a[h]=a[h]||[],i[h]=i[h]||{min0:Number.POSITIVE_INFINITY,min1:Number.POSITIVE_INFINITY,max0:Number.NEGATIVE_INFINITY,max1:Number.NEGATIVE_INFINITY,sum0:0,sum1:0,counter0:0,counter1:0,average0:0,average1:0};for(var f=0,g=u.data.length;g>f;f++){var v=u.data[f],y=this.getDataFromOption(v,"-");if(y instanceof Array){var b=o.getCoord(y[0]),_=p.getCoord(y[1]);a[h].push([b,_,f,y[0],b,m]),i[h].min0>y[0]&&(i[h].min0=y[0],i[h].minY0=_,i[h].minX0=b),i[h].max0<y[0]&&(i[h].max0=y[0],i[h].maxY0=_,i[h].maxX0=b),i[h].sum0+=y[0],i[h].counter0++,i[h].min1>y[1]&&(i[h].min1=y[1],i[h].minY1=_,i[h].minX1=b),i[h].max1<y[1]&&(i[h].max1=y[1],i[h].maxY1=_,i[h].maxX1=b),i[h].sum1+=y[1],i[h].counter1++}}}for(var x in a)a[x].length>0&&(this.finalPLMap[x]=this.finalPLMap[x]||[],this.finalPLMap[x].push(a[x]),a[x]=[]);this._calculMarkMapXY(i,n,"xy"),this._buildBorkenLine(e,this.finalPLMap,o,"other")},_buildBorkenLine:function(e,t,n,i){for(var r,s="other"==i?"horizontal":i,h=this.series,u=e.length-1;u>=0;u--){var p=e[u],m=h[p],f=t[p];if(m.type===this.type&&null!=f)for(var g=this._getBbox(p,s),v=this._sIndex2ColorMap[p],y=this.query(m,"itemStyle.normal.lineStyle.width"),b=this.query(m,"itemStyle.normal.lineStyle.type"),_=this.query(m,"itemStyle.normal.lineStyle.color"),x=this.getItemStyleColor(this.query(m,"itemStyle.normal.color"),p,-1),E=null!=this.query(m,"itemStyle.normal.areaStyle"),C=this.query(m,"itemStyle.normal.areaStyle.color"),w=0,T=f.length;T>w;w++){var S=f[w],M="other"!=i&&this._isLarge(s,S);if(M)S=this._getLargePointList(s,S,m.dataFilter);else for(var $=0,k=S.length;k>$;$++)r=m.data[S[$][2]],(this.deepQuery([r,m,this.option],"calculable")||this.deepQuery([r,m],"showAllSymbol")||"categoryAxis"===n.type&&n.isMainAxis(S[$][2])&&"none"!=this.deepQuery([r,m],"symbol"))&&this.shapeList.push(this._getSymbol(p,S[$][2],S[$][3],S[$][0],S[$][1],s));var A=new o({zlevel:m.zlevel,z:m.z,style:{miterLimit:y,pointList:S,strokeColor:_||x||v,lineWidth:y,lineType:b,smooth:this._getSmooth(m.smooth),smoothConstraint:g,shadowColor:this.query(m,"itemStyle.normal.lineStyle.shadowColor"),shadowBlur:this.query(m,"itemStyle.normal.lineStyle.shadowBlur"),shadowOffsetX:this.query(m,"itemStyle.normal.lineStyle.shadowOffsetX"),shadowOffsetY:this.query(m,"itemStyle.normal.lineStyle.shadowOffsetY")},hoverable:!1,_main:!0,_seriesIndex:p,_orient:s});if(l.pack(A,h[p],p,0,w,h[p].name),this.shapeList.push(A),E){var L=new a({zlevel:m.zlevel,z:m.z,style:{miterLimit:y,pointList:d.clone(S).concat([[S[S.length-1][4],S[S.length-1][5]],[S[0][4],S[0][5]]]),brushType:"fill",smooth:this._getSmooth(m.smooth),smoothConstraint:g,color:C?C:c.alpha(v,.5)},highlightStyle:{brushType:"fill"},hoverable:!1,_main:!0,_seriesIndex:p,_orient:s});l.pack(L,h[p],p,0,w,h[p].name),this.shapeList.push(L)}}}},_getBbox:function(e,t){var n=this.component.grid.getBbox(),i=this.xMarkMap[e];return null!=i.minX0?[[Math.min(i.minX0,i.maxX0,i.minX1,i.maxX1),Math.min(i.minY0,i.maxY0,i.minY1,i.maxY1)],[Math.max(i.minX0,i.maxX0,i.minX1,i.maxX1),Math.max(i.minY0,i.maxY0,i.minY1,i.maxY1)]]:("horizontal"===t?(n[0][1]=Math.min(i.minY,i.maxY),n[1][1]=Math.max(i.minY,i.maxY)):(n[0][0]=Math.min(i.minX,i.maxX),n[1][0]=Math.max(i.minX,i.maxX)),n)},_isLarge:function(e,t){return t.length<2?!1:"horizontal"===e?Math.abs(t[0][0]-t[1][0])<.5:Math.abs(t[0][1]-t[1][1])<.5},_getLargePointList:function(e,t,n){var i;i="horizontal"===e?this.component.grid.getWidth():this.component.grid.getHeight();var o=t.length,r=[];if("function"!=typeof n)switch(n){case"min":n=function(e){return Math.max.apply(null,e)};break;case"max":n=function(e){return Math.min.apply(null,e)};break;case"average":n=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t/e.length};break;default:n=function(e){return e[0]}}for(var a=[],s=0;i>s;s++){var l=Math.floor(o/i*s),d=Math.min(Math.floor(o/i*(s+1)),o);if(!(l>=d)){for(var c=l;d>c;c++)a[c-l]="horizontal"===e?t[c][1]:t[c][0];a.length=d-l;for(var h=n(a),u=-1,p=1/0,c=l;d>c;c++){var m="horizontal"===e?t[c][1]:t[c][0],f=Math.abs(m-h);p>f&&(u=c,p=f)}var g=t[u].slice();"horizontal"===e?g[1]=h:g[0]=h,r.push(g)}}return r},_getSmooth:function(e){return e?.3:0},_getCalculableItem:function(e,t,n,i,o,r){var a=this.series,l=a[e].calculableHolderColor||this.ecTheme.calculableHolderColor||s.calculableHolderColor,d=this._getSymbol(e,t,n,i,o,r);return d.style.color=l,d.style.strokeColor=l,d.rotation=[0,0],d.hoverable=!1,d.draggable=!1,d.style.text=void 0,d},_getSymbol:function(e,t,n,i,o,r){var a=this.series,s=a[e],l=s.data[t],d=this.getSymbolShape(s,e,l,t,n,i,o,this._sIndex2ShapeMap[e],this._sIndex2ColorMap[e],"#fff","vertical"===r?"horizontal":"vertical");return d.zlevel=s.zlevel,d.z=s.z+1,this.deepQuery([l,s,this.option],"calculable")&&(this.setCalculable(d),d.draggable=!0),d},getMarkCoord:function(e,t){var n=this.series[e],i=this.xMarkMap[e],o=this.component.xAxis.getAxis(n.xAxisIndex),r=this.component.yAxis.getAxis(n.yAxisIndex);if(t.type&&("max"===t.type||"min"===t.type||"average"===t.type)){var a=null!=t.valueIndex?t.valueIndex:null!=i.maxX0?"1":"";return[i[t.type+"X"+a],i[t.type+"Y"+a],i[t.type+"Line"+a],i[t.type+a]]}return["string"!=typeof t.xAxis&&o.getCoordByIndex?o.getCoordByIndex(t.xAxis||0):o.getCoord(t.xAxis||0),"string"!=typeof t.yAxis&&r.getCoordByIndex?r.getCoordByIndex(t.yAxis||0):r.getCoord(t.yAxis||0)]},refresh:function(e){e&&(this.option=e,this.series=e.series),this.backupShapeList(),this._buildShape()},ontooltipHover:function(e,t){for(var n,i,o=e.seriesIndex,r=e.dataIndex,a=o.length;a--;)if(n=this.finalPLMap[o[a]])for(var s=0,l=n.length;l>s;s++){i=n[s];for(var d=0,c=i.length;c>d;d++)r===i[d][2]&&t.push(this._getSymbol(o[a],i[d][2],i[d][3],i[d][0],i[d][1],"horizontal"))}},addDataAnimation:function(e,t){function n(){f--,0===f&&t&&t()}function i(e){e.style.controlPointList=null}for(var o=this.series,r={},a=0,s=e.length;s>a;a++)r[e[a][0]]=e[a];for(var l,d,c,h,u,p,m,f=0,a=this.shapeList.length-1;a>=0;a--)if(u=this.shapeList[a]._seriesIndex,r[u]&&!r[u][3]){if(this.shapeList[a]._main&&this.shapeList[a].style.pointList.length>1){if(p=this.shapeList[a].style.pointList,d=Math.abs(p[0][0]-p[1][0]),h=Math.abs(p[0][1]-p[1][1]),m="horizontal"===this.shapeList[a]._orient,r[u][2]){if("half-smooth-polygon"===this.shapeList[a].type){var g=p.length;this.shapeList[a].style.pointList[g-3]=p[g-2],this.shapeList[a].style.pointList[g-3][m?0:1]=p[g-4][m?0:1],this.shapeList[a].style.pointList[g-2]=p[g-1]}this.shapeList[a].style.pointList.pop(),m?(l=d,c=0):(l=0,c=-h)}else{if(this.shapeList[a].style.pointList.shift(),"half-smooth-polygon"===this.shapeList[a].type){var v=this.shapeList[a].style.pointList.pop();m?v[0]=p[0][0]:v[1]=p[0][1],this.shapeList[a].style.pointList.push(v)}m?(l=-d,c=0):(l=0,c=h)}this.shapeList[a].style.controlPointList=null,this.zr.modShape(this.shapeList[a])}else{if(r[u][2]&&this.shapeList[a]._dataIndex===o[u].data.length-1){this.zr.delShape(this.shapeList[a].id);continue}if(!r[u][2]&&0===this.shapeList[a]._dataIndex){this.zr.delShape(this.shapeList[a].id);continue}}this.shapeList[a].position=[0,0],f++,this.zr.animate(this.shapeList[a].id,"").when(this.query(this.option,"animationDurationUpdate"),{position:[l,c]}).during(i).done(n).start()}f||t&&t()}},r.prototype.iconLibrary.legendLineIcon=n,d.inherits(t,i),e("../chart").define("line",t),t}),n("echarts/chart/pie",["require","./base","zrender/shape/Text","zrender/shape/Ring","zrender/shape/Circle","zrender/shape/Sector","zrender/shape/Polyline","../config","../util/ecData","zrender/tool/util","zrender/tool/math","zrender/tool/color","../chart"],function(e){function t(e,t,i,o,r){n.call(this,e,t,i,o,r);var a=this;a.shapeHandler.onmouseover=function(e){var t=e.target,n=d.get(t,"seriesIndex"),i=d.get(t,"dataIndex"),o=d.get(t,"special"),r=[t.style.x,t.style.y],s=t.style.startAngle,l=t.style.endAngle,c=((l+s)/2+360)%360,h=t.highlightStyle.color,u=a.getLabel(n,i,o,r,c,h,!0);u&&a.zr.addHoverShape(u);var p=a.getLabelLine(n,i,r,t.style.r0,t.style.r,c,h,!0);p&&a.zr.addHoverShape(p)},this.refresh(o)}var n=e("./base"),i=e("zrender/shape/Text"),o=e("zrender/shape/Ring"),r=e("zrender/shape/Circle"),a=e("zrender/shape/Sector"),s=e("zrender/shape/Polyline"),l=e("../config");l.pie={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,center:["50%","50%"],radius:[0,"75%"],clockWise:!0,startAngle:90,minAngle:0,selectedOffset:10,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!1},labelLine:{show:!1,length:20,lineStyle:{width:1,type:"solid"}}}}};var d=e("../util/ecData"),c=e("zrender/tool/util"),h=e("zrender/tool/math"),u=e("zrender/tool/color");return t.prototype={type:l.CHART_TYPE_PIE,_buildShape:function(){var e=this.series,t=this.component.legend;this.selectedMap={},this._selected={};var n,i,a;this._selectedMode=!1;for(var s,c=0,h=e.length;h>c;c++)if(e[c].type===l.CHART_TYPE_PIE){if(e[c]=this.reformOption(e[c]),this.legendHoverLink=e[c].legendHoverLink||this.legendHoverLink,s=e[c].name||"",this.selectedMap[s]=t?t.isSelected(s):!0,!this.selectedMap[s])continue;n=this.parseCenter(this.zr,e[c].center),i=this.parseRadius(this.zr,e[c].radius),this._selectedMode=this._selectedMode||e[c].selectedMode,this._selected[c]=[],this.deepQuery([e[c],this.option],"calculable")&&(a={zlevel:e[c].zlevel,z:e[c].z,hoverable:!1,style:{x:n[0],y:n[1],r0:i[0]<=10?0:i[0]-10,r:i[1]+10,brushType:"stroke",lineWidth:1,strokeColor:e[c].calculableHolderColor||this.ecTheme.calculableHolderColor||l.calculableHolderColor}},d.pack(a,e[c],c,void 0,-1),this.setCalculable(a),a=i[0]<=10?new r(a):new o(a),this.shapeList.push(a)),this._buildSinglePie(c),this.buildMark(c)}this.addShapeList()},_buildSinglePie:function(e){for(var t,n=this.series,i=n[e],o=i.data,r=this.component.legend,a=0,s=0,l=0,d=Number.NEGATIVE_INFINITY,c=[],h=0,u=o.length;u>h;h++)t=o[h].name,this.selectedMap[t]=r?r.isSelected(t):!0,this.selectedMap[t]&&!isNaN(o[h].value)&&(0!==+o[h].value?a++:s++,l+=+o[h].value,d=Math.max(d,+o[h].value));if(0!==l){for(var p,m,f,g,v,y,b=100,_=i.clockWise,x=(i.startAngle.toFixed(2)-0+360)%360,E=i.minAngle||.01,C=360-E*a-.01*s,w=i.roseType,h=0,u=o.length;u>h;h++)if(t=o[h].name,this.selectedMap[t]&&!isNaN(o[h].value)){if(m=r?r.getColor(t):this.zr.getColor(h),b=o[h].value/l,p="area"!=w?_?x-b*C-(0!==b?E:.01):b*C+x+(0!==b?E:.01):_?x-360/u:360/u+x,p=p.toFixed(2)-0,b=(100*b).toFixed(2),f=this.parseCenter(this.zr,i.center),g=this.parseRadius(this.zr,i.radius),v=+g[0],y=+g[1],"radius"===w?y=o[h].value/d*(y-v)*.8+.2*(y-v)+v:"area"===w&&(y=Math.sqrt(o[h].value/d)*(y-v)+v),_){var T;T=x,x=p,p=T}this._buildItem(c,e,h,b,o[h].selected,f,v,y,x,p,m),_||(x=p)}this._autoLabelLayout(c,f,y);for(var h=0,u=c.length;u>h;h++)this.shapeList.push(c[h]);c=null}},_buildItem:function(e,t,n,i,o,r,a,s,l,c,h){var u=this.series,p=((c+l)/2+360)%360,m=this.getSector(t,n,i,o,r,a,s,l,c,h);d.pack(m,u[t],t,u[t].data[n],n,u[t].data[n].name,i),e.push(m);var f=this.getLabel(t,n,i,r,p,h,!1),g=this.getLabelLine(t,n,r,a,s,p,h,!1);g&&(d.pack(g,u[t],t,u[t].data[n],n,u[t].data[n].name,i),e.push(g)),f&&(d.pack(f,u[t],t,u[t].data[n],n,u[t].data[n].name,i),f._labelLine=g,e.push(f))},getSector:function(e,t,n,i,o,r,s,l,d,c){var p=this.series,m=p[e],f=m.data[t],g=[f,m],v=this.deepMerge(g,"itemStyle.normal")||{},y=this.deepMerge(g,"itemStyle.emphasis")||{},b=this.getItemStyleColor(v.color,e,t,f)||c,_=this.getItemStyleColor(y.color,e,t,f)||("string"==typeof b?u.lift(b,-.2):b),x={zlevel:m.zlevel,z:m.z,clickable:this.deepQuery(g,"clickable"),style:{x:o[0],y:o[1],r0:r,r:s,startAngle:l,endAngle:d,brushType:"both",color:b,lineWidth:v.borderWidth,strokeColor:v.borderColor,lineJoin:"round"},highlightStyle:{color:_,lineWidth:y.borderWidth,strokeColor:y.borderColor,lineJoin:"round"},_seriesIndex:e,_dataIndex:t};if(i){var E=((x.style.startAngle+x.style.endAngle)/2).toFixed(2)-0;x.style._hasSelected=!0,x.style._x=x.style.x,x.style._y=x.style.y;var C=this.query(m,"selectedOffset");x.style.x+=h.cos(E,!0)*C,x.style.y-=h.sin(E,!0)*C,this._selected[e][t]=!0}else this._selected[e][t]=!1;return this._selectedMode&&(x.onclick=this.shapeHandler.onclick),this.deepQuery([f,m,this.option],"calculable")&&(this.setCalculable(x),x.draggable=!0),(this._needLabel(m,f,!0)||this._needLabelLine(m,f,!0))&&(x.onmouseover=this.shapeHandler.onmouseover),x=new a(x)},getLabel:function(e,t,n,o,r,a,s){var l=this.series,d=l[e],u=d.data[t];if(this._needLabel(d,u,s)){var p,m,f,g=s?"emphasis":"normal",v=c.merge(c.clone(u.itemStyle)||{},d.itemStyle),y=v[g].label,b=y.textStyle||{},_=o[0],x=o[1],E=this.parseRadius(this.zr,d.radius),C="middle";y.position=y.position||v.normal.label.position,"center"===y.position?(p=_,m=x,f="center"):"inner"===y.position||"inside"===y.position?(E=(E[0]+E[1])*(y.distance||.5),p=Math.round(_+E*h.cos(r,!0)),m=Math.round(x-E*h.sin(r,!0)),a="#fff",f="center"):(E=E[1]- -v[g].labelLine.length,p=Math.round(_+E*h.cos(r,!0)),m=Math.round(x-E*h.sin(r,!0)),f=r>=90&&270>=r?"right":"left"),"center"!=y.position&&"inner"!=y.position&&"inside"!=y.position&&(p+="left"===f?20:-20),u.__labelX=p-("left"===f?5:-5),u.__labelY=m;var w=new i({zlevel:d.zlevel,z:d.z+1,hoverable:!1,style:{x:p,y:m,color:b.color||a,text:this.getLabelText(e,t,n,g),textAlign:b.align||f,textBaseline:b.baseline||C,textFont:this.getFont(b)},highlightStyle:{brushType:"fill"}});return w._radius=E,w._labelPosition=y.position||"outer",w._rect=w.getRect(w.style),w._seriesIndex=e,w._dataIndex=t,w}},getLabelText:function(e,t,n,i){var o=this.series,r=o[e],a=r.data[t],s=this.deepQuery([a,r],"itemStyle."+i+".label.formatter");return s?"function"==typeof s?s.call(this.myChart,{seriesIndex:e,seriesName:r.name||"",series:r,dataIndex:t,data:a,name:a.name,value:a.value,percent:n}):"string"==typeof s?(s=s.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}"),s=s.replace("{a0}",r.name).replace("{b0}",a.name).replace("{c0}",a.value).replace("{d0}",n)):void 0:a.name},getLabelLine:function(e,t,n,i,o,r,a,l){var d=this.series,u=d[e],p=u.data[t];if(this._needLabelLine(u,p,l)){var m=l?"emphasis":"normal",f=c.merge(c.clone(p.itemStyle)||{},u.itemStyle),g=f[m].labelLine,v=g.lineStyle||{},y=n[0],b=n[1],_=o,x=this.parseRadius(this.zr,u.radius)[1]- -g.length,E=h.cos(r,!0),C=h.sin(r,!0);return new s({zlevel:u.zlevel,z:u.z+1,hoverable:!1,style:{pointList:[[y+_*E,b-_*C],[y+x*E,b-x*C],[p.__labelX,p.__labelY]],strokeColor:v.color||a,lineType:v.type,lineWidth:v.width},_seriesIndex:e,_dataIndex:t})}},_needLabel:function(e,t,n){return this.deepQuery([t,e],"itemStyle."+(n?"emphasis":"normal")+".label.show")},_needLabelLine:function(e,t,n){return this.deepQuery([t,e],"itemStyle."+(n?"emphasis":"normal")+".labelLine.show")},_autoLabelLayout:function(e,t,n){for(var i=[],o=[],r=0,a=e.length;a>r;r++)("outer"===e[r]._labelPosition||"outside"===e[r]._labelPosition)&&(e[r]._rect._y=e[r]._rect.y,e[r]._rect.x<t[0]?i.push(e[r]):o.push(e[r]));this._layoutCalculate(i,t,n,-1),this._layoutCalculate(o,t,n,1)},_layoutCalculate:function(e,t,n,i){function o(t,n,i){for(var o=t;n>o;o++)if(e[o]._rect.y+=i,e[o].style.y+=i,e[o]._labelLine&&(e[o]._labelLine.style.pointList[1][1]+=i,e[o]._labelLine.style.pointList[2][1]+=i),o>t&&n>o+1&&e[o+1]._rect.y>e[o]._rect.y+e[o]._rect.height)return void r(o,i/2);r(n-1,i/2)}function r(t,n){for(var i=t;i>=0&&(e[i]._rect.y-=n,e[i].style.y-=n,e[i]._labelLine&&(e[i]._labelLine.style.pointList[1][1]-=n,e[i]._labelLine.style.pointList[2][1]-=n),!(i>0&&e[i]._rect.y>e[i-1]._rect.y+e[i-1]._rect.height));i--);}function a(e,t,n,i,o){for(var r,a,s,l=n[0],d=n[1],c=o>0?t?Number.MAX_VALUE:0:t?Number.MAX_VALUE:0,h=0,u=e.length;u>h;h++)a=Math.abs(e[h]._rect.y-d),s=e[h]._radius-i,r=i+s>a?Math.sqrt((i+s+20)*(i+s+20)-Math.pow(e[h]._rect.y-d,2)):Math.abs(e[h]._rect.x+(o>0?0:e[h]._rect.width)-l),t&&r>=c&&(r=c-10),!t&&c>=r&&(r=c+10),e[h]._rect.x=e[h].style.x=l+r*o,e[h]._labelLine&&(e[h]._labelLine.style.pointList[2][0]=l+(r-5)*o,e[h]._labelLine.style.pointList[1][0]=l+(r-20)*o),c=r}e.sort(function(e,t){return e._rect.y-t._rect.y});for(var s,l=0,d=e.length,c=[],h=[],u=0;d>u;u++)s=e[u]._rect.y-l,0>s&&o(u,d,-s,i),l=e[u]._rect.y+e[u]._rect.height;this.zr.getHeight()-l<0&&r(d-1,l-this.zr.getHeight());for(var u=0;d>u;u++)e[u]._rect.y>=t[1]?h.push(e[u]):c.push(e[u]);a(h,!0,t,n,i),a(c,!1,t,n,i)},reformOption:function(e){var t=c.merge;return e=t(t(e||{},c.clone(this.ecTheme.pie||{})),c.clone(l.pie)),e.itemStyle.normal.label.textStyle=this.getTextStyle(e.itemStyle.normal.label.textStyle),e.itemStyle.emphasis.label.textStyle=this.getTextStyle(e.itemStyle.emphasis.label.textStyle),this.z=e.z,this.zlevel=e.zlevel,e},refresh:function(e){e&&(this.option=e,this.series=e.series),this.backupShapeList(),this._buildShape()},addDataAnimation:function(e,t){function n(){s--,0===s&&t&&t()}for(var i=this.series,o={},r=0,a=e.length;a>r;r++)o[e[r][0]]=e[r];var s=0,d={},c={},h={},u=this.shapeList;this.shapeList=[];for(var p,m,f,g={},r=0,a=e.length;a>r;r++)p=e[r][0],m=e[r][2],f=e[r][3],i[p]&&i[p].type===l.CHART_TYPE_PIE&&(m?(f||(d[p+"_"+i[p].data.length]="delete"),g[p]=1):f?g[p]=0:(d[p+"_-1"]="delete",g[p]=-1),this._buildSinglePie(p));for(var v,y,r=0,a=this.shapeList.length;a>r;r++)switch(p=this.shapeList[r]._seriesIndex,v=this.shapeList[r]._dataIndex,y=p+"_"+v,this.shapeList[r].type){case"sector":d[y]=this.shapeList[r];break;case"text":c[y]=this.shapeList[r];break;case"polyline":h[y]=this.shapeList[r]}this.shapeList=[];for(var b,r=0,a=u.length;a>r;r++)if(p=u[r]._seriesIndex,o[p]){if(v=u[r]._dataIndex+g[p],y=p+"_"+v,b=d[y],!b)continue;if("sector"===u[r].type)"delete"!=b?(s++,this.zr.animate(u[r].id,"style").when(400,{startAngle:b.style.startAngle,endAngle:b.style.endAngle}).done(n).start()):(s++,this.zr.animate(u[r].id,"style").when(400,g[p]<0?{startAngle:u[r].style.startAngle}:{endAngle:u[r].style.endAngle}).done(n).start());else if("text"===u[r].type||"polyline"===u[r].type)if("delete"===b)this.zr.delShape(u[r].id);else switch(u[r].type){case"text":s++,b=c[y],this.zr.animate(u[r].id,"style").when(400,{x:b.style.x,y:b.style.y}).done(n).start();break;case"polyline":s++,b=h[y],this.zr.animate(u[r].id,"style").when(400,{pointList:b.style.pointList}).done(n).start()}}this.shapeList=u,s||t&&t()},onclick:function(e){var t=this.series;if(this.isClick&&e.target){this.isClick=!1;for(var n,i=e.target,o=i.style,r=d.get(i,"seriesIndex"),a=d.get(i,"dataIndex"),s=0,c=this.shapeList.length;c>s;s++)if(this.shapeList[s].id===i.id){if(r=d.get(i,"seriesIndex"),a=d.get(i,"dataIndex"),o._hasSelected)i.style.x=i.style._x,i.style.y=i.style._y,i.style._hasSelected=!1,this._selected[r][a]=!1;else{var u=((o.startAngle+o.endAngle)/2).toFixed(2)-0;i.style._hasSelected=!0,this._selected[r][a]=!0,i.style._x=i.style.x,i.style._y=i.style.y,n=this.query(t[r],"selectedOffset"),i.style.x+=h.cos(u,!0)*n,i.style.y-=h.sin(u,!0)*n}this.zr.modShape(i.id)}else this.shapeList[s].style._hasSelected&&"single"===this._selectedMode&&(r=d.get(this.shapeList[s],"seriesIndex"),a=d.get(this.shapeList[s],"dataIndex"),this.shapeList[s].style.x=this.shapeList[s].style._x,this.shapeList[s].style.y=this.shapeList[s].style._y,this.shapeList[s].style._hasSelected=!1,this._selected[r][a]=!1,this.zr.modShape(this.shapeList[s].id));this.messageCenter.dispatch(l.EVENT.PIE_SELECTED,e.event,{selected:this._selected,target:d.get(i,"name")},this.myChart),this.zr.refreshNextFrame()}}},c.inherits(t,n),e("../chart").define("pie",t),t}),n("echarts/echarts",["require","./config","zrender/tool/util","zrender/tool/event","zrender/tool/env","zrender","zrender/config","./chart/island","./component/toolbox","./component","./component/title","./component/tooltip","./component/legend","./util/ecData","./chart","zrender/tool/color","./component/timeline","zrender/shape/Image","zrender/loadingEffect/Bar","zrender/loadingEffect/Bubble","zrender/loadingEffect/DynamicLine","zrender/loadingEffect/Ring","zrender/loadingEffect/Spin","zrender/loadingEffect/Whirling","./theme/macarons","./theme/infographic"],function(e){function t(){a.Dispatcher.call(this)}function n(e){e.innerHTML="",this._themeConfig={},this.dom=e,this._connected=!1,this._status={dragIn:!1,dragOut:!1,needRefresh:!1},this._curEventType=!1,this._chartList=[],this._messageCenter=new t,this._messageCenterOutSide=new t,this.resize=this.resize(),this._init()}function i(e,t,n,i,o){for(var r=e._chartList,a=r.length;a--;){var s=r[a];"function"==typeof s[t]&&s[t](n,i,o)}}var o=e("./config"),r=e("zrender/tool/util"),a=e("zrender/tool/event"),s={},l=e("zrender/tool/env").canvasSupported,d=new Date-0,c={},h="_echarts_instance_";
s.version="2.2.7",s.dependencies={zrender:"2.1.1"},s.init=function(t,i){var o=e("zrender");o.version.replace(".","")-0<s.dependencies.zrender.replace(".","")-0&&console.error("ZRender "+o.version+" is too old for ECharts "+s.version+". Current version need ZRender "+s.dependencies.zrender+"+"),t=t instanceof Array?t[0]:t;var r=t.getAttribute(h);return r||(r=d++,t.setAttribute(h,r)),c[r]&&c[r].dispose(),c[r]=new n(t),c[r].id=r,c[r].canvasSupported=l,c[r].setTheme(i),c[r]},s.getInstanceById=function(e){return c[e]},r.merge(t.prototype,a.Dispatcher.prototype,!0);var u=e("zrender/config").EVENT,p=["CLICK","DBLCLICK","MOUSEOVER","MOUSEOUT","DRAGSTART","DRAGEND","DRAGENTER","DRAGOVER","DRAGLEAVE","DROP"];return n.prototype={_init:function(){var t=this,n=e("zrender").init(this.dom);this._zr=n,this._messageCenter.dispatch=function(e,n,i,o){i=i||{},i.type=e,i.event=n,t._messageCenter.dispatchWithContext(e,i,o),t._messageCenterOutSide.dispatchWithContext(e,i,o)},this._onevent=function(e){return t.__onevent(e)};for(var i in o.EVENT)"CLICK"!=i&&"DBLCLICK"!=i&&"HOVER"!=i&&"MOUSEOUT"!=i&&"MAP_ROAM"!=i&&this._messageCenter.bind(o.EVENT[i],this._onevent,this);var r={};this._onzrevent=function(e){return t[r[e.type]](e)};for(var a=0,s=p.length;s>a;a++){var l=p[a],d=u[l];r[d]="_on"+l.toLowerCase(),n.on(d,this._onzrevent)}this.chart={},this.component={};var c=e("./chart/island");this._island=new c(this._themeConfig,this._messageCenter,n,{},this),this.chart.island=this._island;var h=e("./component/toolbox");this._toolbox=new h(this._themeConfig,this._messageCenter,n,{},this),this.component.toolbox=this._toolbox;var m=e("./component");m.define("title",e("./component/title")),m.define("tooltip",e("./component/tooltip")),m.define("legend",e("./component/legend")),(0===n.getWidth()||0===n.getHeight())&&console.error("Doms width & height should be ready before init.")},__onevent:function(e){e.__echartsId=e.__echartsId||this.id;var t=e.__echartsId===this.id;switch(this._curEventType||(this._curEventType=e.type),e.type){case o.EVENT.LEGEND_SELECTED:this._onlegendSelected(e);break;case o.EVENT.DATA_ZOOM:if(!t){var n=this.component.dataZoom;n&&(n.silence(!0),n.absoluteZoom(e.zoom),n.silence(!1))}this._ondataZoom(e);break;case o.EVENT.DATA_RANGE:t&&this._ondataRange(e);break;case o.EVENT.MAGIC_TYPE_CHANGED:if(!t){var i=this.component.toolbox;i&&(i.silence(!0),i.setMagicType(e.magicType),i.silence(!1))}this._onmagicTypeChanged(e);break;case o.EVENT.DATA_VIEW_CHANGED:t&&this._ondataViewChanged(e);break;case o.EVENT.TOOLTIP_HOVER:t&&this._tooltipHover(e);break;case o.EVENT.RESTORE:this._onrestore();break;case o.EVENT.REFRESH:t&&this._onrefresh(e);break;case o.EVENT.TOOLTIP_IN_GRID:case o.EVENT.TOOLTIP_OUT_GRID:if(t){if(this._connected){var r=this.component.grid;r&&(e.x=(e.event.zrenderX-r.getX())/r.getWidth(),e.y=(e.event.zrenderY-r.getY())/r.getHeight())}}else{var r=this.component.grid;r&&this._zr.trigger("mousemove",{connectTrigger:!0,zrenderX:r.getX()+e.x*r.getWidth(),zrenderY:r.getY()+e.y*r.getHeight()})}}if(this._connected&&t&&this._curEventType===e.type){for(var a in this._connected)this._connected[a].connectedEventHandler(e);this._curEventType=null}(!t||!this._connected&&t)&&(this._curEventType=null)},_onclick:function(e){if(i(this,"onclick",e),e.target){var t=this._eventPackage(e.target);t&&null!=t.seriesIndex&&this._messageCenter.dispatch(o.EVENT.CLICK,e.event,t,this)}},_ondblclick:function(e){if(i(this,"ondblclick",e),e.target){var t=this._eventPackage(e.target);t&&null!=t.seriesIndex&&this._messageCenter.dispatch(o.EVENT.DBLCLICK,e.event,t,this)}},_onmouseover:function(e){if(e.target){var t=this._eventPackage(e.target);t&&null!=t.seriesIndex&&this._messageCenter.dispatch(o.EVENT.HOVER,e.event,t,this)}},_onmouseout:function(e){if(e.target){var t=this._eventPackage(e.target);t&&null!=t.seriesIndex&&this._messageCenter.dispatch(o.EVENT.MOUSEOUT,e.event,t,this)}},_ondragstart:function(e){this._status={dragIn:!1,dragOut:!1,needRefresh:!1},i(this,"ondragstart",e)},_ondragenter:function(e){i(this,"ondragenter",e)},_ondragover:function(e){i(this,"ondragover",e)},_ondragleave:function(e){i(this,"ondragleave",e)},_ondrop:function(e){i(this,"ondrop",e,this._status),this._island.ondrop(e,this._status)},_ondragend:function(e){if(i(this,"ondragend",e,this._status),this._timeline&&this._timeline.ondragend(e,this._status),this._island.ondragend(e,this._status),this._status.needRefresh){this._syncBackupData(this._option);var t=this._messageCenter;t.dispatch(o.EVENT.DATA_CHANGED,e.event,this._eventPackage(e.target),this),t.dispatch(o.EVENT.REFRESH,null,null,this)}},_onlegendSelected:function(e){this._status.needRefresh=!1,i(this,"onlegendSelected",e,this._status),this._status.needRefresh&&this._messageCenter.dispatch(o.EVENT.REFRESH,null,null,this)},_ondataZoom:function(e){this._status.needRefresh=!1,i(this,"ondataZoom",e,this._status),this._status.needRefresh&&this._messageCenter.dispatch(o.EVENT.REFRESH,null,null,this)},_ondataRange:function(e){this._clearEffect(),this._status.needRefresh=!1,i(this,"ondataRange",e,this._status),this._status.needRefresh&&this._zr.refreshNextFrame()},_onmagicTypeChanged:function(){this._clearEffect(),this._render(this._toolbox.getMagicOption())},_ondataViewChanged:function(e){this._syncBackupData(e.option),this._messageCenter.dispatch(o.EVENT.DATA_CHANGED,null,e,this),this._messageCenter.dispatch(o.EVENT.REFRESH,null,null,this)},_tooltipHover:function(e){var t=[];i(this,"ontooltipHover",e,t)},_onrestore:function(){this.restore()},_onrefresh:function(e){this._refreshInside=!0,this.refresh(e),this._refreshInside=!1},_syncBackupData:function(e){this.component.dataZoom&&this.component.dataZoom.syncBackupData(e)},_eventPackage:function(t){if(t){var n=e("./util/ecData"),i=n.get(t,"seriesIndex"),o=n.get(t,"dataIndex");return o=-1!=i&&this.component.dataZoom?this.component.dataZoom.getRealDataIndex(i,o):o,{seriesIndex:i,seriesName:(n.get(t,"series")||{}).name,dataIndex:o,data:n.get(t,"data"),name:n.get(t,"name"),value:n.get(t,"value"),special:n.get(t,"special")}}},_noDataCheck:function(e){for(var t=e.series,n=0,i=t.length;i>n;n++)if(t[n].type==o.CHART_TYPE_MAP||t[n].data&&t[n].data.length>0||t[n].markPoint&&t[n].markPoint.data&&t[n].markPoint.data.length>0||t[n].markLine&&t[n].markLine.data&&t[n].markLine.data.length>0||t[n].nodes&&t[n].nodes.length>0||t[n].links&&t[n].links.length>0||t[n].matrix&&t[n].matrix.length>0||t[n].eventList&&t[n].eventList.length>0)return!1;var r=this._option&&this._option.noDataLoadingOption||this._themeConfig.noDataLoadingOption||o.noDataLoadingOption||{text:this._option&&this._option.noDataText||this._themeConfig.noDataText||o.noDataText,effect:this._option&&this._option.noDataEffect||this._themeConfig.noDataEffect||o.noDataEffect};return this.clear(),this.showLoading(r),!0},_render:function(t){if(this._mergeGlobalConifg(t),!this._noDataCheck(t)){var n=t.backgroundColor;if(n)if(l||-1==n.indexOf("rgba"))this.dom.style.backgroundColor=n;else{var i=n.split(",");this.dom.style.filter="alpha(opacity="+100*i[3].substring(0,i[3].lastIndexOf(")"))+")",i.length=3,i[0]=i[0].replace("a",""),this.dom.style.backgroundColor=i.join(",")+")"}this._zr.clearAnimation(),this._chartList=[];var r=e("./chart"),a=e("./component");(t.xAxis||t.yAxis)&&(t.grid=t.grid||{},t.dataZoom=t.dataZoom||{});for(var s,d,c,h=["title","legend","tooltip","dataRange","roamController","grid","dataZoom","xAxis","yAxis","polar"],u=0,p=h.length;p>u;u++)d=h[u],c=this.component[d],t[d]?(c?c.refresh&&c.refresh(t):(s=a.get(/^[xy]Axis$/.test(d)?"axis":d),c=new s(this._themeConfig,this._messageCenter,this._zr,t,this,d),this.component[d]=c),this._chartList.push(c)):c&&(c.dispose(),this.component[d]=null,delete this.component[d]);for(var m,f,g,v={},u=0,p=t.series.length;p>u;u++)f=t.series[u].type,f?v[f]||(v[f]=!0,m=r.get(f),m?(this.chart[f]?(g=this.chart[f],g.refresh(t)):g=new m(this._themeConfig,this._messageCenter,this._zr,t,this),this._chartList.push(g),this.chart[f]=g):console.error(f+" has not been required.")):console.error("series["+u+"] chart type has not been defined.");for(f in this.chart)f==o.CHART_TYPE_ISLAND||v[f]||(this.chart[f].dispose(),this.chart[f]=null,delete this.chart[f]);this.component.grid&&this.component.grid.refixAxisShape(this.component),this._island.refresh(t),this._toolbox.refresh(t),t.animation&&!t.renderAsImage?this._zr.refresh():this._zr.render();var y="IMG"+this.id,b=document.getElementById(y);t.renderAsImage&&l?(b?b.src=this.getDataURL(t.renderAsImage):(b=this.getImage(t.renderAsImage),b.id=y,b.style.position="absolute",b.style.left=0,b.style.top=0,this.dom.firstChild.appendChild(b)),this.un(),this._zr.un(),this._disposeChartList(),this._zr.clear()):b&&b.parentNode.removeChild(b),b=null,this._option=t}},restore:function(){this._clearEffect(),this._option=r.clone(this._optionRestore),this._disposeChartList(),this._island.clear(),this._toolbox.reset(this._option,!0),this._render(this._option)},refresh:function(e){this._clearEffect(),e=e||{};var t=e.option;!this._refreshInside&&t&&(t=this.getOption(),r.merge(t,e.option,!0),r.merge(this._optionRestore,e.option,!0),this._toolbox.reset(t)),this._island.refresh(t),this._toolbox.refresh(t),this._zr.clearAnimation();for(var n=0,i=this._chartList.length;i>n;n++)this._chartList[n].refresh&&this._chartList[n].refresh(t);this.component.grid&&this.component.grid.refixAxisShape(this.component),this._zr.refresh()},_disposeChartList:function(){this._clearEffect(),this._zr.clearAnimation();for(var e=this._chartList.length;e--;){var t=this._chartList[e];if(t){var n=t.type;this.chart[n]&&delete this.chart[n],this.component[n]&&delete this.component[n],t.dispose&&t.dispose()}}this._chartList=[]},_mergeGlobalConifg:function(t){for(var n=["backgroundColor","calculable","calculableColor","calculableHolderColor","nameConnector","valueConnector","animation","animationThreshold","animationDuration","animationDurationUpdate","animationEasing","addDataAnimation","symbolList","DRAG_ENABLE_TIME"],i=n.length;i--;){var r=n[i];null==t[r]&&(t[r]=null!=this._themeConfig[r]?this._themeConfig[r]:o[r])}var a=t.color;a&&a.length||(a=this._themeConfig.color||o.color),this._zr.getColor=function(t){var n=e("zrender/tool/color");return n.getColor(t,a)},l||(t.animation=!1,t.addDataAnimation=!1)},setOption:function(e,t){return e.timeline?this._setTimelineOption(e):this._setOption(e,t)},_setOption:function(e,t,n){return!t&&this._option?this._option=r.merge(this.getOption(),r.clone(e),!0):(this._option=r.clone(e),!n&&this._timeline&&this._timeline.dispose()),this._optionRestore=r.clone(this._option),this._option.series&&0!==this._option.series.length?(this.component.dataZoom&&(this._option.dataZoom||this._option.toolbox&&this._option.toolbox.feature&&this._option.toolbox.feature.dataZoom&&this._option.toolbox.feature.dataZoom.show)&&this.component.dataZoom.syncOption(this._option),this._toolbox.reset(this._option),this._render(this._option),this):void this._zr.clear()},getOption:function(){function e(e){var i=n._optionRestore[e];if(i)if(i instanceof Array)for(var o=i.length;o--;)t[e][o].data=r.clone(i[o].data);else t[e].data=r.clone(i.data)}var t=r.clone(this._option),n=this;return e("xAxis"),e("yAxis"),e("series"),t},setSeries:function(e,t){return t?(this._option.series=e,this.setOption(this._option,t)):this.setOption({series:e}),this},getSeries:function(){return this.getOption().series},_setTimelineOption:function(t){this._timeline&&this._timeline.dispose();var n=e("./component/timeline"),i=new n(this._themeConfig,this._messageCenter,this._zr,t,this);return this._timeline=i,this.component.timeline=this._timeline,this},addData:function(e,t,n,i,a){function s(){if(h._zr){h._zr.clearAnimation();for(var e=0,t=S.length;t>e;e++)S[e].motionlessOnce=d.addDataAnimation&&S[e].addDataAnimation;h._messageCenter.dispatch(o.EVENT.REFRESH,null,{option:d},h)}}for(var l=e instanceof Array?e:[[e,t,n,i,a]],d=this.getOption(),c=this._optionRestore,h=this,u=0,p=l.length;p>u;u++){e=l[u][0],t=l[u][1],n=l[u][2],i=l[u][3],a=l[u][4];var m=c.series[e],f=n?"unshift":"push",g=n?"pop":"shift";if(m){var v=m.data,y=d.series[e].data;if(v[f](t),y[f](t),i||(v[g](),t=y[g]()),null!=a){var b,_;if(m.type===o.CHART_TYPE_PIE&&(b=c.legend)&&(_=b.data)){var x=d.legend.data;if(_[f](a),x[f](a),!i){var E=r.indexOf(_,t.name);-1!=E&&_.splice(E,1),E=r.indexOf(x,t.name),-1!=E&&x.splice(E,1)}}else if(null!=c.xAxis&&null!=c.yAxis){var C,w,T=m.xAxisIndex||0;(null==c.xAxis[T].type||"category"===c.xAxis[T].type)&&(C=c.xAxis[T].data,w=d.xAxis[T].data,C[f](a),w[f](a),i||(C[g](),w[g]())),T=m.yAxisIndex||0,"category"===c.yAxis[T].type&&(C=c.yAxis[T].data,w=d.yAxis[T].data,C[f](a),w[f](a),i||(C[g](),w[g]()))}}this._option.series[e].data=d.series[e].data}}this._zr.clearAnimation();for(var S=this._chartList,M=0,$=function(){M--,0===M&&s()},u=0,p=S.length;p>u;u++)d.addDataAnimation&&S[u].addDataAnimation&&(M++,S[u].addDataAnimation(l,$));return this.component.dataZoom&&this.component.dataZoom.syncOption(d),this._option=d,d.addDataAnimation||setTimeout(s,0),this},addMarkPoint:function(e,t){return this._addMark(e,t,"markPoint")},addMarkLine:function(e,t){return this._addMark(e,t,"markLine")},_addMark:function(e,t,n){var i,o=this._option.series;if(o&&(i=o[e])){var a=this._optionRestore.series,s=a[e],l=i[n],d=s[n];l=i[n]=l||{data:[]},d=s[n]=d||{data:[]};for(var c in t)"data"===c?(l.data=l.data.concat(t.data),d.data=d.data.concat(t.data)):"object"!=typeof t[c]||null==l[c]?l[c]=d[c]=t[c]:(r.merge(l[c],t[c],!0),r.merge(d[c],t[c],!0));var h=this.chart[i.type];h&&h.addMark(e,t,n)}return this},delMarkPoint:function(e,t){return this._delMark(e,t,"markPoint")},delMarkLine:function(e,t){return this._delMark(e,t,"markLine")},_delMark:function(e,t,n){var i,o,r,a=this._option.series;if(!(a&&(i=a[e])&&(o=i[n])&&(r=o.data)))return this;t=t.split(" > ");for(var s=-1,l=0,d=r.length;d>l;l++){var c=r[l];if(c instanceof Array){if(c[0].name===t[0]&&c[1].name===t[1]){s=l;break}}else if(c.name===t[0]){s=l;break}}if(s>-1){r.splice(s,1),this._optionRestore.series[e][n].data.splice(s,1);var h=this.chart[i.type];h&&h.delMark(e,t.join(" > "),n)}return this},getDom:function(){return this.dom},getZrender:function(){return this._zr},getDataURL:function(e){if(!l)return"";if(0===this._chartList.length){var t="IMG"+this.id,n=document.getElementById(t);if(n)return n.src}var i=this.component.tooltip;switch(i&&i.hideTip(),e){case"jpeg":break;default:e="png"}var o=this._option.backgroundColor;return o&&"rgba(0,0,0,0)"===o.replace(" ","")&&(o="#fff"),this._zr.toDataURL("image/"+e,o)},getImage:function(e){var t=this._optionRestore.title,n=document.createElement("img");return n.src=this.getDataURL(e),n.title=t&&t.text||"ECharts",n},getConnectedDataURL:function(t){if(!this.isConnected())return this.getDataURL(t);var n=this.dom,i={self:{img:this.getDataURL(t),left:n.offsetLeft,top:n.offsetTop,right:n.offsetLeft+n.offsetWidth,bottom:n.offsetTop+n.offsetHeight}},o=i.self.left,r=i.self.top,a=i.self.right,s=i.self.bottom;for(var l in this._connected)n=this._connected[l].getDom(),i[l]={img:this._connected[l].getDataURL(t),left:n.offsetLeft,top:n.offsetTop,right:n.offsetLeft+n.offsetWidth,bottom:n.offsetTop+n.offsetHeight},o=Math.min(o,i[l].left),r=Math.min(r,i[l].top),a=Math.max(a,i[l].right),s=Math.max(s,i[l].bottom);var d=document.createElement("div");d.style.position="absolute",d.style.left="-4000px",d.style.width=a-o+"px",d.style.height=s-r+"px",document.body.appendChild(d);var c=e("zrender").init(d),h=e("zrender/shape/Image");for(var l in i)c.addShape(new h({style:{x:i[l].left-o,y:i[l].top-r,image:i[l].img}}));c.render();var u=this._option.backgroundColor;u&&"rgba(0,0,0,0)"===u.replace(/ /g,"")&&(u="#fff");var p=c.toDataURL("image/png",u);return setTimeout(function(){c.dispose(),d.parentNode.removeChild(d),d=null},100),p},getConnectedImage:function(e){var t=this._optionRestore.title,n=document.createElement("img");return n.src=this.getConnectedDataURL(e),n.title=t&&t.text||"ECharts",n},on:function(e,t){return this._messageCenterOutSide.bind(e,t,this),this},un:function(e,t){return this._messageCenterOutSide.unbind(e,t),this},connect:function(e){if(!e)return this;if(this._connected||(this._connected={}),e instanceof Array)for(var t=0,n=e.length;n>t;t++)this._connected[e[t].id]=e[t];else this._connected[e.id]=e;return this},disConnect:function(e){if(!e||!this._connected)return this;if(e instanceof Array)for(var t=0,n=e.length;n>t;t++)delete this._connected[e[t].id];else delete this._connected[e.id];for(var i in this._connected)return this;return this._connected=!1,this},connectedEventHandler:function(e){e.__echartsId!=this.id&&this._onevent(e)},isConnected:function(){return!!this._connected},showLoading:function(t){var n={bar:e("zrender/loadingEffect/Bar"),bubble:e("zrender/loadingEffect/Bubble"),dynamicLine:e("zrender/loadingEffect/DynamicLine"),ring:e("zrender/loadingEffect/Ring"),spin:e("zrender/loadingEffect/Spin"),whirling:e("zrender/loadingEffect/Whirling")};this._toolbox.hideDataView(),t=t||{};var i=t.textStyle||{};t.textStyle=i;var a=r.merge(r.merge(r.clone(i),this._themeConfig.textStyle),o.textStyle);i.textFont=a.fontStyle+" "+a.fontWeight+" "+a.fontSize+"px "+a.fontFamily,i.text=t.text||this._option&&this._option.loadingText||this._themeConfig.loadingText||o.loadingText,null!=t.x&&(i.x=t.x),null!=t.y&&(i.y=t.y),t.effectOption=t.effectOption||{},t.effectOption.textStyle=i;var s=t.effect;return("string"==typeof s||null==s)&&(s=n[t.effect||this._option&&this._option.loadingEffect||this._themeConfig.loadingEffect||o.loadingEffect]||n.spin),this._zr.showLoading(new s(t.effectOption)),this},hideLoading:function(){return this._zr.hideLoading(),this},setTheme:function(t){if(t){if("string"==typeof t)switch(t){case"macarons":t=e("./theme/macarons");break;case"infographic":t=e("./theme/infographic");break;default:t={}}else t=t||{};this._themeConfig=t}if(!l){var n=this._themeConfig.textStyle;n&&n.fontFamily&&n.fontFamily2&&(n.fontFamily=n.fontFamily2),n=o.textStyle,n.fontFamily=n.fontFamily2}this._timeline&&this._timeline.setTheme(!0),this._optionRestore&&this.restore()},resize:function(){var e=this;return function(){if(e._clearEffect(),e._zr.resize(),e._option&&e._option.renderAsImage&&l)return e._render(e._option),e;e._zr.clearAnimation(),e._island.resize(),e._toolbox.resize(),e._timeline&&e._timeline.resize();for(var t=0,n=e._chartList.length;n>t;t++)e._chartList[t].resize&&e._chartList[t].resize();return e.component.grid&&e.component.grid.refixAxisShape(e.component),e._zr.refresh(),e._messageCenter.dispatch(o.EVENT.RESIZE,null,null,e),e}},_clearEffect:function(){this._zr.modLayer(o.EFFECT_ZLEVEL,{motionBlur:!1}),this._zr.painter.clearLayer(o.EFFECT_ZLEVEL)},clear:function(){return this._disposeChartList(),this._zr.clear(),this._option={},this._optionRestore={},this.dom.style.backgroundColor=null,this},dispose:function(){var e=this.dom.getAttribute(h);e&&delete c[e],this._island.dispose(),this._toolbox.dispose(),this._timeline&&this._timeline.dispose(),this._messageCenter.unbind(),this.clear(),this._zr.dispose(),this._zr=null}},s}),n("echarts/chart/bar",["require","./base","zrender/shape/Rectangle","../component/axis","../component/grid","../component/dataZoom","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../chart"],function(e){function t(e,t,i,o,r){n.call(this,e,t,i,o,r),this.refresh(o)}var n=e("./base"),i=e("zrender/shape/Rectangle");e("../component/axis"),e("../component/grid"),e("../component/dataZoom");var o=e("../config");o.bar={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,barGap:"30%",barCategoryGap:"20%",itemStyle:{normal:{barBorderColor:"#fff",barBorderRadius:0,barBorderWidth:0,label:{show:!1}},emphasis:{barBorderColor:"#fff",barBorderRadius:0,barBorderWidth:0,label:{show:!1}}}};var r=e("../util/ecData"),a=e("zrender/tool/util"),s=e("zrender/tool/color");return t.prototype={type:o.CHART_TYPE_BAR,_buildShape:function(){this._buildPosition()},_buildNormal:function(e,t,n,r,a){for(var s,l,d,c,h,u,p,m,f,g,v,y,b=this.series,_=n[0][0],x=b[_],E="horizontal"==a,C=this.component.xAxis,w=this.component.yAxis,T=E?C.getAxis(x.xAxisIndex):w.getAxis(x.yAxisIndex),S=this._mapSize(T,n),M=S.gap,$=S.barGap,k=S.barWidthMap,A=S.barMaxWidthMap,L=S.barWidth,N=S.barMinHeightMap,O=S.interval,D=this.deepQuery([this.ecTheme,o],"island.r"),z=0,I=t;I>z&&null!=T.getNameByIndex(z);z++){E?c=T.getCoordByIndex(z)-M/2:h=T.getCoordByIndex(z)+M/2;for(var R=0,H=n.length;H>R;R++){var P=b[n[R][0]].yAxisIndex||0,F=b[n[R][0]].xAxisIndex||0;s=E?w.getAxis(P):C.getAxis(F),p=u=f=m=s.getCoord(0);for(var B=0,W=n[R].length;W>B;B++)_=n[R][B],x=b[_],v=x.data[z],y=this.getDataFromOption(v,"-"),r[_]=r[_]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},d=Math.min(A[_]||Number.MAX_VALUE,k[_]||L),"-"!==y&&(y>0?(l=B>0?s.getCoordSize(y):E?p-s.getCoord(y):s.getCoord(y)-p,1===W&&N[_]>l&&(l=N[_]),E?(u-=l,h=u):(c=u,u+=l)):0>y?(l=B>0?s.getCoordSize(y):E?s.getCoord(y)-f:f-s.getCoord(y),1===W&&N[_]>l&&(l=N[_]),E?(h=m,m+=l):(m-=l,c=m)):(l=0,E?(u-=l,h=u):(c=u,u+=l)),r[_][z]=E?c+d/2:h-d/2,r[_].min>y&&(r[_].min=y,E?(r[_].minY=h,r[_].minX=r[_][z]):(r[_].minX=c+l,r[_].minY=r[_][z])),r[_].max<y&&(r[_].max=y,E?(r[_].maxY=h,r[_].maxX=r[_][z]):(r[_].maxX=c+l,r[_].maxY=r[_][z])),r[_].sum+=y,r[_].counter++,z%O===0&&(g=this._getBarItem(_,z,T.getNameByIndex(z),c,h-(E?0:d),E?d:l,E?l:d,E?"vertical":"horizontal"),this.shapeList.push(new i(g))));for(var B=0,W=n[R].length;W>B;B++)_=n[R][B],x=b[_],v=x.data[z],y=this.getDataFromOption(v,"-"),d=Math.min(A[_]||Number.MAX_VALUE,k[_]||L),"-"==y&&this.deepQuery([v,x,this.option],"calculable")&&(E?(u-=D,h=u):(c=u,u+=D),g=this._getBarItem(_,z,T.getNameByIndex(z),c,h-(E?0:d),E?d:D,E?D:d,E?"vertical":"horizontal"),g.hoverable=!1,g.draggable=!1,g.style.lineWidth=1,g.style.brushType="stroke",g.style.strokeColor=x.calculableHolderColor||this.ecTheme.calculableHolderColor||o.calculableHolderColor,this.shapeList.push(new i(g)));E?c+=d+$:h-=d+$}}this._calculMarkMapXY(r,n,E?"y":"x")},_buildHorizontal:function(e,t,n,i){return this._buildNormal(e,t,n,i,"horizontal")},_buildVertical:function(e,t,n,i){return this._buildNormal(e,t,n,i,"vertical")},_buildOther:function(e,t,n,o){for(var r=this.series,a=0,s=n.length;s>a;a++)for(var l=0,d=n[a].length;d>l;l++){var c=n[a][l],h=r[c],u=h.xAxisIndex||0,p=this.component.xAxis.getAxis(u),m=p.getCoord(0),f=h.yAxisIndex||0,g=this.component.yAxis.getAxis(f),v=g.getCoord(0);o[c]=o[c]||{min0:Number.POSITIVE_INFINITY,min1:Number.POSITIVE_INFINITY,max0:Number.NEGATIVE_INFINITY,max1:Number.NEGATIVE_INFINITY,sum0:0,sum1:0,counter0:0,counter1:0,average0:0,average1:0};for(var y=0,b=h.data.length;b>y;y++){var _=h.data[y],x=this.getDataFromOption(_,"-");if(x instanceof Array){var E,C,w=p.getCoord(x[0]),T=g.getCoord(x[1]),S=[_,h],M=this.deepQuery(S,"barWidth")||10,$=this.deepQuery(S,"barHeight");null!=$?(E="horizontal",x[0]>0?(M=w-m,w-=M):M=x[0]<0?m-w:0,C=this._getBarItem(c,y,x[0],w,T-$/2,M,$,E)):(E="vertical",x[1]>0?$=v-T:x[1]<0?($=T-v,T-=$):$=0,C=this._getBarItem(c,y,x[0],w-M/2,T,M,$,E)),this.shapeList.push(new i(C)),w=p.getCoord(x[0]),T=g.getCoord(x[1]),o[c].min0>x[0]&&(o[c].min0=x[0],o[c].minY0=T,o[c].minX0=w),o[c].max0<x[0]&&(o[c].max0=x[0],o[c].maxY0=T,o[c].maxX0=w),o[c].sum0+=x[0],o[c].counter0++,o[c].min1>x[1]&&(o[c].min1=x[1],o[c].minY1=T,o[c].minX1=w),o[c].max1<x[1]&&(o[c].max1=x[1],o[c].maxY1=T,o[c].maxX1=w),o[c].sum1+=x[1],o[c].counter1++}}}this._calculMarkMapXY(o,n,"xy")},_mapSize:function(e,t,n){var i,o,r=this._findSpecialBarSzie(t,n),a=r.barWidthMap,s=r.barMaxWidthMap,l=r.barMinHeightMap,d=r.sBarWidthCounter,c=r.sBarWidthTotal,h=r.barGap,u=r.barCategoryGap,p=1;if(t.length!=d){if(n)i=e.getGap(),h=0,o=+(i/t.length).toFixed(2),0>=o&&(p=Math.floor(t.length/i),o=1);else if(i="string"==typeof u&&u.match(/%$/)?(e.getGap()*(100-parseFloat(u))/100).toFixed(2)-0:e.getGap()-u,"string"==typeof h&&h.match(/%$/)?(h=parseFloat(h)/100,o=+((i-c)/((t.length-1)*h+t.length-d)).toFixed(2),h=o*h):(h=parseFloat(h),o=+((i-c-h*(t.length-1))/(t.length-d)).toFixed(2)),0>=o)return this._mapSize(e,t,!0)}else if(i=d>1?"string"==typeof u&&u.match(/%$/)?+(e.getGap()*(100-parseFloat(u))/100).toFixed(2):e.getGap()-u:c,o=0,h=d>1?+((i-c)/(d-1)).toFixed(2):0,0>h)return this._mapSize(e,t,!0);return this._recheckBarMaxWidth(t,a,s,l,i,o,h,p)},_findSpecialBarSzie:function(e,t){for(var n,i,o,r,a=this.series,s={},l={},d={},c=0,h=0,u=0,p=e.length;p>u;u++)for(var m={barWidth:!1,barMaxWidth:!1},f=0,g=e[u].length;g>f;f++){var v=e[u][f],y=a[v];if(!t){if(m.barWidth)s[v]=n;else if(n=this.query(y,"barWidth"),null!=n){s[v]=n,h+=n,c++,m.barWidth=!0;for(var b=0,_=f;_>b;b++){var x=e[u][b];s[x]=n}}if(m.barMaxWidth)l[v]=i;else if(i=this.query(y,"barMaxWidth"),null!=i){l[v]=i,m.barMaxWidth=!0;for(var b=0,_=f;_>b;b++){var x=e[u][b];l[x]=i}}}d[v]=this.query(y,"barMinHeight"),o=null!=o?o:this.query(y,"barGap"),r=null!=r?r:this.query(y,"barCategoryGap")}return{barWidthMap:s,barMaxWidthMap:l,barMinHeightMap:d,sBarWidth:n,sBarMaxWidth:i,sBarWidthCounter:c,sBarWidthTotal:h,barGap:o,barCategoryGap:r}},_recheckBarMaxWidth:function(e,t,n,i,o,r,a,s){for(var l=0,d=e.length;d>l;l++){var c=e[l][0];n[c]&&n[c]<r&&(o-=r-n[c])}return{barWidthMap:t,barMaxWidthMap:n,barMinHeightMap:i,gap:o,barWidth:r,barGap:a,interval:s}},_getBarItem:function(e,t,n,i,o,a,l,d){var c,h=this.series,u=h[e],p=u.data[t],m=this._sIndex2ColorMap[e],f=[p,u],g=this.deepMerge(f,"itemStyle.normal"),v=this.deepMerge(f,"itemStyle.emphasis"),y=g.barBorderWidth;c={zlevel:u.zlevel,z:u.z,clickable:this.deepQuery(f,"clickable"),style:{x:i,y:o,width:a,height:l,brushType:"both",color:this.getItemStyleColor(this.deepQuery(f,"itemStyle.normal.color")||m,e,t,p),radius:g.barBorderRadius,lineWidth:y,strokeColor:g.barBorderColor},highlightStyle:{color:this.getItemStyleColor(this.deepQuery(f,"itemStyle.emphasis.color"),e,t,p),radius:v.barBorderRadius,lineWidth:v.barBorderWidth,strokeColor:v.barBorderColor},_orient:d};var b=c.style;c.highlightStyle.color=c.highlightStyle.color||("string"==typeof b.color?s.lift(b.color,-.3):b.color),b.x=Math.floor(b.x),b.y=Math.floor(b.y),b.height=Math.ceil(b.height),b.width=Math.ceil(b.width),y>0&&b.height>y&&b.width>y?(b.y+=y/2,b.height-=y,b.x+=y/2,b.width-=y):b.brushType="fill",c.highlightStyle.textColor=c.highlightStyle.color,c=this.addLabel(c,u,p,n,d);for(var _=[b,c.highlightStyle],x=0,E=_.length;E>x;x++){var C=_[x].textPosition;if("insideLeft"===C||"insideRight"===C||"insideTop"===C||"insideBottom"===C){var w=5;switch(C){case"insideLeft":_[x].textX=b.x+w,_[x].textY=b.y+b.height/2,_[x].textAlign="left",_[x].textBaseline="middle";break;case"insideRight":_[x].textX=b.x+b.width-w,_[x].textY=b.y+b.height/2,_[x].textAlign="right",_[x].textBaseline="middle";break;case"insideTop":_[x].textX=b.x+b.width/2,_[x].textY=b.y+w/2,_[x].textAlign="center",_[x].textBaseline="top";break;case"insideBottom":_[x].textX=b.x+b.width/2,_[x].textY=b.y+b.height-w/2,_[x].textAlign="center",_[x].textBaseline="bottom"}_[x].textPosition="specific",_[x].textColor=_[x].textColor||"#fff"}}return this.deepQuery([p,u,this.option],"calculable")&&(this.setCalculable(c),c.draggable=!0),r.pack(c,h[e],e,h[e].data[t],t,n),c},getMarkCoord:function(e,t){var n,i,o=this.series[e],r=this.xMarkMap[e],a=this.component.xAxis.getAxis(o.xAxisIndex),s=this.component.yAxis.getAxis(o.yAxisIndex);if(!t.type||"max"!==t.type&&"min"!==t.type&&"average"!==t.type)if(r.isHorizontal){n="string"==typeof t.xAxis&&a.getIndexByName?a.getIndexByName(t.xAxis):t.xAxis||0;var l=r[n];l=null!=l?l:"string"!=typeof t.xAxis&&a.getCoordByIndex?a.getCoordByIndex(t.xAxis||0):a.getCoord(t.xAxis||0),i=[l,s.getCoord(t.yAxis||0)]}else{n="string"==typeof t.yAxis&&s.getIndexByName?s.getIndexByName(t.yAxis):t.yAxis||0;var d=r[n];d=null!=d?d:"string"!=typeof t.yAxis&&s.getCoordByIndex?s.getCoordByIndex(t.yAxis||0):s.getCoord(t.yAxis||0),i=[a.getCoord(t.xAxis||0),d]}else{var c=null!=t.valueIndex?t.valueIndex:null!=r.maxX0?"1":"";i=[r[t.type+"X"+c],r[t.type+"Y"+c],r[t.type+"Line"+c],r[t.type+c]]}return i},refresh:function(e){e&&(this.option=e,this.series=e.series),this.backupShapeList(),this._buildShape()},addDataAnimation:function(e,t){function n(){f--,0===f&&t&&t()}for(var i=this.series,o={},a=0,s=e.length;s>a;a++)o[e[a][0]]=e[a];for(var l,d,c,h,u,p,m,f=0,a=this.shapeList.length-1;a>=0;a--)if(p=r.get(this.shapeList[a],"seriesIndex"),o[p]&&!o[p][3]&&"rectangle"===this.shapeList[a].type){if(m=r.get(this.shapeList[a],"dataIndex"),u=i[p],o[p][2]&&m===u.data.length-1){this.zr.delShape(this.shapeList[a].id);continue}if(!o[p][2]&&0===m){this.zr.delShape(this.shapeList[a].id);continue}"horizontal"===this.shapeList[a]._orient?(h=this.component.yAxis.getAxis(u.yAxisIndex||0).getGap(),c=o[p][2]?-h:h,l=0):(d=this.component.xAxis.getAxis(u.xAxisIndex||0).getGap(),l=o[p][2]?d:-d,c=0),this.shapeList[a].position=[0,0],f++,this.zr.animate(this.shapeList[a].id,"").when(this.query(this.option,"animationDurationUpdate"),{position:[l,c]}).done(n).start()}f||t&&t()}},a.inherits(t,n),e("../chart").define("bar",t),t}),n("echarts/chart/radar",["require","./base","zrender/shape/Polygon","../component/polar","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../util/accMath","../chart"],function(e){function t(e,t,i,o,r){n.call(this,e,t,i,o,r),this.refresh(o)}var n=e("./base"),i=e("zrender/shape/Polygon");e("../component/polar");var o=e("../config");o.radar={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,polarIndex:0,itemStyle:{normal:{label:{show:!1},lineStyle:{width:2,type:"solid"}},emphasis:{label:{show:!1}}},symbolSize:2};var r=e("../util/ecData"),a=e("zrender/tool/util"),s=e("zrender/tool/color");return t.prototype={type:o.CHART_TYPE_RADAR,_buildShape:function(){this.selectedMap={},this._symbol=this.option.symbolList,this._queryTarget,this._dropBoxList=[],this._radarDataCounter=0;for(var e,t=this.series,n=this.component.legend,i=0,r=t.length;r>i;i++)t[i].type===o.CHART_TYPE_RADAR&&(this.serie=this.reformOption(t[i]),this.legendHoverLink=t[i].legendHoverLink||this.legendHoverLink,e=this.serie.name||"",this.selectedMap[e]=n?n.isSelected(e):!0,this.selectedMap[e]&&(this._queryTarget=[this.serie,this.option],this.deepQuery(this._queryTarget,"calculable")&&this._addDropBox(i),this._buildSingleRadar(i),this.buildMark(i)));this.addShapeList()},_buildSingleRadar:function(e){for(var t,n,i,o,r=this.component.legend,a=this.serie.data,s=this.deepQuery(this._queryTarget,"calculable"),l=0;l<a.length;l++)i=a[l].name||"",this.selectedMap[i]=r?r.isSelected(i):!0,this.selectedMap[i]&&(r?(n=r.getColor(i),t=r.getItemShape(i),t&&(t.style.brushType=this.deepQuery([a[l],this.serie],"itemStyle.normal.areaStyle")?"both":"stroke",r.setItemShape(i,t))):n=this.zr.getColor(l),o=this._getPointList(this.serie.polarIndex,a[l]),this._addSymbol(o,n,l,e,this.serie.polarIndex),this._addDataShape(o,n,a[l],e,l,s),this._radarDataCounter++)},_getPointList:function(e,t){for(var n,i,o=[],r=this.component.polar,a=0,s=t.value.length;s>a;a++)i=this.getDataFromOption(t.value[a]),n="-"!=i?r.getVector(e,a,i):!1,n&&o.push(n);return o},_addSymbol:function(e,t,n,i,o){for(var a,s=this.series,l=this.component.polar,d=0,c=e.length;c>d;d++)a=this.getSymbolShape(this.deepMerge([s[i].data[n],s[i]]),i,s[i].data[n].value[d],d,l.getIndicatorText(o,d),e[d][0],e[d][1],this._symbol[this._radarDataCounter%this._symbol.length],t,"#fff","vertical"),a.zlevel=this.getZlevelBase(),a.z=this.getZBase()+1,r.set(a,"data",s[i].data[n]),r.set(a,"value",s[i].data[n].value),r.set(a,"dataIndex",n),r.set(a,"special",d),this.shapeList.push(a)},_addDataShape:function(e,t,n,o,a,l){var d=this.series,c=[n,this.serie],h=this.getItemStyleColor(this.deepQuery(c,"itemStyle.normal.color"),o,a,n),u=this.deepQuery(c,"itemStyle.normal.lineStyle.width"),p=this.deepQuery(c,"itemStyle.normal.lineStyle.type"),m=this.deepQuery(c,"itemStyle.normal.areaStyle.color"),f=this.deepQuery(c,"itemStyle.normal.areaStyle"),g={zlevel:this.getZlevelBase(),z:this.getZBase(),
style:{pointList:e,brushType:f?"both":"stroke",color:m||h||("string"==typeof t?s.alpha(t,.5):t),strokeColor:h||t,lineWidth:u,lineType:p},highlightStyle:{brushType:this.deepQuery(c,"itemStyle.emphasis.areaStyle")||f?"both":"stroke",color:this.deepQuery(c,"itemStyle.emphasis.areaStyle.color")||m||h||("string"==typeof t?s.alpha(t,.5):t),strokeColor:this.getItemStyleColor(this.deepQuery(c,"itemStyle.emphasis.color"),o,a,n)||h||t,lineWidth:this.deepQuery(c,"itemStyle.emphasis.lineStyle.width")||u,lineType:this.deepQuery(c,"itemStyle.emphasis.lineStyle.type")||p}};r.pack(g,d[o],o,n,a,n.name,this.component.polar.getIndicator(d[o].polarIndex)),l&&(g.draggable=!0,this.setCalculable(g)),g=new i(g),this.shapeList.push(g)},_addDropBox:function(e){var t=this.series,n=this.deepQuery(this._queryTarget,"polarIndex");if(!this._dropBoxList[n]){var i=this.component.polar.getDropBox(n);i.zlevel=this.getZlevelBase(),i.z=this.getZBase(),this.setCalculable(i),r.pack(i,t,e,void 0,-1),this.shapeList.push(i),this._dropBoxList[n]=!0}},ondragend:function(e,t){var n=this.series;if(this.isDragend&&e.target){var i=e.target,o=r.get(i,"seriesIndex"),a=r.get(i,"dataIndex");this.component.legend&&this.component.legend.del(n[o].data[a].name),n[o].data.splice(a,1),t.dragOut=!0,t.needRefresh=!0,this.isDragend=!1}},ondrop:function(t,n){var i=this.series;if(this.isDrop&&t.target){var o,a,s=t.target,l=t.dragged,d=r.get(s,"seriesIndex"),c=r.get(s,"dataIndex"),h=this.component.legend;if(-1===c)o={value:r.get(l,"value"),name:r.get(l,"name")},i[d].data.push(o),h&&h.add(o.name,l.style.color||l.style.strokeColor);else{var u=e("../util/accMath");o=i[d].data[c],h&&h.del(o.name),o.name+=this.option.nameConnector+r.get(l,"name"),a=r.get(l,"value");for(var p=0;p<a.length;p++)o.value[p]=u.accAdd(o.value[p],a[p]);h&&h.add(o.name,l.style.color||l.style.strokeColor)}n.dragIn=n.dragIn||!0,this.isDrop=!1}},refresh:function(e){e&&(this.option=e,this.series=e.series),this.backupShapeList(),this._buildShape()}},a.inherits(t,n),e("../chart").define("radar",t),t}),n("echarts/chart/scatter",["require","./base","../util/shape/Symbol","../component/axis","../component/grid","../component/dataZoom","../component/dataRange","../config","zrender/tool/util","zrender/tool/color","../chart"],function(e){function t(e,t,i,o,r){n.call(this,e,t,i,o,r),this.refresh(o)}var n=e("./base"),i=e("../util/shape/Symbol");e("../component/axis"),e("../component/grid"),e("../component/dataZoom"),e("../component/dataRange");var o=e("../config");o.scatter={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbolSize:4,large:!1,largeThreshold:2e3,itemStyle:{normal:{label:{show:!1}},emphasis:{label:{show:!1}}}};var r=e("zrender/tool/util"),a=e("zrender/tool/color");return t.prototype={type:o.CHART_TYPE_SCATTER,_buildShape:function(){var e=this.series;this._sIndex2ColorMap={},this._symbol=this.option.symbolList,this._sIndex2ShapeMap={},this.selectedMap={},this.xMarkMap={};for(var t,n,i,r,s=this.component.legend,l=[],d=0,c=e.length;c>d;d++)if(t=e[d],n=t.name,t.type===o.CHART_TYPE_SCATTER){if(e[d]=this.reformOption(e[d]),this.legendHoverLink=e[d].legendHoverLink||this.legendHoverLink,this._sIndex2ShapeMap[d]=this.query(t,"symbol")||this._symbol[d%this._symbol.length],s){if(this.selectedMap[n]=s.isSelected(n),this._sIndex2ColorMap[d]=a.alpha(s.getColor(n),.5),i=s.getItemShape(n)){var r=this._sIndex2ShapeMap[d];i.style.brushType=r.match("empty")?"stroke":"both",r=r.replace("empty","").toLowerCase(),r.match("rectangle")&&(i.style.x+=Math.round((i.style.width-i.style.height)/2),i.style.width=i.style.height),r.match("star")&&(i.style.n=r.replace("star","")-0||5,r="star"),r.match("image")&&(i.style.image=r.replace(new RegExp("^image:\\/\\/"),""),i.style.x+=Math.round((i.style.width-i.style.height)/2),i.style.width=i.style.height,r="image"),i.style.iconType=r,s.setItemShape(n,i)}}else this.selectedMap[n]=!0,this._sIndex2ColorMap[d]=a.alpha(this.zr.getColor(d),.5);this.selectedMap[n]&&l.push(d)}this._buildSeries(l),this.addShapeList()},_buildSeries:function(e){if(0!==e.length){for(var t,n,i,o,r,a,s,l,d=this.series,c={},h=0,u=e.length;u>h;h++)if(t=e[h],n=d[t],0!==n.data.length){r=this.component.xAxis.getAxis(n.xAxisIndex||0),a=this.component.yAxis.getAxis(n.yAxisIndex||0),c[t]=[];for(var p=0,m=n.data.length;m>p;p++)i=n.data[p],o=this.getDataFromOption(i,"-"),"-"===o||o.length<2||(s=r.getCoord(o[0]),l=a.getCoord(o[1]),c[t].push([s,l,p,i.name||""]));this.xMarkMap[t]=this._markMap(r,a,n.data,c[t]),this.buildMark(t)}this._buildPointList(c)}},_markMap:function(e,t,n,i){for(var o,r={min0:Number.POSITIVE_INFINITY,max0:Number.NEGATIVE_INFINITY,sum0:0,counter0:0,average0:0,min1:Number.POSITIVE_INFINITY,max1:Number.NEGATIVE_INFINITY,sum1:0,counter1:0,average1:0},a=0,s=i.length;s>a;a++)o=n[i[a][2]].value||n[i[a][2]],r.min0>o[0]&&(r.min0=o[0],r.minY0=i[a][1],r.minX0=i[a][0]),r.max0<o[0]&&(r.max0=o[0],r.maxY0=i[a][1],r.maxX0=i[a][0]),r.sum0+=o[0],r.counter0++,r.min1>o[1]&&(r.min1=o[1],r.minY1=i[a][1],r.minX1=i[a][0]),r.max1<o[1]&&(r.max1=o[1],r.maxY1=i[a][1],r.maxX1=i[a][0]),r.sum1+=o[1],r.counter1++;var l=this.component.grid.getX(),d=this.component.grid.getXend(),c=this.component.grid.getY(),h=this.component.grid.getYend();r.average0=r.sum0/r.counter0;var u=e.getCoord(r.average0);r.averageLine0=[[u,h],[u,c]],r.minLine0=[[r.minX0,h],[r.minX0,c]],r.maxLine0=[[r.maxX0,h],[r.maxX0,c]],r.average1=r.sum1/r.counter1;var p=t.getCoord(r.average1);return r.averageLine1=[[l,p],[d,p]],r.minLine1=[[l,r.minY1],[d,r.minY1]],r.maxLine1=[[l,r.maxY1],[d,r.maxY1]],r},_buildPointList:function(e){var t,n,i,o,r=this.series;for(var a in e)if(t=r[a],n=e[a],t.large&&t.data.length>t.largeThreshold)this.shapeList.push(this._getLargeSymbol(t,n,this.getItemStyleColor(this.query(t,"itemStyle.normal.color"),a,-1)||this._sIndex2ColorMap[a]));else for(var s=0,l=n.length;l>s;s++)i=n[s],o=this._getSymbol(a,i[2],i[3],i[0],i[1]),o&&this.shapeList.push(o)},_getSymbol:function(e,t,n,i,o){var r,a=this.series,s=a[e],l=s.data[t],d=this.component.dataRange;if(d){if(r=isNaN(l[2])?this._sIndex2ColorMap[e]:d.getColor(l[2]),!r)return null}else r=this._sIndex2ColorMap[e];var c=this.getSymbolShape(s,e,l,t,n,i,o,this._sIndex2ShapeMap[e],r,"rgba(0,0,0,0)","vertical");return c.zlevel=s.zlevel,c.z=s.z,c._main=!0,c},_getLargeSymbol:function(e,t,n){return new i({zlevel:e.zlevel,z:e.z,_main:!0,hoverable:!1,style:{pointList:t,color:n,strokeColor:n},highlightStyle:{pointList:[]}})},getMarkCoord:function(e,t){var n,i=this.series[e],o=this.xMarkMap[e],r=this.component.xAxis.getAxis(i.xAxisIndex),a=this.component.yAxis.getAxis(i.yAxisIndex);if(!t.type||"max"!==t.type&&"min"!==t.type&&"average"!==t.type)n=["string"!=typeof t.xAxis&&r.getCoordByIndex?r.getCoordByIndex(t.xAxis||0):r.getCoord(t.xAxis||0),"string"!=typeof t.yAxis&&a.getCoordByIndex?a.getCoordByIndex(t.yAxis||0):a.getCoord(t.yAxis||0)];else{var s=null!=t.valueIndex?t.valueIndex:1;n=[o[t.type+"X"+s],o[t.type+"Y"+s],o[t.type+"Line"+s],o[t.type+s]]}return n},refresh:function(e){e&&(this.option=e,this.series=e.series),this.backupShapeList(),this._buildShape()},ondataRange:function(e,t){this.component.dataRange&&(this.refresh(),t.needRefresh=!0)}},r.inherits(t,n),e("../chart").define("scatter",t),t}),n("echarts/chart/funnel",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Polygon","../config","../util/ecData","../util/number","zrender/tool/util","zrender/tool/color","zrender/tool/area","../chart"],function(e){function t(e,t,i,o,r){n.call(this,e,t,i,o,r),this.refresh(o)}var n=e("./base"),i=e("zrender/shape/Text"),o=e("zrender/shape/Line"),r=e("zrender/shape/Polygon"),a=e("../config");a.funnel={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,x:80,y:60,x2:80,y2:60,min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",itemStyle:{normal:{borderColor:"#fff",borderWidth:1,label:{show:!0,position:"outer"},labelLine:{show:!0,length:10,lineStyle:{width:1,type:"solid"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!0},labelLine:{show:!0}}}};var s=e("../util/ecData"),l=e("../util/number"),d=e("zrender/tool/util"),c=e("zrender/tool/color"),h=e("zrender/tool/area");return t.prototype={type:a.CHART_TYPE_FUNNEL,_buildShape:function(){var e=this.series,t=this.component.legend;this._paramsMap={},this._selected={},this.selectedMap={};for(var n,i=0,o=e.length;o>i;i++)if(e[i].type===a.CHART_TYPE_FUNNEL){if(e[i]=this.reformOption(e[i]),this.legendHoverLink=e[i].legendHoverLink||this.legendHoverLink,n=e[i].name||"",this.selectedMap[n]=t?t.isSelected(n):!0,!this.selectedMap[n])continue;this._buildSingleFunnel(i),this.buildMark(i)}this.addShapeList()},_buildSingleFunnel:function(e){var t=this.component.legend,n=this.series[e],i=this._mapData(e),o=this._getLocation(e);this._paramsMap[e]={location:o,data:i};for(var r,a=0,s=[],d=0,c=i.length;c>d;d++)r=i[d].name,this.selectedMap[r]=t?t.isSelected(r):!0,this.selectedMap[r]&&!isNaN(i[d].value)&&(s.push(i[d]),a++);if(0!==a){for(var h,u,p,m,f=this._buildFunnelCase(e),g=n.funnelAlign,v=n.gap,y=a>1?(o.height-(a-1)*v)/a:o.height,b=o.y,_="descending"===n.sort?this._getItemWidth(e,s[0].value):l.parsePercent(n.minSize,o.width),x="descending"===n.sort?1:0,E=o.centerX,C=[],d=0,c=s.length;c>d;d++)if(r=s[d].name,this.selectedMap[r]&&!isNaN(s[d].value)){switch(h=c-2>=d?this._getItemWidth(e,s[d+x].value):"descending"===n.sort?l.parsePercent(n.minSize,o.width):l.parsePercent(n.maxSize,o.width),g){case"left":u=o.x;break;case"right":u=o.x+o.width-_;break;default:u=E-_/2}p=this._buildItem(e,s[d]._index,t?t.getColor(r):this.zr.getColor(s[d]._index),u,b,_,h,y,g),b+=y+v,m=p.style.pointList,C.unshift([m[0][0]-10,m[0][1]]),C.push([m[1][0]+10,m[1][1]]),0===d&&(0===_?(m=C.pop(),"center"==g&&(C[0][0]+=10),"right"==g&&(C[0][0]=m[0]),C[0][1]-="center"==g?10:15,1==c&&(m=p.style.pointList)):(C[C.length-1][1]-=5,C[0][1]-=5)),_=h}f&&(C.unshift([m[3][0]-10,m[3][1]]),C.push([m[2][0]+10,m[2][1]]),0===_?(m=C.pop(),"center"==g&&(C[0][0]+=10),"right"==g&&(C[0][0]=m[0]),C[0][1]+="center"==g?10:15):(C[C.length-1][1]+=5,C[0][1]+=5),f.style.pointList=C)}},_buildFunnelCase:function(e){var t=this.series[e];if(this.deepQuery([t,this.option],"calculable")){var n=this._paramsMap[e].location,i=10,o={hoverable:!1,style:{pointListd:[[n.x-i,n.y-i],[n.x+n.width+i,n.y-i],[n.x+n.width+i,n.y+n.height+i],[n.x-i,n.y+n.height+i]],brushType:"stroke",lineWidth:1,strokeColor:t.calculableHolderColor||this.ecTheme.calculableHolderColor||a.calculableHolderColor}};return s.pack(o,t,e,void 0,-1),this.setCalculable(o),o=new r(o),this.shapeList.push(o),o}},_getLocation:function(e){var t=this.series[e],n=this.zr.getWidth(),i=this.zr.getHeight(),o=this.parsePercent(t.x,n),r=this.parsePercent(t.y,i),a=null==t.width?n-o-this.parsePercent(t.x2,n):this.parsePercent(t.width,n);return{x:o,y:r,width:a,height:null==t.height?i-r-this.parsePercent(t.y2,i):this.parsePercent(t.height,i),centerX:o+a/2}},_mapData:function(e){function t(e,t){return"-"===e.value?1:"-"===t.value?-1:t.value-e.value}function n(e,n){return-t(e,n)}for(var i=this.series[e],o=d.clone(i.data),r=0,a=o.length;a>r;r++)o[r]._index=r;return"none"!=i.sort&&o.sort("descending"===i.sort?t:n),o},_buildItem:function(e,t,n,i,o,r,a,l,d){var c=this.series,h=c[e],u=h.data[t],p=this.getPolygon(e,t,n,i,o,r,a,l,d);s.pack(p,c[e],e,c[e].data[t],t,c[e].data[t].name),this.shapeList.push(p);var m=this.getLabel(e,t,n,i,o,r,a,l,d);s.pack(m,c[e],e,c[e].data[t],t,c[e].data[t].name),this.shapeList.push(m),this._needLabel(h,u,!1)||(m.invisible=!0);var f=this.getLabelLine(e,t,n,i,o,r,a,l,d);this.shapeList.push(f),this._needLabelLine(h,u,!1)||(f.invisible=!0);var g=[],v=[];return this._needLabelLine(h,u,!0)&&(g.push(f.id),v.push(f.id)),this._needLabel(h,u,!0)&&(g.push(m.id),v.push(p.id)),p.hoverConnect=g,m.hoverConnect=v,p},_getItemWidth:function(e,t){var n=this.series[e],i=this._paramsMap[e].location,o=n.min,r=n.max,a=l.parsePercent(n.minSize,i.width),s=l.parsePercent(n.maxSize,i.width);return(t-o)*(s-a)/(r-o)+a},getPolygon:function(e,t,n,i,o,a,s,l,d){var h,u=this.series[e],p=u.data[t],m=[p,u],f=this.deepMerge(m,"itemStyle.normal")||{},g=this.deepMerge(m,"itemStyle.emphasis")||{},v=this.getItemStyleColor(f.color,e,t,p)||n,y=this.getItemStyleColor(g.color,e,t,p)||("string"==typeof v?c.lift(v,-.2):v);switch(d){case"left":h=i;break;case"right":h=i+(a-s);break;default:h=i+(a-s)/2}var b={zlevel:u.zlevel,z:u.z,clickable:this.deepQuery(m,"clickable"),style:{pointList:[[i,o],[i+a,o],[h+s,o+l],[h,o+l]],brushType:"both",color:v,lineWidth:f.borderWidth,strokeColor:f.borderColor},highlightStyle:{color:y,lineWidth:g.borderWidth,strokeColor:g.borderColor}};return this.deepQuery([p,u,this.option],"calculable")&&(this.setCalculable(b),b.draggable=!0),new r(b)},getLabel:function(e,t,n,o,r,a,s,l,u){var p,m=this.series[e],f=m.data[t],g=this._paramsMap[e].location,v=d.merge(d.clone(f.itemStyle)||{},m.itemStyle),y="normal",b=v[y].label,_=b.textStyle||{},x=v[y].labelLine.length,E=this.getLabelText(e,t,y),C=this.getFont(_),w=n;b.position=b.position||v.normal.label.position,"inner"===b.position||"inside"===b.position||"center"===b.position?(p=u,w=Math.max(a,s)/2>h.getTextWidth(E,C)?"#fff":c.reverse(n)):p="left"===b.position?"right":"left";var T={zlevel:m.zlevel,z:m.z+1,style:{x:this._getLabelPoint(b.position,o,g,a,s,x,u),y:r+l/2,color:_.color||w,text:E,textAlign:_.align||p,textBaseline:_.baseline||"middle",textFont:C}};return y="emphasis",b=v[y].label||b,_=b.textStyle||_,x=v[y].labelLine.length||x,b.position=b.position||v.normal.label.position,E=this.getLabelText(e,t,y),C=this.getFont(_),w=n,"inner"===b.position||"inside"===b.position||"center"===b.position?(p=u,w=Math.max(a,s)/2>h.getTextWidth(E,C)?"#fff":c.reverse(n)):p="left"===b.position?"right":"left",T.highlightStyle={x:this._getLabelPoint(b.position,o,g,a,s,x,u),color:_.color||w,text:E,textAlign:_.align||p,textFont:C,brushType:"fill"},new i(T)},getLabelText:function(e,t,n){var i=this.series,o=i[e],r=o.data[t],a=this.deepQuery([r,o],"itemStyle."+n+".label.formatter");return a?"function"==typeof a?a.call(this.myChart,{seriesIndex:e,seriesName:o.name||"",series:o,dataIndex:t,data:r,name:r.name,value:r.value}):"string"==typeof a?a=a.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{a0}",o.name).replace("{b0}",r.name).replace("{c0}",r.value):void 0:r.name},getLabelLine:function(e,t,n,i,r,a,s,l,c){var h=this.series[e],u=h.data[t],p=this._paramsMap[e].location,m=d.merge(d.clone(u.itemStyle)||{},h.itemStyle),f="normal",g=m[f].labelLine,v=m[f].labelLine.length,y=g.lineStyle||{},b=m[f].label;b.position=b.position||m.normal.label.position;var _={zlevel:h.zlevel,z:h.z+1,hoverable:!1,style:{xStart:this._getLabelLineStartPoint(i,p,a,s,c),yStart:r+l/2,xEnd:this._getLabelPoint(b.position,i,p,a,s,v,c),yEnd:r+l/2,strokeColor:y.color||n,lineType:y.type,lineWidth:y.width}};return f="emphasis",g=m[f].labelLine||g,v=m[f].labelLine.length||v,y=g.lineStyle||y,b=m[f].label||b,b.position=b.position,_.highlightStyle={xEnd:this._getLabelPoint(b.position,i,p,a,s,v,c),strokeColor:y.color||n,lineType:y.type,lineWidth:y.width},new o(_)},_getLabelPoint:function(e,t,n,i,o,r,a){switch(e="inner"===e||"inside"===e?"center":e){case"center":return"center"==a?t+i/2:"left"==a?t+10:t+i-10;case"left":return"auto"===r?n.x-10:"center"==a?n.centerX-Math.max(i,o)/2-r:"right"==a?t-(o>i?o-i:0)-r:n.x-r;default:return"auto"===r?n.x+n.width+10:"center"==a?n.centerX+Math.max(i,o)/2+r:"right"==a?n.x+n.width+r:t+Math.max(i,o)+r}},_getLabelLineStartPoint:function(e,t,n,i,o){return"center"==o?t.centerX:i>n?e+Math.min(n,i)/2:e+Math.max(n,i)/2},_needLabel:function(e,t,n){return this.deepQuery([t,e],"itemStyle."+(n?"emphasis":"normal")+".label.show")},_needLabelLine:function(e,t,n){return this.deepQuery([t,e],"itemStyle."+(n?"emphasis":"normal")+".labelLine.show")},refresh:function(e){e&&(this.option=e,this.series=e.series),this.backupShapeList(),this._buildShape()}},d.inherits(t,n),e("../chart").define("funnel",t),t}),n("echarts/chart/chord",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Sector","../util/shape/Ribbon","../util/shape/Icon","zrender/shape/BezierCurve","../config","../util/ecData","zrender/tool/util","zrender/tool/vector","../data/Graph","../layout/Chord","../chart"],function(e){"use strict";function t(e,t,i,o,r){n.call(this,e,t,i,o,r),this.scaleLineLength=4,this.scaleUnitAngle=4,this.refresh(o)}var n=e("./base"),i=e("zrender/shape/Text"),o=e("zrender/shape/Line"),r=e("zrender/shape/Sector"),a=e("../util/shape/Ribbon"),s=e("../util/shape/Icon"),l=e("zrender/shape/BezierCurve"),d=e("../config");d.chord={zlevel:0,z:2,clickable:!0,radius:["65%","75%"],center:["50%","50%"],padding:2,sort:"none",sortSub:"none",startAngle:90,clockWise:!0,ribbonType:!0,minRadius:10,maxRadius:20,symbol:"circle",showScale:!1,showScaleText:!1,itemStyle:{normal:{borderWidth:0,borderColor:"#000",label:{show:!0,rotate:!1,distance:5},chordStyle:{width:1,color:"black",borderWidth:1,borderColor:"#999",opacity:.5}},emphasis:{borderWidth:0,borderColor:"#000",chordStyle:{width:1,color:"black",borderWidth:1,borderColor:"#999"}}}};var c=e("../util/ecData"),h=e("zrender/tool/util"),u=e("zrender/tool/vector"),p=e("../data/Graph"),m=e("../layout/Chord");return t.prototype={type:d.CHART_TYPE_CHORD,_init:function(){var e=this.series;this.selectedMap={};for(var t={},n={},i=0,o=e.length;o>i;i++)if(e[i].type===this.type){var r=this.isSelected(e[i].name);this.selectedMap[e[i].name]=r,r&&this.buildMark(i),this.reformOption(e[i]),t[e[i].name]=e[i]}for(var i=0,o=e.length;o>i;i++)if(e[i].type===this.type)if(e[i].insertToSerie){var a=t[e[i].insertToSerie];e[i]._referenceSerie=a}else n[e[i].name]=[e[i]];for(var i=0,o=e.length;o>i;i++)if(e[i].type===this.type&&e[i].insertToSerie){for(var s=e[i]._referenceSerie;s&&s._referenceSerie;)s=s._referenceSerie;n[s.name]&&this.selectedMap[e[i].name]&&n[s.name].push(e[i])}for(var l in n)this._buildChords(n[l]);this.addShapeList()},_getNodeCategory:function(e,t){return e.categories&&e.categories[t.category||0]},_getNodeQueryTarget:function(e,t){var n=this._getNodeCategory(e,t);return[t,n,e]},_getEdgeQueryTarget:function(e,t,n){return n=n||"normal",[t.itemStyle&&t.itemStyle[n],e.itemStyle[n].chordStyle]},_buildChords:function(e){for(var t=[],n=e[0],i=function(e){return e.layout.size>0},o=function(e){return function(t){return e.getEdge(t.node2,t.node1)}},r=0;r<e.length;r++){var a=e[r];if(this.selectedMap[a.name]){var s;a.matrix?s=this._getSerieGraphFromDataMatrix(a,n):a.links&&(s=this._getSerieGraphFromNodeLinks(a,n)),s.filterNode(i,this),a.ribbonType&&s.filterEdge(o(s)),t.push(s),s.__serie=a}}if(t.length){var l=t[0];if(!n.ribbonType){var d=n.minRadius,c=n.maxRadius,h=1/0,u=-1/0;l.eachNode(function(e){u=Math.max(e.layout.size,u),h=Math.min(e.layout.size,h)});var p=(c-d)/(u-h);l.eachNode(function(e){var t=this._getNodeQueryTarget(n,e),i=this.query(t,"symbolSize");e.layout.size=u===h?i||h:i||(e.layout.size-h)*p+d},this)}var f=new m;f.clockWise=n.clockWise,f.startAngle=n.startAngle*Math.PI/180,f.clockWise||(f.startAngle=-f.startAngle),f.padding=n.padding*Math.PI/180,f.sort=n.sort,f.sortSub=n.sortSub,f.directed=n.ribbonType,f.run(t);var g=this.query(n,"itemStyle.normal.label.show");if(n.ribbonType){this._buildSectors(n,0,l,n,t),g&&this._buildLabels(n,0,l,n,t);for(var r=0,v=0;r<e.length;r++)this.selectedMap[e[r].name]&&this._buildRibbons(e,r,t[v++],n);n.showScale&&this._buildScales(n,0,l)}else{this._buildNodeIcons(n,0,l,n,t),g&&this._buildLabels(n,0,l,n,t);for(var r=0,v=0;r<e.length;r++)this.selectedMap[e[r].name]&&this._buildEdgeCurves(e,r,t[v++],n,l)}this._initHoverHandler(e,t)}},_getSerieGraphFromDataMatrix:function(e,t){for(var n=[],i=0,o=[],r=0;r<e.matrix.length;r++)o[r]=e.matrix[r].slice();for(var a=e.data||e.nodes,r=0;r<a.length;r++){var s={},l=a[r];l.rawIndex=r;for(var d in l)"name"===d?s.id=l.name:s[d]=l[d];var c=this._getNodeCategory(t,l),h=c?c.name:l.name;if(this.selectedMap[h]=this.isSelected(h),this.selectedMap[h])n.push(s),i++;else{o.splice(i,1);for(var u=0;u<o.length;u++)o[u].splice(i,1)}}var m=p.fromMatrix(n,o,!0);return m.eachNode(function(e){e.layout={size:e.data.outValue},e.rawIndex=e.data.rawIndex}),m.eachEdge(function(e){e.layout={weight:e.data.weight}}),m},_getSerieGraphFromNodeLinks:function(e,t){for(var n=new p(!0),i=e.data||e.nodes,o=0,r=i.length;r>o;o++){var a=i[o];if(a&&!a.ignore){var s=this._getNodeCategory(t,a),l=s?s.name:a.name;if(this.selectedMap[l]=this.isSelected(l),this.selectedMap[l]){var d=n.addNode(a.name,a);d.rawIndex=o}}}for(var o=0,r=e.links.length;r>o;o++){var c=e.links[o],h=c.source,u=c.target;"number"==typeof h&&(h=i[h],h&&(h=h.name)),"number"==typeof u&&(u=i[u],u&&(u=u.name));var m=n.addEdge(h,u,c);m&&(m.rawIndex=o)}return n.eachNode(function(e){var n=e.data.value;if(null==n)if(n=0,t.ribbonType)for(var i=0;i<e.outEdges.length;i++)n+=e.outEdges[i].data.weight||0;else for(var i=0;i<e.edges.length;i++)n+=e.edges[i].data.weight||0;e.layout={size:n}}),n.eachEdge(function(e){e.layout={weight:null==e.data.weight?1:e.data.weight}}),n},_initHoverHandler:function(e,t){var n=e[0],i=t[0],o=this;i.eachNode(function(e){e.shape.onmouseover=function(){i.eachNode(function(e){e.shape.style.opacity=.1,e.labelShape&&(e.labelShape.style.opacity=.1,e.labelShape.modSelf()),e.shape.modSelf()});for(var n=0;n<t.length;n++)for(var r=0;r<t[n].edges.length;r++){var a=t[n].edges[r],s=o._getEdgeQueryTarget(t[n].__serie,a.data);a.shape.style.opacity=.1*o.deepQuery(s,"opacity"),a.shape.modSelf()}e.shape.style.opacity=1,e.labelShape&&(e.labelShape.style.opacity=1);for(var n=0;n<t.length;n++){var l=t[n].getNodeById(e.id);if(l)for(var r=0;r<l.outEdges.length;r++){var a=l.outEdges[r],s=o._getEdgeQueryTarget(t[n].__serie,a.data);a.shape.style.opacity=o.deepQuery(s,"opacity");var d=t[0].getNodeById(a.node2.id);d&&(d.shape&&(d.shape.style.opacity=1),d.labelShape&&(d.labelShape.style.opacity=1))}}o.zr.refreshNextFrame()},e.shape.onmouseout=function(){i.eachNode(function(e){e.shape.style.opacity=1,e.labelShape&&(e.labelShape.style.opacity=1,e.labelShape.modSelf()),e.shape.modSelf()});for(var e=0;e<t.length;e++)for(var r=0;r<t[e].edges.length;r++){var a=t[e].edges[r],s=[a.data,n];a.shape.style.opacity=o.deepQuery(s,"itemStyle.normal.chordStyle.opacity"),a.shape.modSelf()}o.zr.refreshNextFrame()}})},_buildSectors:function(e,t,n,i){var o=this.parseCenter(this.zr,i.center),a=this.parseRadius(this.zr,i.radius),s=i.clockWise,l=s?1:-1;n.eachNode(function(n){var d=this._getNodeCategory(i,n.data),h=this.getColor(d?d.name:n.id),u=n.layout.startAngle/Math.PI*180*l,p=n.layout.endAngle/Math.PI*180*l,m=new r({zlevel:e.zlevel,z:e.z,style:{x:o[0],y:o[1],r0:a[0],r:a[1],startAngle:u,endAngle:p,brushType:"fill",opacity:1,color:h,clockWise:s},clickable:i.clickable,highlightStyle:{brushType:"fill"}});m.style.lineWidth=this.deepQuery([n.data,i],"itemStyle.normal.borderWidth"),m.highlightStyle.lineWidth=this.deepQuery([n.data,i],"itemStyle.emphasis.borderWidth"),m.style.strokeColor=this.deepQuery([n.data,i],"itemStyle.normal.borderColor"),m.highlightStyle.strokeColor=this.deepQuery([n.data,i],"itemStyle.emphasis.borderColor"),m.style.lineWidth>0&&(m.style.brushType="both"),m.highlightStyle.lineWidth>0&&(m.highlightStyle.brushType="both"),c.pack(m,e,t,n.data,n.rawIndex,n.id,n.category),this.shapeList.push(m),n.shape=m},this)},_buildNodeIcons:function(e,t,n,i){var o=this.parseCenter(this.zr,i.center),r=this.parseRadius(this.zr,i.radius),a=r[1];n.eachNode(function(n){var r=n.layout.startAngle,l=n.layout.endAngle,d=(r+l)/2,h=a*Math.cos(d),u=a*Math.sin(d),p=this._getNodeQueryTarget(i,n.data),m=this._getNodeCategory(i,n.data),f=this.deepQuery(p,"itemStyle.normal.color");f||(f=this.getColor(m?m.name:n.id));var g=new s({zlevel:e.zlevel,z:e.z+1,style:{x:-n.layout.size,y:-n.layout.size,width:2*n.layout.size,height:2*n.layout.size,iconType:this.deepQuery(p,"symbol"),color:f,brushType:"both",lineWidth:this.deepQuery(p,"itemStyle.normal.borderWidth"),strokeColor:this.deepQuery(p,"itemStyle.normal.borderColor")},highlightStyle:{color:this.deepQuery(p,"itemStyle.emphasis.color"),lineWidth:this.deepQuery(p,"itemStyle.emphasis.borderWidth"),strokeColor:this.deepQuery(p,"itemStyle.emphasis.borderColor")},clickable:i.clickable,position:[h+o[0],u+o[1]]});c.pack(g,e,t,n.data,n.rawIndex,n.id,n.category),this.shapeList.push(g),n.shape=g},this)},_buildLabels:function(e,t,n,o){var r=this.query(o,"itemStyle.normal.label.rotate"),a=this.query(o,"itemStyle.normal.label.distance"),s=this.parseCenter(this.zr,o.center),l=this.parseRadius(this.zr,o.radius),d=o.clockWise,c=d?1:-1;n.eachNode(function(t){var n=t.layout.startAngle/Math.PI*180*c,d=t.layout.endAngle/Math.PI*180*c,h=(n*-c+d*-c)/2;h%=360,0>h&&(h+=360);var p=90>=h||h>=270;h=h*Math.PI/180;var m=[Math.cos(h),-Math.sin(h)],f=0;f=o.ribbonType?o.showScaleText?35+a:a:a+t.layout.size;var g=u.scale([],m,l[1]+f);u.add(g,g,s);var v={zlevel:e.zlevel,z:e.z+1,hoverable:!1,style:{text:null==t.data.label?t.id:t.data.label,textAlign:p?"left":"right"}};r?(v.rotation=p?h:Math.PI+h,v.style.x=p?l[1]+f:-l[1]-f,v.style.y=0,v.position=s.slice()):(v.style.x=g[0],v.style.y=g[1]),v.style.color=this.deepQuery([t.data,o],"itemStyle.normal.label.textStyle.color")||"#000000",v.style.textFont=this.getFont(this.deepQuery([t.data,o],"itemStyle.normal.label.textStyle")),v=new i(v),this.shapeList.push(v),t.labelShape=v},this)},_buildRibbons:function(e,t,n,i){var o=e[t],r=this.parseCenter(this.zr,i.center),s=this.parseRadius(this.zr,i.radius);n.eachEdge(function(l,d){var h,u=n.getEdge(l.node2,l.node1);if(u&&!l.shape){if(u.shape)return void(l.shape=u.shape);var p=l.layout.startAngle/Math.PI*180,m=l.layout.endAngle/Math.PI*180,f=u.layout.startAngle/Math.PI*180,g=u.layout.endAngle/Math.PI*180;h=this.getColor(1===e.length?l.layout.weight<=u.layout.weight?l.node1.id:l.node2.id:o.name);var v,y,b=this._getEdgeQueryTarget(o,l.data),_=this._getEdgeQueryTarget(o,l.data,"emphasis"),x=new a({zlevel:o.zlevel,z:o.z,style:{x:r[0],y:r[1],r:s[0],source0:p,source1:m,target0:f,target1:g,brushType:"both",opacity:this.deepQuery(b,"opacity"),color:h,lineWidth:this.deepQuery(b,"borderWidth"),strokeColor:this.deepQuery(b,"borderColor"),clockWise:i.clockWise},clickable:i.clickable,highlightStyle:{brushType:"both",opacity:this.deepQuery(_,"opacity"),lineWidth:this.deepQuery(_,"borderWidth"),strokeColor:this.deepQuery(_,"borderColor")}});l.layout.weight<=u.layout.weight?(v=u.node1,y=u.node2):(v=l.node1,y=l.node2),c.pack(x,o,t,l.data,null==l.rawIndex?d:l.rawIndex,l.data.name||v.id+"-"+y.id,v.id,y.id),this.shapeList.push(x),l.shape=x}},this)},_buildEdgeCurves:function(e,t,n,i,o){var r=e[t],a=this.parseCenter(this.zr,i.center);n.eachEdge(function(e,n){var i=o.getNodeById(e.node1.id),s=o.getNodeById(e.node2.id),d=i.shape,h=s.shape,u=this._getEdgeQueryTarget(r,e.data),p=this._getEdgeQueryTarget(r,e.data,"emphasis"),m=new l({zlevel:r.zlevel,z:r.z,style:{xStart:d.position[0],yStart:d.position[1],xEnd:h.position[0],yEnd:h.position[1],cpX1:a[0],cpY1:a[1],lineWidth:this.deepQuery(u,"width"),strokeColor:this.deepQuery(u,"color"),opacity:this.deepQuery(u,"opacity")},highlightStyle:{lineWidth:this.deepQuery(p,"width"),strokeColor:this.deepQuery(p,"color"),opacity:this.deepQuery(p,"opacity")}});c.pack(m,r,t,e.data,null==e.rawIndex?n:e.rawIndex,e.data.name||e.node1.id+"-"+e.node2.id,e.node1.id,e.node2.id),this.shapeList.push(m),e.shape=m},this)},_buildScales:function(e,t,n){var r,a,s=e.clockWise,l=this.parseCenter(this.zr,e.center),d=this.parseRadius(this.zr,e.radius),c=s?1:-1,h=0,p=-1/0;e.showScaleText&&(n.eachNode(function(e){var t=e.data.value;t>p&&(p=t),h+=t}),p>1e10?(r="b",a=1e-9):p>1e7?(r="m",a=1e-6):p>1e4?(r="k",a=.001):(r="",a=1));var m=h/(360-e.padding);n.eachNode(function(t){for(var n=t.layout.startAngle/Math.PI*180,h=t.layout.endAngle/Math.PI*180,p=n;!(s&&p>h||!s&&h>p);){var f=p/180*Math.PI,g=[Math.cos(f),Math.sin(f)],v=u.scale([],g,d[1]+1);u.add(v,v,l);var y=u.scale([],g,d[1]+this.scaleLineLength);u.add(y,y,l);var b=new o({zlevel:e.zlevel,z:e.z-1,hoverable:!1,style:{xStart:v[0],yStart:v[1],xEnd:y[0],yEnd:y[1],lineCap:"round",brushType:"stroke",strokeColor:"#666",lineWidth:1}});this.shapeList.push(b),p+=c*this.scaleUnitAngle}if(e.showScaleText)for(var _=n,x=5*m*this.scaleUnitAngle,E=0;!(s&&_>h||!s&&h>_);){var f=_;f%=360,0>f&&(f+=360);var C=90>=f||f>=270,w=new i({zlevel:e.zlevel,z:e.z-1,hoverable:!1,style:{x:C?d[1]+this.scaleLineLength+4:-d[1]-this.scaleLineLength-4,y:0,text:Math.round(10*E)/10+r,textAlign:C?"left":"right"},position:l.slice(),rotation:C?[-f/180*Math.PI,0,0]:[-(f+180)/180*Math.PI,0,0]});this.shapeList.push(w),E+=x*a,_+=c*this.scaleUnitAngle*5}},this)},refresh:function(e){if(e&&(this.option=e,this.series=e.series),this.legend=this.component.legend,this.legend)this.getColor=function(e){return this.legend.getColor(e)},this.isSelected=function(e){return this.legend.isSelected(e)};else{var t={},n=0;this.getColor=function(e){return t[e]?t[e]:(t[e]||(t[e]=this.zr.getColor(n++)),t[e])},this.isSelected=function(){return!0}}this.backupShapeList(),this._init()},reformOption:function(e){var t=h.merge;e=t(t(e||{},this.ecTheme.chord),d.chord),e.itemStyle.normal.label.textStyle=this.getTextStyle(e.itemStyle.normal.label.textStyle),this.z=e.z,this.zlevel=e.zlevel}},h.inherits(t,n),e("../chart").define("chord",t),t}),n("echarts/chart/base",["require","zrender/shape/Image","../util/shape/Icon","../util/shape/MarkLine","../util/shape/Symbol","zrender/shape/Polyline","zrender/shape/ShapeBundle","../config","../util/ecData","../util/ecAnimation","../util/ecEffect","../util/accMath","../component/base","../layout/EdgeBundling","zrender/tool/util","zrender/tool/area"],function(e){function t(e){return null!=e.x&&null!=e.y}function n(e,t,n,i,o){m.call(this,e,t,n,i,o);var r=this;this.selectedMap={},this.lastShapeList=[],this.shapeHandler={onclick:function(){r.isClick=!0},ondragover:function(e){var t=e.target;t.highlightStyle=t.highlightStyle||{};var n=t.highlightStyle,i=n.brushTyep,o=n.strokeColor,a=n.lineWidth;n.brushType="stroke",n.strokeColor=r.ecTheme.calculableColor||d.calculableColor,n.lineWidth="icon"===t.type?30:10,r.zr.addHoverShape(t),setTimeout(function(){n&&(n.brushType=i,n.strokeColor=o,n.lineWidth=a)},20)},ondrop:function(e){null!=c.get(e.dragged,"data")&&(r.isDrop=!0)},ondragend:function(){r.isDragend=!0}}}var i=e("zrender/shape/Image"),o=e("../util/shape/Icon"),r=e("../util/shape/MarkLine"),a=e("../util/shape/Symbol"),s=e("zrender/shape/Polyline"),l=e("zrender/shape/ShapeBundle"),d=e("../config"),c=e("../util/ecData"),h=e("../util/ecAnimation"),u=e("../util/ecEffect"),p=e("../util/accMath"),m=e("../component/base"),f=e("../layout/EdgeBundling"),g=e("zrender/tool/util"),v=e("zrender/tool/area");return n.prototype={setCalculable:function(e){return e.dragEnableTime=this.ecTheme.DRAG_ENABLE_TIME||d.DRAG_ENABLE_TIME,e.ondragover=this.shapeHandler.ondragover,e.ondragend=this.shapeHandler.ondragend,e.ondrop=this.shapeHandler.ondrop,e},ondrop:function(e,t){if(this.isDrop&&e.target&&!t.dragIn){var n,i=e.target,o=e.dragged,r=c.get(i,"seriesIndex"),a=c.get(i,"dataIndex"),s=this.series,l=this.component.legend;if(-1===a){if(c.get(o,"seriesIndex")==r)return t.dragOut=t.dragIn=t.needRefresh=!0,void(this.isDrop=!1);n={value:c.get(o,"value"),name:c.get(o,"name")},this.type===d.CHART_TYPE_PIE&&n.value<0&&(n.value=0);for(var h=!1,u=s[r].data,m=0,f=u.length;f>m;m++)u[m].name===n.name&&"-"===u[m].value&&(s[r].data[m].value=n.value,h=!0);!h&&s[r].data.push(n),l&&l.add(n.name,o.style.color||o.style.strokeColor)}else n=s[r].data[a]||"-",null!=n.value?(s[r].data[a].value="-"!=n.value?p.accAdd(s[r].data[a].value,c.get(o,"value")):c.get(o,"value"),(this.type===d.CHART_TYPE_FUNNEL||this.type===d.CHART_TYPE_PIE)&&(l&&1===l.getRelatedAmount(n.name)&&this.component.legend.del(n.name),n.name+=this.option.nameConnector+c.get(o,"name"),l&&l.add(n.name,o.style.color||o.style.strokeColor))):s[r].data[a]="-"!=n?p.accAdd(s[r].data[a],c.get(o,"value")):c.get(o,"value");t.dragIn=t.dragIn||!0,
this.isDrop=!1;var g=this;setTimeout(function(){g.zr.trigger("mousemove",e.event)},300)}},ondragend:function(e,t){if(this.isDragend&&e.target&&!t.dragOut){var n=e.target,i=c.get(n,"seriesIndex"),o=c.get(n,"dataIndex"),r=this.series;if(null!=r[i].data[o].value){r[i].data[o].value="-";var a=r[i].data[o].name,s=this.component.legend;s&&0===s.getRelatedAmount(a)&&s.del(a)}else r[i].data[o]="-";t.dragOut=!0,t.needRefresh=!0,this.isDragend=!1}},onlegendSelected:function(e,t){var n=e.selected;for(var i in this.selectedMap)this.selectedMap[i]!=n[i]&&(t.needRefresh=!0),this.selectedMap[i]=n[i]},_buildPosition:function(){this._symbol=this.option.symbolList,this._sIndex2ShapeMap={},this._sIndex2ColorMap={},this.selectedMap={},this.xMarkMap={};for(var e,t,n,i,o=this.series,r={top:[],bottom:[],left:[],right:[],other:[]},a=0,s=o.length;s>a;a++)o[a].type===this.type&&(o[a]=this.reformOption(o[a]),this.legendHoverLink=o[a].legendHoverLink||this.legendHoverLink,e=o[a].xAxisIndex,t=o[a].yAxisIndex,n=this.component.xAxis.getAxis(e),i=this.component.yAxis.getAxis(t),n.type===d.COMPONENT_TYPE_AXIS_CATEGORY?r[n.getPosition()].push(a):i.type===d.COMPONENT_TYPE_AXIS_CATEGORY?r[i.getPosition()].push(a):r.other.push(a));for(var l in r)r[l].length>0&&this._buildSinglePosition(l,r[l]);this.addShapeList()},_buildSinglePosition:function(e,t){var n=this._mapData(t),i=n.locationMap,o=n.maxDataLength;if(0!==o&&0!==i.length){switch(e){case"bottom":case"top":this._buildHorizontal(t,o,i,this.xMarkMap);break;case"left":case"right":this._buildVertical(t,o,i,this.xMarkMap);break;case"other":this._buildOther(t,o,i,this.xMarkMap)}for(var r=0,a=t.length;a>r;r++)this.buildMark(t[r])}},_mapData:function(e){for(var t,n,i,o,r=this.series,a=0,s={},l="__kener__stack__",c=this.component.legend,h=[],u=0,p=0,m=e.length;m>p;p++){if(t=r[e[p]],i=t.name,this._sIndex2ShapeMap[e[p]]=this._sIndex2ShapeMap[e[p]]||this.query(t,"symbol")||this._symbol[p%this._symbol.length],c){if(this.selectedMap[i]=c.isSelected(i),this._sIndex2ColorMap[e[p]]=c.getColor(i),o=c.getItemShape(i)){var f=o.style;if(this.type==d.CHART_TYPE_LINE)f.iconType="legendLineIcon",f.symbol=this._sIndex2ShapeMap[e[p]];else if(t.itemStyle.normal.barBorderWidth>0){var g=o.highlightStyle;f.brushType="both",f.x+=1,f.y+=1,f.width-=2,f.height-=2,f.strokeColor=g.strokeColor=t.itemStyle.normal.barBorderColor,g.lineWidth=3}c.setItemShape(i,o)}}else this.selectedMap[i]=!0,this._sIndex2ColorMap[e[p]]=this.zr.getColor(e[p]);this.selectedMap[i]&&(n=t.stack||l+e[p],null==s[n]?(s[n]=a,h[a]=[e[p]],a++):h[s[n]].push(e[p])),u=Math.max(u,t.data.length)}return{locationMap:h,maxDataLength:u}},_calculMarkMapXY:function(e,t,n){for(var i=this.series,o=0,r=t.length;r>o;o++)for(var a=0,s=t[o].length;s>a;a++){var l=t[o][a],d="xy"==n?0:"",c=this.component.grid,h=e[l];if("-1"!=n.indexOf("x")){h["counter"+d]>0&&(h["average"+d]=h["sum"+d]/h["counter"+d]);var u=this.component.xAxis.getAxis(i[l].xAxisIndex||0).getCoord(h["average"+d]);h["averageLine"+d]=[[u,c.getYend()],[u,c.getY()]],h["minLine"+d]=[[h["minX"+d],c.getYend()],[h["minX"+d],c.getY()]],h["maxLine"+d]=[[h["maxX"+d],c.getYend()],[h["maxX"+d],c.getY()]],h.isHorizontal=!1}if(d="xy"==n?1:"","-1"!=n.indexOf("y")){h["counter"+d]>0&&(h["average"+d]=h["sum"+d]/h["counter"+d]);var p=this.component.yAxis.getAxis(i[l].yAxisIndex||0).getCoord(h["average"+d]);h["averageLine"+d]=[[c.getX(),p],[c.getXend(),p]],h["minLine"+d]=[[c.getX(),h["minY"+d]],[c.getXend(),h["minY"+d]]],h["maxLine"+d]=[[c.getX(),h["maxY"+d]],[c.getXend(),h["maxY"+d]]],h.isHorizontal=!0}}},addLabel:function(e,t,n,i,o){var r=[n,t],a=this.deepMerge(r,"itemStyle.normal.label"),s=this.deepMerge(r,"itemStyle.emphasis.label"),l=a.textStyle||{},d=s.textStyle||{};if(a.show){var c=e.style;c.text=this._getLabelText(t,n,i,"normal"),c.textPosition=null==a.position?"horizontal"===o?"right":"top":a.position,c.textColor=l.color,c.textFont=this.getFont(l),c.textAlign=l.align,c.textBaseline=l.baseline}if(s.show){var h=e.highlightStyle;h.text=this._getLabelText(t,n,i,"emphasis"),h.textPosition=a.show?e.style.textPosition:null==s.position?"horizontal"===o?"right":"top":s.position,h.textColor=d.color,h.textFont=this.getFont(d),h.textAlign=d.align,h.textBaseline=d.baseline}return e},_getLabelText:function(e,t,n,i){var o=this.deepQuery([t,e],"itemStyle."+i+".label.formatter");o||"emphasis"!==i||(o=this.deepQuery([t,e],"itemStyle.normal.label.formatter"));var r=this.getDataFromOption(t,"-");return o?"function"==typeof o?o.call(this.myChart,{seriesName:e.name,series:e,name:n,value:r,data:t,status:i}):"string"==typeof o?o=o.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{a0}",e.name).replace("{b0}",n).replace("{c0}",this.numAddCommas(r)):void 0:r instanceof Array?null!=r[2]?this.numAddCommas(r[2]):r[0]+" , "+r[1]:this.numAddCommas(r)},buildMark:function(e){var t=this.series[e];this.selectedMap[t.name]&&(t.markLine&&this._buildMarkLine(e),t.markPoint&&this._buildMarkPoint(e))},_buildMarkPoint:function(e){for(var t,n,i=(this.markAttachStyle||{})[e],o=this.series[e],r=g.clone(o.markPoint),a=0,s=r.data.length;s>a;a++)t=r.data[a],n=this.getMarkCoord(e,t),t.x=null!=t.x?t.x:n[0],t.y=null!=t.y?t.y:n[1],!t.type||"max"!==t.type&&"min"!==t.type||(t.value=n[3],t.name=t.name||t.type,t.symbolSize=t.symbolSize||v.getTextWidth(n[3],this.getFont())/2+5);for(var l=this._markPoint(e,r),a=0,s=l.length;s>a;a++){var c=l[a];c.zlevel=o.zlevel,c.z=o.z+1;for(var h in i)c[h]=g.clone(i[h]);this.shapeList.push(c)}if(this.type===d.CHART_TYPE_FORCE||this.type===d.CHART_TYPE_CHORD)for(var a=0,s=l.length;s>a;a++)this.zr.addShape(l[a])},_buildMarkLine:function(e){for(var t,n=(this.markAttachStyle||{})[e],i=this.series[e],o=g.clone(i.markLine),r=0,a=o.data.length;a>r;r++){var s=o.data[r];!s.type||"max"!==s.type&&"min"!==s.type&&"average"!==s.type?t=[this.getMarkCoord(e,s[0]),this.getMarkCoord(e,s[1])]:(t=this.getMarkCoord(e,s),o.data[r]=[g.clone(s),{}],o.data[r][0].name=s.name||s.type,o.data[r][0].value="average"!==s.type?t[3]:+t[3].toFixed(null!=o.precision?o.precision:this.deepQuery([this.ecTheme,d],"markLine.precision")),t=t[2],s=[{},{}]),null!=t&&null!=t[0]&&null!=t[1]&&(o.data[r][0].x=null!=s[0].x?s[0].x:t[0][0],o.data[r][0].y=null!=s[0].y?s[0].y:t[0][1],o.data[r][1].x=null!=s[1].x?s[1].x:t[1][0],o.data[r][1].y=null!=s[1].y?s[1].y:t[1][1])}var c=this._markLine(e,o),h=o.large;if(h){var u=new l({style:{shapeList:c}}),p=c[0];if(p){g.merge(u.style,p.style),g.merge(u.highlightStyle={},p.highlightStyle),u.style.brushType="stroke",u.zlevel=i.zlevel,u.z=i.z+1,u.hoverable=!1;for(var m in n)u[m]=g.clone(n[m])}this.shapeList.push(u),this.zr.addShape(u),u._mark="largeLine";var f=o.effect;f.show&&(u.effect=f)}else{for(var r=0,a=c.length;a>r;r++){var v=c[r];v.zlevel=i.zlevel,v.z=i.z+1;for(var m in n)v[m]=g.clone(n[m]);this.shapeList.push(v)}if(this.type===d.CHART_TYPE_FORCE||this.type===d.CHART_TYPE_CHORD)for(var r=0,a=c.length;a>r;r++)this.zr.addShape(c[r])}},_markPoint:function(e,t){var n=this.series[e],i=this.component;g.merge(g.merge(t,g.clone(this.ecTheme.markPoint||{})),g.clone(d.markPoint)),t.name=n.name;var o,r,a,s,l,h,u,p=[],m=t.data,f=i.dataRange,v=i.legend,y=this.zr.getWidth(),b=this.zr.getHeight();if(t.large)o=this.getLargeMarkPointShape(e,t),o._mark="largePoint",o&&p.push(o);else for(var _=0,x=m.length;x>_;_++)null!=m[_].x&&null!=m[_].y&&(a=null!=m[_].value?m[_].value:"",v&&(r=v.getColor(n.name)),f&&(r=isNaN(a)?r:f.getColor(a),s=[m[_],t],l=this.deepQuery(s,"itemStyle.normal.color")||r,h=this.deepQuery(s,"itemStyle.emphasis.color")||l,null==l&&null==h)||(r=null==r?this.zr.getColor(e):r,m[_].tooltip=m[_].tooltip||t.tooltip||{trigger:"item"},m[_].name=null!=m[_].name?m[_].name:"",m[_].value=a,o=this.getSymbolShape(t,e,m[_],_,m[_].name,this.parsePercent(m[_].x,y),this.parsePercent(m[_].y,b),"pin",r,"rgba(0,0,0,0)","horizontal"),o._mark="point",u=this.deepMerge([m[_],t],"effect"),u.show&&(o.effect=u),n.type===d.CHART_TYPE_MAP&&(o._geo=this.getMarkGeo(m[_])),c.pack(o,n,e,m[_],_,m[_].name,a),p.push(o)));return p},_markLine:function(){function e(e,t){e[t]=e[t]instanceof Array?e[t].length>1?e[t]:[e[t][0],e[t][0]]:[e[t],e[t]]}return function(n,i){var o=this.series[n],r=this.component,a=r.dataRange,s=r.legend;g.merge(g.merge(i,g.clone(this.ecTheme.markLine||{})),g.clone(d.markLine));var l=s?s.getColor(o.name):this.zr.getColor(n);e(i,"symbol"),e(i,"symbolSize"),e(i,"symbolRotate");for(var h=i.data,u=[],p=this.zr.getWidth(),m=this.zr.getHeight(),v=0;v<h.length;v++){var y=h[v];if(t(y[0])&&t(y[1])){var b=this.deepMerge(y),_=[b,i],x=l,E=null!=b.value?b.value:"";if(a){x=isNaN(E)?x:a.getColor(E);var C=this.deepQuery(_,"itemStyle.normal.color")||x,w=this.deepQuery(_,"itemStyle.emphasis.color")||C;if(null==C&&null==w)continue}y[0].tooltip=b.tooltip||i.tooltip||{trigger:"item"},y[0].name=y[0].name||"",y[1].name=y[1].name||"",y[0].value=E,u.push({points:[[this.parsePercent(y[0].x,p),this.parsePercent(y[0].y,m)],[this.parsePercent(y[1].x,p),this.parsePercent(y[1].y,m)]],rawData:y,color:x})}}var T=this.query(i,"bundling.enable");if(T){var S=new f;S.maxTurningAngle=this.query(i,"bundling.maxTurningAngle")/180*Math.PI,u=S.run(u)}i.name=o.name;for(var M=[],v=0,$=u.length;$>v;v++){var k=u[v],A=k.rawEdge||k,y=A.rawData,E=null!=y.value?y.value:"",L=this.getMarkLineShape(i,n,y,v,k.points,T,A.color);L._mark="line";var N=this.deepMerge([y[0],y[1],i],"effect");N.show&&(L.effect=N,L.effect.large=i.large),o.type===d.CHART_TYPE_MAP&&(L._geo=[this.getMarkGeo(y[0]),this.getMarkGeo(y[1])]),c.pack(L,o,n,y[0],v,y[0].name+(""!==y[1].name?" > "+y[1].name:""),E),M.push(L)}return M}}(),getMarkCoord:function(){return[0,0]},getSymbolShape:function(e,t,n,r,a,s,l,d,h,u,p){var m=[n,e],f=this.getDataFromOption(n,"-");d=this.deepQuery(m,"symbol")||d;var g=this.deepQuery(m,"symbolSize");g="function"==typeof g?g(f):g,"number"==typeof g&&(g=[g,g]);var v=this.deepQuery(m,"symbolRotate"),y=this.deepMerge(m,"itemStyle.normal"),b=this.deepMerge(m,"itemStyle.emphasis"),_=null!=y.borderWidth?y.borderWidth:y.lineStyle&&y.lineStyle.width;null==_&&(_=d.match("empty")?2:0);var x=null!=b.borderWidth?b.borderWidth:b.lineStyle&&b.lineStyle.width;null==x&&(x=_+2);var E=this.getItemStyleColor(y.color,t,r,n),C=this.getItemStyleColor(b.color,t,r,n),w=g[0],T=g[1],S=new o({style:{iconType:d.replace("empty","").toLowerCase(),x:s-w,y:l-T,width:2*w,height:2*T,brushType:"both",color:d.match("empty")?u:E||h,strokeColor:y.borderColor||E||h,lineWidth:_},highlightStyle:{color:d.match("empty")?u:C||E||h,strokeColor:b.borderColor||y.borderColor||C||E||h,lineWidth:x},clickable:this.deepQuery(m,"clickable")});return d.match("image")&&(S.style.image=d.replace(new RegExp("^image:\\/\\/"),""),S=new i({style:S.style,highlightStyle:S.highlightStyle,clickable:this.deepQuery(m,"clickable")})),null!=v&&(S.rotation=[v*Math.PI/180,s,l]),d.match("star")&&(S.style.iconType="star",S.style.n=d.replace("empty","").replace("star","")-0||5),"none"===d&&(S.invisible=!0,S.hoverable=!1),S=this.addLabel(S,e,n,a,p),d.match("empty")&&(null==S.style.textColor&&(S.style.textColor=S.style.strokeColor),null==S.highlightStyle.textColor&&(S.highlightStyle.textColor=S.highlightStyle.strokeColor)),c.pack(S,e,t,n,r,a),S._x=s,S._y=l,S._dataIndex=r,S._seriesIndex=t,S},getMarkLineShape:function(e,t,n,i,o,a,l){var d=null!=n[0].value?n[0].value:"-",c=null!=n[1].value?n[1].value:"-",h=[n[0].symbol||e.symbol[0],n[1].symbol||e.symbol[1]],u=[n[0].symbolSize||e.symbolSize[0],n[1].symbolSize||e.symbolSize[1]];u[0]="function"==typeof u[0]?u[0](d):u[0],u[1]="function"==typeof u[1]?u[1](c):u[1];var p=[this.query(n[0],"symbolRotate")||e.symbolRotate[0],this.query(n[1],"symbolRotate")||e.symbolRotate[1]],m=[n[0],n[1],e],f=this.deepMerge(m,"itemStyle.normal");f.color=this.getItemStyleColor(f.color,t,i,n);var g=this.deepMerge(m,"itemStyle.emphasis");g.color=this.getItemStyleColor(g.color,t,i,n);var v=f.lineStyle,y=g.lineStyle,b=v.width;null==b&&(b=f.borderWidth);var _=y.width;null==_&&(_=null!=g.borderWidth?g.borderWidth:b+2);var x=this.deepQuery(m,"smoothness");this.deepQuery(m,"smooth")||(x=0);var E=a?s:r,C=new E({style:{symbol:h,symbolSize:u,symbolRotate:p,brushType:"both",lineType:v.type,shadowColor:v.shadowColor||v.color||f.borderColor||f.color||l,shadowBlur:v.shadowBlur,shadowOffsetX:v.shadowOffsetX,shadowOffsetY:v.shadowOffsetY,color:f.color||l,strokeColor:v.color||f.borderColor||f.color||l,lineWidth:b,symbolBorderColor:f.borderColor||f.color||l,symbolBorder:f.borderWidth},highlightStyle:{shadowColor:y.shadowColor,shadowBlur:y.shadowBlur,shadowOffsetX:y.shadowOffsetX,shadowOffsetY:y.shadowOffsetY,color:g.color||f.color||l,strokeColor:y.color||v.color||g.borderColor||f.borderColor||g.color||f.color||l,lineWidth:_,symbolBorderColor:g.borderColor||f.borderColor||g.color||f.color||l,symbolBorder:null==g.borderWidth?f.borderWidth+2:g.borderWidth},clickable:this.deepQuery(m,"clickable")}),w=C.style;return a?(w.pointList=o,w.smooth=x):(w.xStart=o[0][0],w.yStart=o[0][1],w.xEnd=o[1][0],w.yEnd=o[1][1],w.curveness=x,C.updatePoints(C.style)),C=this.addLabel(C,e,n[0],n[0].name+" : "+n[1].name)},getLargeMarkPointShape:function(e,t){var n,i,o,r,s,l,d=this.series[e],c=this.component,h=t.data,u=c.dataRange,p=c.legend,m=[h[0],t];if(p&&(i=p.getColor(d.name)),!u||(o=null!=h[0].value?h[0].value:"",i=isNaN(o)?i:u.getColor(o),r=this.deepQuery(m,"itemStyle.normal.color")||i,s=this.deepQuery(m,"itemStyle.emphasis.color")||r,null!=r||null!=s)){i=this.deepMerge(m,"itemStyle.normal").color||i;var f=this.deepQuery(m,"symbol")||"circle";f=f.replace("empty","").replace(/\d/g,""),l=this.deepMerge([h[0],t],"effect");var g=window.devicePixelRatio||1;return n=new a({style:{pointList:h,color:i,strokeColor:i,shadowColor:l.shadowColor||i,shadowBlur:(null!=l.shadowBlur?l.shadowBlur:8)*g,size:this.deepQuery(m,"symbolSize"),iconType:f,brushType:"fill",lineWidth:1},draggable:!1,hoverable:!1}),l.show&&(n.effect=l),n}},backupShapeList:function(){this.shapeList&&this.shapeList.length>0?(this.lastShapeList=this.shapeList,this.shapeList=[]):this.lastShapeList=[]},addShapeList:function(){var e,t,n=this.option.animationThreshold/(this.canvasSupported?2:4),i=this.lastShapeList,o=this.shapeList,r=i.length>0,a=r?this.query(this.option,"animationDurationUpdate"):this.query(this.option,"animationDuration"),s=this.query(this.option,"animationEasing"),l={},c={};if(this.option.animation&&!this.option.renderAsImage&&o.length<n&&!this.motionlessOnce){for(var h=0,u=i.length;u>h;h++)t=this._getAnimationKey(i[h]),t.match("undefined")?this.zr.delShape(i[h].id):(t+=i[h].type,l[t]?this.zr.delShape(i[h].id):l[t]=i[h]);for(var h=0,u=o.length;u>h;h++)t=this._getAnimationKey(o[h]),t.match("undefined")?this.zr.addShape(o[h]):(t+=o[h].type,c[t]=o[h]);for(t in l)c[t]||this.zr.delShape(l[t].id);for(t in c)l[t]?(this.zr.delShape(l[t].id),this._animateMod(l[t],c[t],a,s,0,r)):(e=this.type!=d.CHART_TYPE_LINE&&this.type!=d.CHART_TYPE_RADAR||0===t.indexOf("icon")?0:a/2,this._animateMod(!1,c[t],a,s,e,r));this.zr.refresh(),this.animationEffect()}else{this.motionlessOnce=!1,this.zr.delShape(i);for(var h=0,u=o.length;u>h;h++)this.zr.addShape(o[h])}},_getAnimationKey:function(e){return this.type!=d.CHART_TYPE_MAP&&this.type!=d.CHART_TYPE_TREEMAP&&this.type!=d.CHART_TYPE_VENN&&this.type!=d.CHART_TYPE_TREE?c.get(e,"seriesIndex")+"_"+c.get(e,"dataIndex")+(e._mark?e._mark:"")+(this.type===d.CHART_TYPE_RADAR?c.get(e,"special"):""):c.get(e,"seriesIndex")+"_"+c.get(e,"dataIndex")+(e._mark?e._mark:"undefined")},_animateMod:function(e,t,n,i,o,r){switch(t.type){case"polyline":case"half-smooth-polygon":h.pointList(this.zr,e,t,n,i);break;case"rectangle":h.rectangle(this.zr,e,t,n,i);break;case"image":case"icon":h.icon(this.zr,e,t,n,i,o);break;case"candle":r?this.zr.addShape(t):h.candle(this.zr,e,t,n,i);break;case"ring":case"sector":case"circle":r?"sector"===t.type?h.sector(this.zr,e,t,n,i):this.zr.addShape(t):h.ring(this.zr,e,t,n+(c.get(t,"dataIndex")||0)%20*100,i);break;case"text":h.text(this.zr,e,t,n,i);break;case"polygon":r?h.pointList(this.zr,e,t,n,i):h.polygon(this.zr,e,t,n,i);break;case"ribbon":h.ribbon(this.zr,e,t,n,i);break;case"gauge-pointer":h.gaugePointer(this.zr,e,t,n,i);break;case"mark-line":h.markline(this.zr,e,t,n,i);break;case"bezier-curve":case"line":h.line(this.zr,e,t,n,i);break;default:this.zr.addShape(t)}},animationMark:function(e,t,n){for(var n=n||this.shapeList,i=0,o=n.length;o>i;i++)n[i]._mark&&this._animateMod(!1,n[i],e,t,0,!0);this.animationEffect(n)},animationEffect:function(e){if(!e&&this.clearEffectShape(),e=e||this.shapeList,null!=e){var t=d.EFFECT_ZLEVEL;this.canvasSupported&&this.zr.modLayer(t,{motionBlur:!0,lastFrameAlpha:this.option.effectBlendAlpha||d.effectBlendAlpha});for(var n,i=0,o=e.length;o>i;i++)n=e[i],n._mark&&n.effect&&n.effect.show&&u[n._mark]&&(u[n._mark](this.zr,this.effectList,n,t),this.effectList[this.effectList.length-1]._mark=n._mark)}},clearEffectShape:function(e){var t=this.effectList;if(this.zr&&t&&t.length>0){e&&this.zr.modLayer(d.EFFECT_ZLEVEL,{motionBlur:!1}),this.zr.delShape(t);for(var n=0;n<t.length;n++)t[n].effectAnimator&&t[n].effectAnimator.stop()}this.effectList=[]},addMark:function(e,t,n){var i=this.series[e];if(this.selectedMap[i.name]){var o=this.query(this.option,"animationDurationUpdate"),r=this.query(this.option,"animationEasing"),a=i[n].data,s=this.shapeList.length;if(i[n].data=t.data,this["_build"+n.replace("m","M")](e),this.option.animation&&!this.option.renderAsImage)this.animationMark(o,r,this.shapeList.slice(s));else{for(var l=s,d=this.shapeList.length;d>l;l++)this.zr.addShape(this.shapeList[l]);this.zr.refreshNextFrame()}i[n].data=a}},delMark:function(e,t,n){n=n.replace("mark","").replace("large","").toLowerCase();var i=this.series[e];if(this.selectedMap[i.name]){for(var o=!1,r=[this.shapeList,this.effectList],a=2;a--;)for(var s=0,l=r[a].length;l>s;s++)if(r[a][s]._mark==n&&c.get(r[a][s],"seriesIndex")==e&&c.get(r[a][s],"name")==t){this.zr.delShape(r[a][s].id),r[a].splice(s,1),o=!0;break}o&&this.zr.refreshNextFrame()}}},g.inherits(n,m),n}),n("echarts/util/shape/Icon",["require","zrender/tool/util","zrender/shape/Star","zrender/shape/Heart","zrender/shape/Droplet","zrender/shape/Image","zrender/shape/Base"],function(e){function t(e,t){var n=t.x,i=t.y,o=t.width/16,r=t.height/16;e.moveTo(n,i+t.height),e.lineTo(n+5*o,i+14*r),e.lineTo(n+t.width,i+3*r),e.lineTo(n+13*o,i),e.lineTo(n+2*o,i+11*r),e.lineTo(n,i+t.height),e.moveTo(n+6*o,i+10*r),e.lineTo(n+14*o,i+2*r),e.moveTo(n+10*o,i+13*r),e.lineTo(n+t.width,i+13*r),e.moveTo(n+13*o,i+10*r),e.lineTo(n+13*o,i+t.height)}function n(e,t){var n=t.x,i=t.y,o=t.width/16,r=t.height/16;e.moveTo(n,i+t.height),e.lineTo(n+5*o,i+14*r),e.lineTo(n+t.width,i+3*r),e.lineTo(n+13*o,i),e.lineTo(n+2*o,i+11*r),e.lineTo(n,i+t.height),e.moveTo(n+6*o,i+10*r),e.lineTo(n+14*o,i+2*r),e.moveTo(n+10*o,i+13*r),e.lineTo(n+t.width,i+13*r)}function i(e,t){var n=t.x,i=t.y,o=t.width/16,r=t.height/16;e.moveTo(n+4*o,i+15*r),e.lineTo(n+9*o,i+13*r),e.lineTo(n+14*o,i+8*r),e.lineTo(n+11*o,i+5*r),e.lineTo(n+6*o,i+10*r),e.lineTo(n+4*o,i+15*r),e.moveTo(n+5*o,i),e.lineTo(n+11*o,i),e.moveTo(n+5*o,i+r),e.lineTo(n+11*o,i+r),e.moveTo(n,i+2*r),e.lineTo(n+t.width,i+2*r),e.moveTo(n,i+5*r),e.lineTo(n+3*o,i+t.height),e.lineTo(n+13*o,i+t.height),e.lineTo(n+t.width,i+5*r)}function o(e,t){var n=t.x,i=t.y,o=t.width/16,r=t.height/16;e.moveTo(n,i+3*r),e.lineTo(n+6*o,i+3*r),e.moveTo(n+3*o,i),e.lineTo(n+3*o,i+6*r),e.moveTo(n+3*o,i+8*r),e.lineTo(n+3*o,i+t.height),e.lineTo(n+t.width,i+t.height),e.lineTo(n+t.width,i+3*r),e.lineTo(n+8*o,i+3*r)}function r(e,t){var n=t.x,i=t.y,o=t.width/16,r=t.height/16;e.moveTo(n+6*o,i),e.lineTo(n+2*o,i+3*r),e.lineTo(n+6*o,i+6*r),e.moveTo(n+2*o,i+3*r),e.lineTo(n+14*o,i+3*r),e.lineTo(n+14*o,i+11*r),e.moveTo(n+2*o,i+5*r),e.lineTo(n+2*o,i+13*r),e.lineTo(n+14*o,i+13*r),e.moveTo(n+10*o,i+10*r),e.lineTo(n+14*o,i+13*r),e.lineTo(n+10*o,i+t.height)}function a(e,t){var n=t.x,i=t.y,o=t.width/16,r=t.height/16,a=t.width/2;e.lineWidth=1.5,e.arc(n+a,i+a,a-o,0,2*Math.PI/3),e.moveTo(n+3*o,i+t.height),e.lineTo(n+0*o,i+12*r),e.lineTo(n+5*o,i+11*r),e.moveTo(n,i+8*r),e.arc(n+a,i+a,a-o,Math.PI,5*Math.PI/3),e.moveTo(n+13*o,i),e.lineTo(n+t.width,i+4*r),e.lineTo(n+11*o,i+5*r)}function s(e,t){var n=t.x,i=t.y,o=t.width/16,r=t.height/16;e.moveTo(n,i),e.lineTo(n,i+t.height),e.lineTo(n+t.width,i+t.height),e.moveTo(n+2*o,i+14*r),e.lineTo(n+7*o,i+6*r),e.lineTo(n+11*o,i+11*r),e.lineTo(n+15*o,i+2*r)}function l(e,t){var n=t.x,i=t.y,o=t.width/16,r=t.height/16;e.moveTo(n,i),e.lineTo(n,i+t.height),e.lineTo(n+t.width,i+t.height),e.moveTo(n+3*o,i+14*r),e.lineTo(n+3*o,i+6*r),e.lineTo(n+4*o,i+6*r),e.lineTo(n+4*o,i+14*r),e.moveTo(n+7*o,i+14*r),e.lineTo(n+7*o,i+2*r),e.lineTo(n+8*o,i+2*r),e.lineTo(n+8*o,i+14*r),e.moveTo(n+11*o,i+14*r),e.lineTo(n+11*o,i+9*r),e.lineTo(n+12*o,i+9*r),e.lineTo(n+12*o,i+14*r)}function d(e,t){var n=t.x,i=t.y,o=t.width-2,r=t.height-2,a=Math.min(o,r)/2;i+=2,e.moveTo(n+a+3,i+a-3),e.arc(n+a+3,i+a-3,a-1,0,-Math.PI/2,!0),e.lineTo(n+a+3,i+a-3),e.moveTo(n+a,i),e.lineTo(n+a,i+a),e.arc(n+a,i+a,a,-Math.PI/2,2*Math.PI,!0),e.lineTo(n+a,i+a),e.lineWidth=1.5}function c(e,t){var n=t.x,i=t.y,o=t.width/16,r=t.height/16;i-=r,e.moveTo(n+1*o,i+2*r),e.lineTo(n+15*o,i+2*r),e.lineTo(n+14*o,i+3*r),e.lineTo(n+2*o,i+3*r),e.moveTo(n+3*o,i+6*r),e.lineTo(n+13*o,i+6*r),e.lineTo(n+12*o,i+7*r),e.lineTo(n+4*o,i+7*r),e.moveTo(n+5*o,i+10*r),e.lineTo(n+11*o,i+10*r),e.lineTo(n+10*o,i+11*r),e.lineTo(n+6*o,i+11*r),e.moveTo(n+7*o,i+14*r),e.lineTo(n+9*o,i+14*r),e.lineTo(n+8*o,i+15*r),e.lineTo(n+7*o,i+15*r)}function h(e,t){var n=t.x,i=t.y,o=t.width,r=t.height,a=o/16,s=r/16,l=2*Math.min(a,s);e.moveTo(n+a+l,i+s+l),e.arc(n+a,i+s,l,Math.PI/4,3*Math.PI),e.lineTo(n+7*a-l,i+6*s-l),e.arc(n+7*a,i+6*s,l,Math.PI/4*5,4*Math.PI),e.arc(n+7*a,i+6*s,l/2,Math.PI/4*5,4*Math.PI),e.moveTo(n+7*a-l/2,i+6*s+l),e.lineTo(n+a+l,i+14*s-l),e.arc(n+a,i+14*s,l,-Math.PI/4,2*Math.PI),e.moveTo(n+7*a+l/2,i+6*s),e.lineTo(n+14*a-l,i+10*s-l/2),e.moveTo(n+16*a,i+10*s),e.arc(n+14*a,i+10*s,l,0,3*Math.PI),e.lineWidth=1.5}function u(e,t){var n=t.x,i=t.y,o=t.width,r=t.height,a=Math.min(o,r)/2;e.moveTo(n+o,i+r/2),e.arc(n+a,i+a,a,0,2*Math.PI),e.arc(n+a,i,a,Math.PI/4,Math.PI/5*4),e.arc(n,i+a,a,-Math.PI/3,Math.PI/3),e.arc(n+o,i+r,a,Math.PI,Math.PI/2*3),e.lineWidth=1.5}function p(e,t){for(var n=t.x,i=t.y,o=t.width,r=t.height,a=Math.round(r/3),s=Math.round((a-2)/2),l=3;l--;)e.rect(n,i+a*l+s,o,2)}function m(e,t){for(var n=t.x,i=t.y,o=t.width,r=t.height,a=Math.round(o/3),s=Math.round((a-2)/2),l=3;l--;)e.rect(n+a*l+s,i,2,r)}function f(e,t){var n=t.x,i=t.y,o=t.width/16;e.moveTo(n+o,i),e.lineTo(n+o,i+t.height),e.lineTo(n+15*o,i+t.height),e.lineTo(n+15*o,i),e.lineTo(n+o,i),e.moveTo(n+3*o,i+3*o),e.lineTo(n+13*o,i+3*o),e.moveTo(n+3*o,i+6*o),e.lineTo(n+13*o,i+6*o),e.moveTo(n+3*o,i+9*o),e.lineTo(n+13*o,i+9*o),e.moveTo(n+3*o,i+12*o),e.lineTo(n+9*o,i+12*o)}function g(e,t){var n=t.x,i=t.y,o=t.width/16,r=t.height/16;e.moveTo(n,i),e.lineTo(n,i+t.height),e.lineTo(n+t.width,i+t.height),e.lineTo(n+t.width,i),e.lineTo(n,i),e.moveTo(n+4*o,i),e.lineTo(n+4*o,i+8*r),e.lineTo(n+12*o,i+8*r),e.lineTo(n+12*o,i),e.moveTo(n+6*o,i+11*r),e.lineTo(n+6*o,i+13*r),e.lineTo(n+10*o,i+13*r),e.lineTo(n+10*o,i+11*r),e.lineTo(n+6*o,i+11*r)}function v(e,t){var n=t.x,i=t.y,o=t.width,r=t.height;e.moveTo(n,i+r/2),e.lineTo(n+o,i+r/2),e.moveTo(n+o/2,i),e.lineTo(n+o/2,i+r)}function y(e,t){var n=t.width/2,i=t.height/2,o=Math.min(n,i);e.moveTo(t.x+n+o,t.y+i),e.arc(t.x+n,t.y+i,o,0,2*Math.PI),e.closePath()}function b(e,t){e.rect(t.x,t.y,t.width,t.height),e.closePath()}function _(e,t){var n=t.width/2,i=t.height/2,o=t.x+n,r=t.y+i,a=Math.min(n,i);e.moveTo(o,r-a),e.lineTo(o+a,r+a),e.lineTo(o-a,r+a),e.lineTo(o,r-a),e.closePath()}function x(e,t){var n=t.width/2,i=t.height/2,o=t.x+n,r=t.y+i,a=Math.min(n,i);e.moveTo(o,r-a),e.lineTo(o+a,r),e.lineTo(o,r+a),e.lineTo(o-a,r),e.lineTo(o,r-a),e.closePath()}function E(e,t){var n=t.x,i=t.y,o=t.width/16;e.moveTo(n+8*o,i),e.lineTo(n+o,i+t.height),e.lineTo(n+8*o,i+t.height/4*3),e.lineTo(n+15*o,i+t.height),e.lineTo(n+8*o,i),e.closePath()}function C(t,n){var i=e("zrender/shape/Star"),o=n.width/2,r=n.height/2;i.prototype.buildPath(t,{x:n.x+o,y:n.y+r,r:Math.min(o,r),n:n.n||5})}function w(t,n){var i=e("zrender/shape/Heart");i.prototype.buildPath(t,{x:n.x+n.width/2,y:n.y+.2*n.height,a:n.width/2,b:.8*n.height})}function T(t,n){var i=e("zrender/shape/Droplet");i.prototype.buildPath(t,{x:n.x+.5*n.width,y:n.y+.5*n.height,a:.5*n.width,b:.8*n.height})}function S(e,t){var n=t.x,i=t.y-t.height/2*1.5,o=t.width/2,r=t.height/2,a=Math.min(o,r);e.arc(n+o,i+r,a,Math.PI/5*4,Math.PI/5),e.lineTo(n+o,i+r+1.5*a),e.closePath()}function M(t,n,i){var o=e("zrender/shape/Image");this._imageShape=this._imageShape||new o({style:{}});for(var r in n)this._imageShape.style[r]=n[r];this._imageShape.brush(t,!1,i)}function $(e){A.call(this,e)}var k=e("zrender/tool/util"),A=e("zrender/shape/Base");return $.prototype={type:"icon",iconLibrary:{mark:t,markUndo:n,markClear:i,dataZoom:o,dataZoomReset:r,restore:a,lineChart:s,barChart:l,pieChart:d,funnelChart:c,forceChart:h,chordChart:u,stackChart:p,tiledChart:m,dataView:f,saveAsImage:g,cross:v,circle:y,rectangle:b,triangle:_,diamond:x,arrow:E,star:C,heart:w,droplet:T,pin:S,image:M},brush:function(t,n,i){var o=n?this.highlightStyle:this.style;o=o||{};var r=o.iconType||this.style.iconType;if("image"===r){var a=e("zrender/shape/Image");a.prototype.brush.call(this,t,n,i)}else{var o=this.beforeBrush(t,n);switch(t.beginPath(),this.buildPath(t,o,i),o.brushType){case"both":t.fill();case"stroke":o.lineWidth>0&&t.stroke();break;default:t.fill()}this.drawText(t,o,this.style),this.afterBrush(t)}},buildPath:function(e,t,n){this.iconLibrary[t.iconType]?this.iconLibrary[t.iconType].call(this,e,t,n):(e.moveTo(t.x,t.y),e.lineTo(t.x+t.width,t.y),e.lineTo(t.x+t.width,t.y+t.height),e.lineTo(t.x,t.y+t.height),e.lineTo(t.x,t.y),e.closePath())},getRect:function(e){return e.__rect?e.__rect:(e.__rect={x:Math.round(e.x),y:Math.round(e.y-("pin"==e.iconType?e.height/2*1.5:0)),width:e.width,height:e.height*("pin"===e.iconType?1.25:1)},e.__rect)},isCover:function(e,t){var n=this.transformCoordToLocal(e,t);e=n[0],t=n[1];var i=this.style.__rect;i||(i=this.style.__rect=this.getRect(this.style));var o=i.height<8||i.width<8?4:0;return e>=i.x-o&&e<=i.x+i.width+o&&t>=i.y-o&&t<=i.y+i.height+o}},k.inherits($,A),$}),n("zrender/shape/Polyline",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","./Polygon","../tool/util"],function(e){var t=e("./Base"),n=e("./util/smoothSpline"),i=e("./util/smoothBezier"),o=e("./util/dashedLineTo"),r=function(e){this.brushTypeOnly="stroke",this.textPosition="end",t.call(this,e)};return r.prototype={type:"polyline",buildPath:function(e,t){var i=t.pointList;if(!(i.length<2)){var r=Math.min(t.pointList.length,Math.round(t.pointListLength||t.pointList.length));if(t.smooth&&"spline"!==t.smooth){t.controlPointList||this.updateControlPoints(t);var a=t.controlPointList;e.moveTo(i[0][0],i[0][1]);for(var s,l,d,c=0;r-1>c;c++)s=a[2*c],l=a[2*c+1],d=i[c+1],e.bezierCurveTo(s[0],s[1],l[0],l[1],d[0],d[1])}else if("spline"===t.smooth&&(i=n(i),r=i.length),t.lineType&&"solid"!=t.lineType){if("dashed"==t.lineType||"dotted"==t.lineType){var h=(t.lineWidth||1)*("dashed"==t.lineType?5:1);e.moveTo(i[0][0],i[0][1]);for(var c=1;r>c;c++)o(e,i[c-1][0],i[c-1][1],i[c][0],i[c][1],h)}}else{e.moveTo(i[0][0],i[0][1]);for(var c=1;r>c;c++)e.lineTo(i[c][0],i[c][1])}}},updateControlPoints:function(e){e.controlPointList=i(e.pointList,e.smooth,!1,e.smoothConstraint)},getRect:function(t){return e("./Polygon").prototype.getRect(t)}},e("../tool/util").inherits(r,t),r}),n("echarts/chart/gauge",["require","./base","../util/shape/GaugePointer","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","zrender/shape/Circle","zrender/shape/Sector","../config","../util/ecData","../util/accMath","zrender/tool/util","../chart"],function(e){function t(e,t,i,o,r){n.call(this,e,t,i,o,r),this.refresh(o)}var n=e("./base"),i=e("../util/shape/GaugePointer"),o=e("zrender/shape/Text"),r=e("zrender/shape/Line"),a=e("zrender/shape/Rectangle"),s=e("zrender/shape/Circle"),l=e("zrender/shape/Sector"),d=e("../config");d.gauge={zlevel:0,z:2,center:["50%","50%"],clickable:!0,legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#228b22"],[.8,"#48b"],[1,"#ff4500"]],width:30}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,textStyle:{color:"auto"}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},pointer:{show:!0,length:"80%",width:8,color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}};var c=e("../util/ecData"),h=e("../util/accMath"),u=e("zrender/tool/util");return t.prototype={type:d.CHART_TYPE_GAUGE,_buildShape:function(){var e=this.series;this._paramsMap={},this.selectedMap={};for(var t=0,n=e.length;n>t;t++)e[t].type===d.CHART_TYPE_GAUGE&&(this.selectedMap[e[t].name]=!0,e[t]=this.reformOption(e[t]),this.legendHoverLink=e[t].legendHoverLink||this.legendHoverLink,this._buildSingleGauge(t),this.buildMark(t));this.addShapeList()},_buildSingleGauge:function(e){var t=this.series[e];this._paramsMap[e]={center:this.parseCenter(this.zr,t.center),radius:this.parseRadius(this.zr,t.radius),startAngle:t.startAngle.toFixed(2)-0,endAngle:t.endAngle.toFixed(2)-0},this._paramsMap[e].totalAngle=this._paramsMap[e].startAngle-this._paramsMap[e].endAngle,this._colorMap(e),this._buildAxisLine(e),this._buildSplitLine(e),this._buildAxisTick(e),this._buildAxisLabel(e),this._buildPointer(e),this._buildTitle(e),this._buildDetail(e)},_buildAxisLine:function(e){var t=this.series[e];if(t.axisLine.show)for(var n,i,o=t.min,r=t.max-o,a=this._paramsMap[e],s=a.center,l=a.startAngle,d=a.totalAngle,h=a.colorArray,u=t.axisLine.lineStyle,p=this.parsePercent(u.width,a.radius[1]),m=a.radius[1],f=m-p,g=l,v=0,y=h.length;y>v;v++)i=l-d*(h[v][0]-o)/r,n=this._getSector(s,f,m,i,g,h[v][1],u,t.zlevel,t.z),g=i,n._animationAdd="r",c.set(n,"seriesIndex",e),c.set(n,"dataIndex",v),this.shapeList.push(n)},_buildSplitLine:function(e){var t=this.series[e];if(t.splitLine.show)for(var n,i,o,a=this._paramsMap[e],s=t.splitNumber,l=t.min,d=t.max-l,c=t.splitLine,h=this.parsePercent(c.length,a.radius[1]),u=c.lineStyle,p=u.color,m=a.center,f=a.startAngle*Math.PI/180,g=a.totalAngle*Math.PI/180,v=a.radius[1],y=v-h,b=0;s>=b;b++)n=f-g/s*b,i=Math.sin(n),o=Math.cos(n),this.shapeList.push(new r({zlevel:t.zlevel,z:t.z+1,hoverable:!1,style:{xStart:m[0]+o*v,yStart:m[1]-i*v,xEnd:m[0]+o*y,yEnd:m[1]-i*y,strokeColor:"auto"===p?this._getColor(e,l+d/s*b):p,lineType:u.type,lineWidth:u.width,shadowColor:u.shadowColor,shadowBlur:u.shadowBlur,shadowOffsetX:u.shadowOffsetX,shadowOffsetY:u.shadowOffsetY}}))},_buildAxisTick:function(e){var t=this.series[e];if(t.axisTick.show)for(var n,i,o,a=this._paramsMap[e],s=t.splitNumber,l=t.min,d=t.max-l,c=t.axisTick,h=c.splitNumber,u=this.parsePercent(c.length,a.radius[1]),p=c.lineStyle,m=p.color,f=a.center,g=a.startAngle*Math.PI/180,v=a.totalAngle*Math.PI/180,y=a.radius[1],b=y-u,_=0,x=s*h;x>=_;_++)_%h!==0&&(n=g-v/x*_,i=Math.sin(n),o=Math.cos(n),this.shapeList.push(new r({zlevel:t.zlevel,z:t.z+1,hoverable:!1,style:{xStart:f[0]+o*y,yStart:f[1]-i*y,xEnd:f[0]+o*b,yEnd:f[1]-i*b,strokeColor:"auto"===m?this._getColor(e,l+d/x*_):m,lineType:p.type,lineWidth:p.width,shadowColor:p.shadowColor,shadowBlur:p.shadowBlur,shadowOffsetX:p.shadowOffsetX,shadowOffsetY:p.shadowOffsetY}})))},_buildAxisLabel:function(e){var t=this.series[e];if(t.axisLabel.show)for(var n,i,r,a,s=t.splitNumber,l=t.min,d=t.max-l,c=t.axisLabel.textStyle,u=this.getFont(c),p=c.color,m=this._paramsMap[e],f=m.center,g=m.startAngle,v=m.totalAngle,y=m.radius[1]-this.parsePercent(t.splitLine.length,m.radius[1])-5,b=0;s>=b;b++)a=h.accAdd(l,h.accMul(h.accDiv(d,s),b)),
n=g-v/s*b,i=Math.sin(n*Math.PI/180),r=Math.cos(n*Math.PI/180),n=(n+360)%360,this.shapeList.push(new o({zlevel:t.zlevel,z:t.z+1,hoverable:!1,style:{x:f[0]+r*y,y:f[1]-i*y,color:"auto"===p?this._getColor(e,a):p,text:this._getLabelText(t.axisLabel.formatter,a),textAlign:n>=110&&250>=n?"left":70>=n||n>=290?"right":"center",textBaseline:n>=10&&170>=n?"top":n>=190&&350>=n?"bottom":"middle",textFont:u,shadowColor:c.shadowColor,shadowBlur:c.shadowBlur,shadowOffsetX:c.shadowOffsetX,shadowOffsetY:c.shadowOffsetY}}))},_buildPointer:function(e){var t=this.series[e];if(t.pointer.show){var n=t.max-t.min,o=t.pointer,r=this._paramsMap[e],a=this.parsePercent(o.length,r.radius[1]),l=this.parsePercent(o.width,r.radius[1]),d=r.center,h=this._getValue(e);h=h<t.max?h:t.max;var u=(r.startAngle-r.totalAngle/n*(h-t.min))*Math.PI/180,p="auto"===o.color?this._getColor(e,h):o.color,m=new i({zlevel:t.zlevel,z:t.z+1,clickable:this.query(t,"clickable"),style:{x:d[0],y:d[1],r:a,startAngle:r.startAngle*Math.PI/180,angle:u,color:p,width:l,shadowColor:o.shadowColor,shadowBlur:o.shadowBlur,shadowOffsetX:o.shadowOffsetX,shadowOffsetY:o.shadowOffsetY},highlightStyle:{brushType:"fill",width:l>2?2:l/2,color:"#fff"}});c.pack(m,this.series[e],e,this.series[e].data[0],0,this.series[e].data[0].name,h),this.shapeList.push(m),this.shapeList.push(new s({zlevel:t.zlevel,z:t.z+2,hoverable:!1,style:{x:d[0],y:d[1],r:o.width/2.5,color:"#fff"}}))}},_buildTitle:function(e){var t=this.series[e];if(t.title.show){var n=t.data[0],i=null!=n.name?n.name:"";if(""!==i){var r=t.title,a=r.offsetCenter,s=r.textStyle,l=s.color,d=this._paramsMap[e],c=d.center[0]+this.parsePercent(a[0],d.radius[1]),h=d.center[1]+this.parsePercent(a[1],d.radius[1]);this.shapeList.push(new o({zlevel:t.zlevel,z:t.z+(Math.abs(c-d.center[0])+Math.abs(h-d.center[1])<2*s.fontSize?2:1),hoverable:!1,style:{x:c,y:h,color:"auto"===l?this._getColor(e):l,text:i,textAlign:"center",textFont:this.getFont(s),shadowColor:s.shadowColor,shadowBlur:s.shadowBlur,shadowOffsetX:s.shadowOffsetX,shadowOffsetY:s.shadowOffsetY}}))}}},_buildDetail:function(e){var t=this.series[e];if(t.detail.show){var n=t.detail,i=n.offsetCenter,o=n.backgroundColor,r=n.textStyle,s=r.color,l=this._paramsMap[e],d=this._getValue(e),c=l.center[0]-n.width/2+this.parsePercent(i[0],l.radius[1]),h=l.center[1]+this.parsePercent(i[1],l.radius[1]);this.shapeList.push(new a({zlevel:t.zlevel,z:t.z+(Math.abs(c+n.width/2-l.center[0])+Math.abs(h+n.height/2-l.center[1])<r.fontSize?2:1),hoverable:!1,style:{x:c,y:h,width:n.width,height:n.height,brushType:"both",color:"auto"===o?this._getColor(e,d):o,lineWidth:n.borderWidth,strokeColor:n.borderColor,shadowColor:n.shadowColor,shadowBlur:n.shadowBlur,shadowOffsetX:n.shadowOffsetX,shadowOffsetY:n.shadowOffsetY,text:this._getLabelText(n.formatter,d),textFont:this.getFont(r),textPosition:"inside",textColor:"auto"===s?this._getColor(e,d):s}}))}},_getValue:function(e){return this.getDataFromOption(this.series[e].data[0])},_colorMap:function(e){var t=this.series[e],n=t.min,i=t.max-n,o=t.axisLine.lineStyle.color;o instanceof Array||(o=[[1,o]]);for(var r=[],a=0,s=o.length;s>a;a++)r.push([o[a][0]*i+n,o[a][1]]);this._paramsMap[e].colorArray=r},_getColor:function(e,t){null==t&&(t=this._getValue(e));for(var n=this._paramsMap[e].colorArray,i=0,o=n.length;o>i;i++)if(n[i][0]>=t)return n[i][1];return n[n.length-1][1]},_getSector:function(e,t,n,i,o,r,a,s,d){return new l({zlevel:s,z:d,hoverable:!1,style:{x:e[0],y:e[1],r0:t,r:n,startAngle:i,endAngle:o,brushType:"fill",color:r,shadowColor:a.shadowColor,shadowBlur:a.shadowBlur,shadowOffsetX:a.shadowOffsetX,shadowOffsetY:a.shadowOffsetY}})},_getLabelText:function(e,t){if(e){if("function"==typeof e)return e.call(this.myChart,t);if("string"==typeof e)return e.replace("{value}",t)}return t},refresh:function(e){e&&(this.option=e,this.series=e.series),this.backupShapeList(),this._buildShape()}},u.inherits(t,n),e("../chart").define("gauge",t),t}),n("echarts/component/grid",["require","./base","zrender/shape/Rectangle","../config","zrender/tool/util","../component"],function(e){function t(e,t,i,o,r){n.call(this,e,t,i,o,r),this.refresh(o)}var n=e("./base"),i=e("zrender/shape/Rectangle"),o=e("../config");o.grid={zlevel:0,z:0,x:80,y:60,x2:80,y2:60,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};var r=e("zrender/tool/util");return t.prototype={type:o.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}},getBbox:function(){return[[this._x,this._y],[this.getXend(),this.getYend()]]},refixAxisShape:function(e){for(var t,n,i,r=e.xAxis._axisList.concat(e.yAxis?e.yAxis._axisList:[]),a=r.length;a--;)i=r[a],i.type==o.COMPONENT_TYPE_AXIS_VALUE&&i._min<0&&i._max>=0&&(i.isHorizontal()?t=i.getCoord(0):n=i.getCoord(0));if("undefined"!=typeof t||"undefined"!=typeof n)for(a=r.length;a--;)r[a].refixAxisShape(t,n)},refresh:function(e){if(e||this._zrWidth!=this.zr.getWidth()||this._zrHeight!=this.zr.getHeight()){this.clear(),this.option=e||this.option,this.option.grid=this.reformOption(this.option.grid);var t=this.option.grid;this._zrWidth=this.zr.getWidth(),this._zrHeight=this.zr.getHeight(),this._x=this.parsePercent(t.x,this._zrWidth),this._y=this.parsePercent(t.y,this._zrHeight);var n=this.parsePercent(t.x2,this._zrWidth),o=this.parsePercent(t.y2,this._zrHeight);this._width="undefined"==typeof t.width?this._zrWidth-this._x-n:this.parsePercent(t.width,this._zrWidth),this._width=this._width<=0?10:this._width,this._height="undefined"==typeof t.height?this._zrHeight-this._y-o:this.parsePercent(t.height,this._zrHeight),this._height=this._height<=0?10:this._height,this._x=this.subPixelOptimize(this._x,t.borderWidth),this._y=this.subPixelOptimize(this._y,t.borderWidth),this.shapeList.push(new i({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:t.borderWidth>0?"both":"fill",color:t.backgroundColor,strokeColor:t.borderColor,lineWidth:t.borderWidth}})),this.zr.addShape(this.shapeList[0])}}},r.inherits(t,n),e("../component").define("grid",t),t}),n("echarts/util/shape/HalfSmoothPolygon",["require","zrender/shape/Base","zrender/shape/util/smoothBezier","zrender/tool/util","zrender/shape/Polygon"],function(e){function t(e){n.call(this,e)}var n=e("zrender/shape/Base"),i=e("zrender/shape/util/smoothBezier"),o=e("zrender/tool/util");return t.prototype={type:"half-smooth-polygon",buildPath:function(t,n){var o=n.pointList;if(!(o.length<2))if(n.smooth){var r=i(o.slice(0,-2),n.smooth,!1,n.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var a,s,l,d=o.length,c=0;d-3>c;c++)a=r[2*c],s=r[2*c+1],l=o[c+1],t.bezierCurveTo(a[0],a[1],s[0],s[1],l[0],l[1]);t.lineTo(o[d-2][0],o[d-2][1]),t.lineTo(o[d-1][0],o[d-1][1]),t.lineTo(o[0][0],o[0][1])}else e("zrender/shape/Polygon").prototype.buildPath(t,n)}},o.inherits(t,n),t}),n("echarts/component/axis",["require","./base","zrender/shape/Line","../config","../util/ecData","zrender/tool/util","zrender/tool/color","./categoryAxis","./valueAxis","../component"],function(e){function t(e,t,i,o,r,a){n.call(this,e,t,i,o,r),this.axisType=a,this._axisList=[],this.refresh(o)}var n=e("./base"),i=e("zrender/shape/Line"),o=e("../config"),r=e("../util/ecData"),a=e("zrender/tool/util"),s=e("zrender/tool/color");return t.prototype={type:o.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var e=this.option.axisLine.lineStyle.width,t=e/2,n={_axisShape:"axisLine",zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1},o=this.grid;switch(this.option.position){case"left":n.style={xStart:o.getX()-t,yStart:o.getYend(),xEnd:o.getX()-t,yEnd:o.getY(),lineCap:"round"};break;case"right":n.style={xStart:o.getXend()+t,yStart:o.getYend(),xEnd:o.getXend()+t,yEnd:o.getY(),lineCap:"round"};break;case"bottom":n.style={xStart:o.getX(),yStart:o.getYend()+t,xEnd:o.getXend(),yEnd:o.getYend()+t,lineCap:"round"};break;case"top":n.style={xStart:o.getX(),yStart:o.getY()-t,xEnd:o.getXend(),yEnd:o.getY()-t,lineCap:"round"}}var r=n.style;""!==this.option.name&&(r.text=this.option.name,r.textPosition=this.option.nameLocation,r.textFont=this.getFont(this.option.nameTextStyle),this.option.nameTextStyle.align&&(r.textAlign=this.option.nameTextStyle.align),this.option.nameTextStyle.baseline&&(r.textBaseline=this.option.nameTextStyle.baseline),this.option.nameTextStyle.color&&(r.textColor=this.option.nameTextStyle.color)),r.strokeColor=this.option.axisLine.lineStyle.color,r.lineWidth=e,this.isHorizontal()?r.yStart=r.yEnd=this.subPixelOptimize(r.yEnd,e):r.xStart=r.xEnd=this.subPixelOptimize(r.xEnd,e),r.lineType=this.option.axisLine.lineStyle.type,n=new i(n),this.shapeList.push(n)},_axisLabelClickable:function(e,t){return e?(r.pack(t,void 0,-1,void 0,-1,t.style.text),t.hoverable=!0,t.clickable=!0,t.highlightStyle={color:s.lift(t.style.color,1),brushType:"fill"},t):t},refixAxisShape:function(e,t){if(this.option.axisLine.onZero){var n;if(this.isHorizontal()&&null!=t)for(var i=0,o=this.shapeList.length;o>i;i++)"axisLine"===this.shapeList[i]._axisShape?(this.shapeList[i].style.yStart=this.shapeList[i].style.yEnd=this.subPixelOptimize(t,this.shapeList[i].stylelineWidth),this.zr.modShape(this.shapeList[i].id)):"axisTick"===this.shapeList[i]._axisShape&&(n=this.shapeList[i].style.yEnd-this.shapeList[i].style.yStart,this.shapeList[i].style.yStart=t-n,this.shapeList[i].style.yEnd=t,this.zr.modShape(this.shapeList[i].id));if(!this.isHorizontal()&&null!=e)for(var i=0,o=this.shapeList.length;o>i;i++)"axisLine"===this.shapeList[i]._axisShape?(this.shapeList[i].style.xStart=this.shapeList[i].style.xEnd=this.subPixelOptimize(e,this.shapeList[i].stylelineWidth),this.zr.modShape(this.shapeList[i].id)):"axisTick"===this.shapeList[i]._axisShape&&(n=this.shapeList[i].style.xEnd-this.shapeList[i].style.xStart,this.shapeList[i].style.xStart=e,this.shapeList[i].style.xEnd=e+n,this.zr.modShape(this.shapeList[i].id))}},getPosition:function(){return this.option.position},isHorizontal:function(){return"bottom"===this.option.position||"top"===this.option.position}},reformOption:function(e){if(!e||e instanceof Array&&0===e.length?e=[{type:o.COMPONENT_TYPE_AXIS_VALUE}]:e instanceof Array||(e=[e]),e.length>2&&(e=[e[0],e[1]]),"xAxis"===this.axisType){(!e[0].position||"bottom"!=e[0].position&&"top"!=e[0].position)&&(e[0].position="bottom"),e.length>1&&(e[1].position="bottom"===e[0].position?"top":"bottom");for(var t=0,n=e.length;n>t;t++)e[t].type=e[t].type||"category",e[t].xAxisIndex=t,e[t].yAxisIndex=-1}else{(!e[0].position||"left"!=e[0].position&&"right"!=e[0].position)&&(e[0].position="left"),e.length>1&&(e[1].position="left"===e[0].position?"right":"left");for(var t=0,n=e.length;n>t;t++)e[t].type=e[t].type||"value",e[t].xAxisIndex=-1,e[t].yAxisIndex=t}return e},refresh:function(t){var n;t&&(this.option=t,"xAxis"===this.axisType?(this.option.xAxis=this.reformOption(t.xAxis),n=this.option.xAxis):(this.option.yAxis=this.reformOption(t.yAxis),n=this.option.yAxis),this.series=t.series);for(var i=e("./categoryAxis"),o=e("./valueAxis"),r=Math.max(n&&n.length||0,this._axisList.length),a=0;r>a;a++)!this._axisList[a]||!t||n[a]&&this._axisList[a].type==n[a].type||(this._axisList[a].dispose&&this._axisList[a].dispose(),this._axisList[a]=!1),this._axisList[a]?this._axisList[a].refresh&&this._axisList[a].refresh(n?n[a]:!1,this.series):n&&n[a]&&(this._axisList[a]="category"===n[a].type?new i(this.ecTheme,this.messageCenter,this.zr,n[a],this.myChart,this.axisBase):new o(this.ecTheme,this.messageCenter,this.zr,n[a],this.myChart,this.axisBase,this.series))},getAxis:function(e){return this._axisList[e]},getAxisCount:function(){return this._axisList.length},clear:function(){for(var e=0,t=this._axisList.length;t>e;e++)this._axisList[e].dispose&&this._axisList[e].dispose();this._axisList=[]}},a.inherits(t,n),e("../component").define("axis",t),t}),n("echarts/config",[],function(){var e={CHART_TYPE_LINE:"line",CHART_TYPE_BAR:"bar",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_PIE:"pie",CHART_TYPE_RADAR:"radar",CHART_TYPE_VENN:"venn",CHART_TYPE_TREEMAP:"treemap",CHART_TYPE_TREE:"tree",CHART_TYPE_MAP:"map",CHART_TYPE_K:"k",CHART_TYPE_ISLAND:"island",CHART_TYPE_FORCE:"force",CHART_TYPE_CHORD:"chord",CHART_TYPE_GAUGE:"gauge",CHART_TYPE_FUNNEL:"funnel",CHART_TYPE_EVENTRIVER:"eventRiver",CHART_TYPE_WORDCLOUD:"wordCloud",CHART_TYPE_HEATMAP:"heatmap",COMPONENT_TYPE_TITLE:"title",COMPONENT_TYPE_LEGEND:"legend",COMPONENT_TYPE_DATARANGE:"dataRange",COMPONENT_TYPE_DATAVIEW:"dataView",COMPONENT_TYPE_DATAZOOM:"dataZoom",COMPONENT_TYPE_TOOLBOX:"toolbox",COMPONENT_TYPE_TOOLTIP:"tooltip",COMPONENT_TYPE_GRID:"grid",COMPONENT_TYPE_AXIS:"axis",COMPONENT_TYPE_POLAR:"polar",COMPONENT_TYPE_X_AXIS:"xAxis",COMPONENT_TYPE_Y_AXIS:"yAxis",COMPONENT_TYPE_AXIS_CATEGORY:"categoryAxis",COMPONENT_TYPE_AXIS_VALUE:"valueAxis",COMPONENT_TYPE_TIMELINE:"timeline",COMPONENT_TYPE_ROAMCONTROLLER:"roamController",backgroundColor:"rgba(0,0,0,0)",color:["#ff7f50","#87cefa","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"],markPoint:{clickable:!0,symbol:"pin",symbolSize:10,large:!1,effect:{show:!1,loop:!0,period:15,type:"scale",scaleSize:2,bounceDistance:10},itemStyle:{normal:{borderWidth:2,label:{show:!0,position:"inside"}},emphasis:{label:{show:!0}}}},markLine:{clickable:!0,symbol:["circle","arrow"],symbolSize:[2,4],smoothness:.2,precision:2,effect:{show:!1,loop:!0,period:15,scaleSize:2},bundling:{enable:!1,maxTurningAngle:45},itemStyle:{normal:{borderWidth:1.5,label:{show:!0,position:"end"},lineStyle:{type:"dashed"}},emphasis:{label:{show:!1},lineStyle:{}}}},textStyle:{decoration:"none",fontFamily:"Arial, Verdana, sans-serif",fontFamily2:"",fontSize:12,fontStyle:"normal",fontWeight:"normal"},EVENT:{REFRESH:"refresh",RESTORE:"restore",RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",HOVER:"hover",MOUSEOUT:"mouseout",DATA_CHANGED:"dataChanged",DATA_ZOOM:"dataZoom",DATA_RANGE:"dataRange",DATA_RANGE_SELECTED:"dataRangeSelected",DATA_RANGE_HOVERLINK:"dataRangeHoverLink",LEGEND_SELECTED:"legendSelected",LEGEND_HOVERLINK:"legendHoverLink",MAP_SELECTED:"mapSelected",PIE_SELECTED:"pieSelected",MAGIC_TYPE_CHANGED:"magicTypeChanged",DATA_VIEW_CHANGED:"dataViewChanged",TIMELINE_CHANGED:"timelineChanged",MAP_ROAM:"mapRoam",FORCE_LAYOUT_END:"forceLayoutEnd",TOOLTIP_HOVER:"tooltipHover",TOOLTIP_IN_GRID:"tooltipInGrid",TOOLTIP_OUT_GRID:"tooltipOutGrid",ROAMCONTROLLER:"roamController"},DRAG_ENABLE_TIME:120,EFFECT_ZLEVEL:10,effectBlendAlpha:.95,symbolList:["circle","rectangle","triangle","diamond","emptyCircle","emptyRectangle","emptyTriangle","emptyDiamond"],loadingEffect:"spin",loadingText:"...",noDataEffect:"bubble",noDataText:"",calculable:!1,calculableColor:"rgba(255,165,0,0.6)",calculableHolderColor:"#ccc",nameConnector:" & ",valueConnector:": ",animation:!0,addDataAnimation:!0,animationThreshold:2e3,animationDuration:2e3,animationDurationUpdate:500,animationEasing:"ExponentialOut"};return e}),n("echarts/util/ecData",[],function(){function e(e,t,n,i,o,r,a,s){var l;return"undefined"!=typeof i&&(l=null==i.value?i:i.value),e._echartsData={_series:t,_seriesIndex:n,_data:i,_dataIndex:o,_name:r,_value:l,_special:a,_special2:s},e._echartsData}function t(e,t){var n=e._echartsData;if(!t)return n;switch(t){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":return n&&n["_"+t]}return null}function n(e,t,n){switch(e._echartsData=e._echartsData||{},t){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":e._echartsData["_"+t]=n}}function i(e,t){t._echartsData={_series:e._echartsData._series,_seriesIndex:e._echartsData._seriesIndex,_data:e._echartsData._data,_dataIndex:e._echartsData._dataIndex,_name:e._echartsData._name,_value:e._echartsData._value,_special:e._echartsData._special,_special2:e._echartsData._special2}}return{pack:e,set:n,get:t,clone:i}}),n("echarts/chart",[],function(){var e={},t={};return e.define=function(n,i){return t[n]=i,e},e.get=function(e){return t[e]},e}),n("zrender/tool/util",["require","../dep/excanvas"],function(e){function t(e){return e&&1===e.nodeType&&"string"==typeof e.nodeName}function n(e){if("object"==typeof e&&null!==e){var i=e;if(e instanceof Array){i=[];for(var o=0,r=e.length;r>o;o++)i[o]=n(e[o])}else if(!v[y.call(e)]&&!t(e)){i={};for(var a in e)e.hasOwnProperty(a)&&(i[a]=n(e[a]))}return i}return e}function i(e,n,i,r){if(n.hasOwnProperty(i)){var a=e[i];"object"!=typeof a||v[y.call(a)]||t(a)?!r&&i in e||(e[i]=n[i]):o(e[i],n[i],r)}}function o(e,t,n){for(var o in t)i(e,t,o,n);return e}function r(){if(!u)if(e("../dep/excanvas"),window.G_vmlCanvasManager){var t=document.createElement("div");t.style.position="absolute",t.style.top="-1000px",document.body.appendChild(t),u=G_vmlCanvasManager.initElement(t).getContext("2d")}else u=document.createElement("canvas").getContext("2d");return u}function a(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}function s(e,t){function n(){}var i=e.prototype;n.prototype=t.prototype,e.prototype=new n;for(var o in i)e.prototype[o]=i[o];e.constructor=e}function l(e,t,n){if(e&&t)if(e.forEach&&e.forEach===m)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,o=e.length;o>i;i++)t.call(n,e[i],i,e);else for(var r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function d(e,t,n){if(e&&t){if(e.map&&e.map===f)return e.map(t,n);for(var i=[],o=0,r=e.length;r>o;o++)i.push(t.call(n,e[o],o,e));return i}}function c(e,t,n){if(e&&t){if(e.filter&&e.filter===g)return e.filter(t,n);for(var i=[],o=0,r=e.length;r>o;o++)t.call(n,e[o],o,e)&&i.push(e[o]);return i}}function h(e,t){return function(){e.apply(t,arguments)}}var u,p=Array.prototype,m=p.forEach,f=p.map,g=p.filter,v={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},y=Object.prototype.toString;return{inherits:s,clone:n,merge:o,getContext:r,indexOf:a,each:l,map:d,filter:c,bind:h}}),n("zrender/tool/color",["require","../tool/util"],function(e){function t(e){W=e}function n(){W=q}function i(e,t){return e=0|e,t=t||W,t[e%t.length]}function o(e){Y=e}function r(){U=Y}function a(){return Y}function s(e,t,n,i,o,r,a){F||(F=B.getContext());for(var s=F.createRadialGradient(e,t,n,i,o,r),l=0,d=a.length;d>l;l++)s.addColorStop(a[l][0],a[l][1]);return s.__nonRecursion=!0,s}function l(e,t,n,i,o){F||(F=B.getContext());for(var r=F.createLinearGradient(e,t,n,i),a=0,s=o.length;s>a;a++)r.addColorStop(o[a][0],o[a][1]);return r.__nonRecursion=!0,r}function d(e,t,n){e=m(e),t=m(t),e=A(e),t=A(t);for(var i=[],o=(t[0]-e[0])/n,r=(t[1]-e[1])/n,a=(t[2]-e[2])/n,s=(t[3]-e[3])/n,l=0,d=e[0],c=e[1],u=e[2],p=e[3];n>l;l++)i[l]=h([O(Math.floor(d),[0,255]),O(Math.floor(c),[0,255]),O(Math.floor(u),[0,255]),p.toFixed(4)-0],"rgba"),d+=o,c+=r,u+=a,p+=s;return d=t[0],c=t[1],u=t[2],p=t[3],i[l]=h([d,c,u,p],"rgba"),i}function c(e,t){var n=[],i=e.length;if(void 0===t&&(t=20),1===i)n=d(e[0],e[0],t);else if(i>1)for(var o=0,r=i-1;r>o;o++){var a=d(e[o],e[o+1],t);r-1>o&&a.pop(),n=n.concat(a)}return n}function h(e,t){if(t=t||"rgb",e&&(3===e.length||4===e.length)){if(e=N(e,function(e){return e>1?Math.ceil(e):e}),t.indexOf("hex")>-1)return"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1);if(t.indexOf("hs")>-1){var n=N(e.slice(1,3),function(e){return e+"%"});e[1]=n[0],e[2]=n[1]}return t.indexOf("a")>-1?(3===e.length&&e.push(1),e[3]=O(e[3],[0,1]),t+"("+e.slice(0,4).join(",")+")"):t+"("+e.slice(0,3).join(",")+")"}}function u(e){e=w(e),e.indexOf("rgba")<0&&(e=m(e));var t=[],n=0;return e.replace(/[\d.]+/g,function(e){e=3>n?0|e:+e,t[n++]=e}),t}function p(e,t){if(!D(e))return e;var n=A(e),i=n[3];return"undefined"==typeof i&&(i=1),e.indexOf("hsb")>-1?n=z(n):e.indexOf("hsl")>-1&&(n=I(n)),t.indexOf("hsb")>-1||t.indexOf("hsv")>-1?n=H(n):t.indexOf("hsl")>-1&&(n=P(n)),n[3]=i,h(n,t)}function m(e){return p(e,"rgba")}function f(e){return p(e,"rgb")}function g(e){return p(e,"hex")}function v(e){return p(e,"hsva")}function y(e){return p(e,"hsv")}function b(e){return p(e,"hsba")}function _(e){return p(e,"hsb")}function x(e){return p(e,"hsla")}function E(e){return p(e,"hsl")}function C(e){for(var t in j)if(g(j[t])===g(e))return t;return null}function w(e){return String(e).replace(/\s+/g,"")}function T(e){if(j[e]&&(e=j[e]),e=w(e),e=e.replace(/hsv/i,"hsb"),/^#[\da-f]{3}$/i.test(e)){e=parseInt(e.slice(1),16);var t=(3840&e)<<8,n=(240&e)<<4,i=15&e;e="#"+((1<<24)+(t<<4)+t+(n<<4)+n+(i<<4)+i).toString(16).slice(1)}return e}function S(e,t){if(!D(e))return e;var n=t>0?1:-1;"undefined"==typeof t&&(t=0),t=Math.abs(t)>1?1:Math.abs(t),e=f(e);for(var i=A(e),o=0;3>o;o++)i[o]=1===n?i[o]*(1-t)|0:(255-i[o])*t+i[o]|0;return"rgb("+i.join(",")+")"}function M(e){if(!D(e))return e;var t=A(m(e));return t=N(t,function(e){return 255-e}),h(t,"rgb")}function $(e,t,n){if(!D(e)||!D(t))return e;"undefined"==typeof n&&(n=.5),n=1-O(n,[0,1]);for(var i=2*n-1,o=A(m(e)),r=A(m(t)),a=o[3]-r[3],s=((i*a===-1?i:(i+a)/(1+i*a))+1)/2,l=1-s,d=[],c=0;3>c;c++)d[c]=o[c]*s+r[c]*l;var u=o[3]*n+r[3]*(1-n);return u=Math.max(0,Math.min(1,u)),1===o[3]&&1===r[3]?h(d,"rgb"):(d[3]=u,h(d,"rgba"))}function k(){return"#"+(Math.random().toString(16)+"0000").slice(2,8)}function A(e){e=T(e);var t=e.match(V);if(null===t)throw new Error("The color format error");var n,i,o,r=[];if(t[2])n=t[2].replace("#","").split(""),o=[n[0]+n[1],n[2]+n[3],n[4]+n[5]],r=N(o,function(e){return O(parseInt(e,16),[0,255])});else if(t[4]){var a=t[4].split(",");i=a[3],o=a.slice(0,3),r=N(o,function(e){return e=Math.floor(e.indexOf("%")>0?2.55*parseInt(e,0):e),O(e,[0,255])}),"undefined"!=typeof i&&r.push(O(parseFloat(i),[0,1]))}else if(t[5]||t[6]){var s=(t[5]||t[6]).split(","),l=parseInt(s[0],0)/360,d=s[1],c=s[2];i=s[3],r=N([d,c],function(e){return O(parseFloat(e)/100,[0,1])}),r.unshift(l),"undefined"!=typeof i&&r.push(O(parseFloat(i),[0,1]))}return r}function L(e,t){if(!D(e))return e;null===t&&(t=1);var n=A(m(e));return n[3]=O(Number(t).toFixed(4),[0,1]),h(n,"rgba")}function N(e,t){if("function"!=typeof t)throw new TypeError;for(var n=e?e.length:0,i=0;n>i;i++)e[i]=t(e[i]);return e}function O(e,t){return e<=t[0]?e=t[0]:e>=t[1]&&(e=t[1]),e}function D(e){return e instanceof Array||"string"==typeof e}function z(e){var t,n,i,o=e[0],r=e[1],a=e[2];if(0===r)t=255*a,n=255*a,i=255*a;else{var s=6*o;6===s&&(s=0);var l=0|s,d=a*(1-r),c=a*(1-r*(s-l)),h=a*(1-r*(1-(s-l))),u=0,p=0,m=0;0===l?(u=a,p=h,m=d):1===l?(u=c,p=a,m=d):2===l?(u=d,p=a,m=h):3===l?(u=d,p=c,m=a):4===l?(u=h,p=d,m=a):(u=a,p=d,m=c),t=255*u,n=255*p,i=255*m}return[t,n,i]}function I(e){var t,n,i,o=e[0],r=e[1],a=e[2];if(0===r)t=255*a,n=255*a,i=255*a;else{var s;s=.5>a?a*(1+r):a+r-r*a;var l=2*a-s;t=255*R(l,s,o+1/3),n=255*R(l,s,o),i=255*R(l,s,o-1/3)}return[t,n,i]}function R(e,t,n){return 0>n&&(n+=1),n>1&&(n-=1),1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}function H(e){var t,n,i=e[0]/255,o=e[1]/255,r=e[2]/255,a=Math.min(i,o,r),s=Math.max(i,o,r),l=s-a,d=s;if(0===l)t=0,n=0;else{n=l/s;var c=((s-i)/6+l/2)/l,h=((s-o)/6+l/2)/l,u=((s-r)/6+l/2)/l;i===s?t=u-h:o===s?t=1/3+c-u:r===s&&(t=2/3+h-c),0>t&&(t+=1),t>1&&(t-=1)}return t=360*t,n=100*n,d=100*d,[t,n,d]}function P(e){var t,n,i=e[0]/255,o=e[1]/255,r=e[2]/255,a=Math.min(i,o,r),s=Math.max(i,o,r),l=s-a,d=(s+a)/2;if(0===l)t=0,n=0;else{n=.5>d?l/(s+a):l/(2-s-a);var c=((s-i)/6+l/2)/l,h=((s-o)/6+l/2)/l,u=((s-r)/6+l/2)/l;i===s?t=u-h:o===s?t=1/3+c-u:r===s&&(t=2/3+h-c),0>t&&(t+=1),t>1&&(t-=1)}return t=360*t,n=100*n,d=100*d,[t,n,d]}var F,B=e("../tool/util"),W=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],q=W,Y="rgba(255,255,0,0.5)",U=Y,V=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,j={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};return{customPalette:t,resetPalette:n,getColor:i,getHighlightColor:a,customHighlight:o,resetHighlight:r,getRadialGradient:s,getLinearGradient:l,getGradientColors:c,getStepColors:d,reverse:M,mix:$,lift:S,trim:w,random:k,toRGB:f,toRGBA:m,toHex:g,toHSL:E,toHSLA:x,toHSB:_,toHSBA:b,toHSV:y,toHSVA:v,toName:C,toColor:h,toArray:u,alpha:L,getData:A}}),n("echarts/component/dataZoom",["require","./base","zrender/shape/Rectangle","zrender/shape/Polygon","../util/shape/Icon","../config","../util/date","zrender/tool/util","../component"],function(e){function t(e,t,i,o,r){n.call(this,e,t,i,o,r);var a=this;a._ondrift=function(e,t){return a.__ondrift(this,e,t)},a._ondragend=function(){return a.__ondragend()},this._fillerSize=30,this._isSilence=!1,this._zoom={},this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this._handleSize=this.zoomOption.handleSize,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom.show&&this._buildShape(),this._syncData()}var n=e("./base"),i=e("zrender/shape/Rectangle"),o=e("zrender/shape/Polygon"),r=e("../util/shape/Icon"),a=e("../config");a.dataZoom={zlevel:0,z:4,show:!1,orient:"horizontal",backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"#eee",fillerColor:"rgba(144,197,237,0.2)",handleColor:"rgba(70,130,180,0.8)",handleSize:8,showDetail:!0,realtime:!0};var s=e("../util/date"),l=e("zrender/tool/util");return t.prototype={type:a.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground(),this._buildFiller(),this._buildHandle(),this._buildFrame();for(var e=0,t=this.shapeList.length;t>e;e++)this.zr.addShape(this.shapeList[e]);this._syncFrameShape()},_getLocation:function(){var e,t,n,i,o=this.component.grid;return"horizontal"==this.zoomOption.orient?(n=this.zoomOption.width||o.getWidth(),i=this.zoomOption.height||this._fillerSize,e=null!=this.zoomOption.x?this.zoomOption.x:o.getX(),t=null!=this.zoomOption.y?this.zoomOption.y:this.zr.getHeight()-i-2):(n=this.zoomOption.width||this._fillerSize,i=this.zoomOption.height||o.getHeight(),e=null!=this.zoomOption.x?this.zoomOption.x:2,t=null!=this.zoomOption.y?this.zoomOption.y:o.getY()),{x:e,y:t,width:n,height:i}},_getZoom:function(){var e=this.option.series,t=this.option.xAxis;!t||t instanceof Array||(t=[t],this.option.xAxis=t);var n=this.option.yAxis;!n||n instanceof Array||(n=[n],this.option.yAxis=n);var i,o,r=[],s=this.zoomOption.xAxisIndex;if(t&&null==s){i=[];for(var l=0,d=t.length;d>l;l++)("category"==t[l].type||null==t[l].type)&&i.push(l)}else i=s instanceof Array?s:null!=s?[s]:[];if(s=this.zoomOption.yAxisIndex,n&&null==s){o=[];for(var l=0,d=n.length;d>l;l++)"category"==n[l].type&&o.push(l)}else o=s instanceof Array?s:null!=s?[s]:[];for(var c,l=0,d=e.length;d>l;l++)if(c=e[l],c.type==a.CHART_TYPE_LINE||c.type==a.CHART_TYPE_BAR||c.type==a.CHART_TYPE_SCATTER||c.type==a.CHART_TYPE_K){for(var h=0,u=i.length;u>h;h++)if(i[h]==(c.xAxisIndex||0)){r.push(l);break}for(var h=0,u=o.length;u>h;h++)if(o[h]==(c.yAxisIndex||0)){r.push(l);break}null==this.zoomOption.xAxisIndex&&null==this.zoomOption.yAxisIndex&&c.data&&this.getDataFromOption(c.data[0])instanceof Array&&(c.type==a.CHART_TYPE_SCATTER||c.type==a.CHART_TYPE_LINE||c.type==a.CHART_TYPE_BAR)&&r.push(l)}var p=null!=this._zoom.start?this._zoom.start:null!=this.zoomOption.start?this.zoomOption.start:0,m=null!=this._zoom.end?this._zoom.end:null!=this.zoomOption.end?this.zoomOption.end:100;p>m&&(p+=m,m=p-m,p-=m);var f=Math.round((m-p)/100*("horizontal"==this.zoomOption.orient?this._location.width:this._location.height));return{start:p,end:m,start2:0,end2:100,size:f,xAxisIndex:i,yAxisIndex:o,seriesIndex:r,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};for(var e=this.option.xAxis,t=this._zoom.xAxisIndex,n=0,i=t.length;i>n;n++)this._originalData.xAxis[t[n]]=e[t[n]].data;for(var o=this.option.yAxis,r=this._zoom.yAxisIndex,n=0,i=r.length;i>n;n++)this._originalData.yAxis[r[n]]=o[r[n]].data;for(var s,l=this.option.series,d=this._zoom.seriesIndex,n=0,i=d.length;i>n;n++)s=l[d[n]],this._originalData.series[d[n]]=s.data,s.data&&this.getDataFromOption(s.data[0])instanceof Array&&(s.type==a.CHART_TYPE_SCATTER||s.type==a.CHART_TYPE_LINE||s.type==a.CHART_TYPE_BAR)&&(this._backupScale(),this._calculScatterMap(d[n]))},_calculScatterMap:function(t){this._zoom.scatterMap=this._zoom.scatterMap||{},this._zoom.scatterMap[t]=this._zoom.scatterMap[t]||{};var n=e("../component"),i=n.get("axis"),o=l.clone(this.option.xAxis);
"category"==o[0].type&&(o[0].type="value"),o[1]&&"category"==o[1].type&&(o[1].type="value");var r=new i(this.ecTheme,null,!1,{xAxis:o,series:this.option.series},this,"xAxis"),a=this.option.series[t].xAxisIndex||0;this._zoom.scatterMap[t].x=r.getAxis(a).getExtremum(),r.dispose(),o=l.clone(this.option.yAxis),"category"==o[0].type&&(o[0].type="value"),o[1]&&"category"==o[1].type&&(o[1].type="value"),r=new i(this.ecTheme,null,!1,{yAxis:o,series:this.option.series},this,"yAxis"),a=this.option.series[t].yAxisIndex||0,this._zoom.scatterMap[t].y=r.getAxis(a).getExtremum(),r.dispose()},_buildBackground:function(){var e=this._location.width,t=this._location.height;this.shapeList.push(new i({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x,y:this._location.y,width:e,height:t,color:this.zoomOption.backgroundColor}}));for(var n=0,r=this._originalData.xAxis,s=this._zoom.xAxisIndex,l=0,d=s.length;d>l;l++)n=Math.max(n,r[s[l]].length);for(var c=this._originalData.yAxis,h=this._zoom.yAxisIndex,l=0,d=h.length;d>l;l++)n=Math.max(n,c[h[l]].length);for(var u,p=this._zoom.seriesIndex[0],m=this._originalData.series[p],f=Number.MIN_VALUE,g=Number.MAX_VALUE,l=0,d=m.length;d>l;l++)u=this.getDataFromOption(m[l],0),this.option.series[p].type==a.CHART_TYPE_K&&(u=u[1]),isNaN(u)&&(u=0),f=Math.max(f,u),g=Math.min(g,u);var v=f-g,y=[],b=e/(n-(n>1?1:0)),_=t/(n-(n>1?1:0)),x=1;"horizontal"==this.zoomOption.orient&&1>b?x=Math.floor(3*n/e):"vertical"==this.zoomOption.orient&&1>_&&(x=Math.floor(3*n/t));for(var l=0,d=n;d>l;l+=x)u=this.getDataFromOption(m[l],0),this.option.series[p].type==a.CHART_TYPE_K&&(u=u[1]),isNaN(u)&&(u=0),y.push("horizontal"==this.zoomOption.orient?[this._location.x+b*l,this._location.y+t-1-Math.round((u-g)/v*(t-10))]:[this._location.x+1+Math.round((u-g)/v*(e-10)),this._location.y+_*(d-l-1)]);"horizontal"==this.zoomOption.orient?(y.push([this._location.x+e,this._location.y+t]),y.push([this._location.x,this._location.y+t])):(y.push([this._location.x,this._location.y]),y.push([this._location.x,this._location.y+t])),this.shapeList.push(new o({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{pointList:y,color:this.zoomOption.dataBackgroundColor},hoverable:!1}))},_buildFiller:function(){this._fillerShae={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"},this._fillerShae.style="horizontal"==this.zoomOption.orient?{x:this._location.x+Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-2*this._handleSize,height:this._location.height,color:this.zoomOption.fillerColor,text:":::",textPosition:"inside"}:{x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-2*this._handleSize,color:this.zoomOption.fillerColor,text:"::",textPosition:"inside"},this._fillerShae.highlightStyle={brushType:"fill",color:"rgba(0,0,0,0)"},this._fillerShae=new i(this._fillerShae),this.shapeList.push(this._fillerShae)},_buildHandle:function(){var e=this.zoomOption.showDetail?this._getDetail():{start:"",end:""};this._startShape={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,style:{iconType:"rectangle",x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:"=",textPosition:"inside"},highlightStyle:{text:e.start,brushType:"fill",textPosition:"left"},ondrift:this._ondrift,ondragend:this._ondragend},"horizontal"==this.zoomOption.orient?(this._startShape.style.height=this._location.height,this._endShape=l.clone(this._startShape),this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endShape.highlightStyle.text=e.end,this._endShape.highlightStyle.textPosition="right"):(this._startShape.style.width=this._location.width,this._endShape=l.clone(this._startShape),this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startShape.highlightStyle.textPosition="bottom",this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._endShape.highlightStyle.text=e.end,this._endShape.highlightStyle.textPosition="top"),this._startShape=new r(this._startShape),this._endShape=new r(this._endShape),this.shapeList.push(this._startShape),this.shapeList.push(this._endShape)},_buildFrame:function(){var e=this.subPixelOptimize(this._location.x,1),t=this.subPixelOptimize(this._location.y,1);this._startFrameShape={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:e,y:t,width:this._location.width-(e>this._location.x?1:0),height:this._location.height-(t>this._location.y?1:0),lineWidth:1,brushType:"stroke",strokeColor:this.zoomOption.handleColor}},this._endFrameShape=l.clone(this._startFrameShape),this._startFrameShape=new i(this._startFrameShape),this._endFrameShape=new i(this._endFrameShape),this.shapeList.push(this._startFrameShape),this.shapeList.push(this._endFrameShape)},_syncHandleShape:function(){"horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._zoom.start=(this._startShape.style.x-this._location.x)/this._location.width*100,this._zoom.end=(this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100):(this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._zoom.start=(this._location.y+this._location.height-this._startShape.style.y)/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-this._endShape.style.y-this._handleSize)/this._location.height*100),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this._syncFrameShape(),this.zr.refreshNextFrame()},_syncFillerShape:function(){var e,t;"horizontal"==this.zoomOption.orient?(e=this._startShape.style.x,t=this._endShape.style.x,this._fillerShae.style.x=Math.min(e,t)+this._handleSize,this._fillerShae.style.width=Math.abs(e-t)-this._handleSize,this._zoom.start=(Math.min(e,t)-this._location.x)/this._location.width*100,this._zoom.end=(Math.max(e,t)+this._handleSize-this._location.x)/this._location.width*100):(e=this._startShape.style.y,t=this._endShape.style.y,this._fillerShae.style.y=Math.min(e,t)+this._handleSize,this._fillerShae.style.height=Math.abs(e-t)-this._handleSize,this._zoom.start=(this._location.y+this._location.height-Math.max(e,t))/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-Math.min(e,t)-this._handleSize)/this._location.height*100),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refreshNextFrame()},_syncFrameShape:function(){"horizontal"==this.zoomOption.orient?(this._startFrameShape.style.width=this._fillerShae.style.x-this._location.x,this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x):(this._startFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startFrameShape.style.height=this._location.y+this._location.height-this._startFrameShape.style.y,this._endFrameShape.style.height=this._fillerShae.style.y-this._location.y),this.zr.modShape(this._startFrameShape.id),this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){this.zoomOption.show&&("horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width,this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize,this._fillerShae.style.x=this._startShape.style.x+this._handleSize,this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize):(this._startShape.style.y=this._location.y+this._location.height-this._zoom.start/100*this._location.height,this._endShape.style.y=this._location.y+this._location.height-this._zoom.end/100*this._location.height-this._handleSize,this._fillerShae.style.y=this._endShape.style.y+this._handleSize,this._fillerShae.style.height=this._startShape.style.y-this._endShape.style.y-this._handleSize),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refresh())},_syncData:function(e){var t,n,i,o,r;for(var s in this._originalData){t=this._originalData[s];for(var l in t)r=t[l],null!=r&&(o=r.length,n=Math.floor(this._zoom.start/100*o),i=Math.ceil(this._zoom.end/100*o),this.getDataFromOption(r[0])instanceof Array&&this.option[s][l].type!=a.CHART_TYPE_K?(this._setScale(),this.option[s][l].data=this._synScatterData(l,r)):this.option[s][l].data=r.slice(n,i))}this._isSilence||!this.zoomOption.realtime&&!e||this.messageCenter.dispatch(a.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)},_synScatterData:function(e,t){if(0===this._zoom.start&&100==this._zoom.end&&0===this._zoom.start2&&100==this._zoom.end2)return t;var n,i,o,r,a,s=[],l=this._zoom.scatterMap[e];"horizontal"==this.zoomOption.orient?(n=l.x.max-l.x.min,i=this._zoom.start/100*n+l.x.min,o=this._zoom.end/100*n+l.x.min,n=l.y.max-l.y.min,r=this._zoom.start2/100*n+l.y.min,a=this._zoom.end2/100*n+l.y.min):(n=l.x.max-l.x.min,i=this._zoom.start2/100*n+l.x.min,o=this._zoom.end2/100*n+l.x.min,n=l.y.max-l.y.min,r=this._zoom.start/100*n+l.y.min,a=this._zoom.end/100*n+l.y.min);var d;(d=l.x.dataMappingMethods)&&(i=d.coord2Value(i),o=d.coord2Value(o)),(d=l.y.dataMappingMethods)&&(r=d.coord2Value(r),a=d.coord2Value(a));for(var c,h=0,u=t.length;u>h;h++)c=t[h].value||t[h],c[0]>=i&&c[0]<=o&&c[1]>=r&&c[1]<=a&&s.push(t[h]);return s},_setScale:function(){var e=0!==this._zoom.start||100!==this._zoom.end||0!==this._zoom.start2||100!==this._zoom.end2,t={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var n in t)for(var i=0,o=t[n].length;o>i;i++)t[n][i].scale=e||t[n][i]._scale},_backupScale:function(){var e={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var t in e)for(var n=0,i=e[t].length;i>n;n++)e[t][n]._scale=e[t][n].scale},_getDetail:function(){for(var e=["xAxis","yAxis"],t=0,n=e.length;n>t;t++){var i=this._originalData[e[t]];for(var o in i){var r=i[o];if(null!=r){var a=r.length,l=Math.floor(this._zoom.start/100*a),d=Math.ceil(this._zoom.end/100*a);return d-=d>0?1:0,{start:this.getDataFromOption(r[l]),end:this.getDataFromOption(r[d])}}}}e="horizontal"==this.zoomOption.orient?"xAxis":"yAxis";var c=this._zoom.seriesIndex[0],h=this.option.series[c][e+"Index"]||0,u=this.option[e][h].type,p=this._zoom.scatterMap[c][e.charAt(0)].min,m=this._zoom.scatterMap[c][e.charAt(0)].max,f=m-p;if("value"==u)return{start:p+f*this._zoom.start/100,end:p+f*this._zoom.end/100};if("time"==u){m=p+f*this._zoom.end/100,p+=f*this._zoom.start/100;var g=s.getAutoFormatter(p,m).formatter;return{start:s.format(g,p),end:s.format(g,m)}}return{start:"",end:""}},__ondrift:function(e,t,n){this.zoomOption.zoomLock&&(e=this._fillerShae);var i="filler"==e._type?this._handleSize:0;if("horizontal"==this.zoomOption.orient?e.style.x+t-i<=this._location.x?e.style.x=this._location.x+i:e.style.x+t+e.style.width+i>=this._location.x+this._location.width?e.style.x=this._location.x+this._location.width-e.style.width-i:e.style.x+=t:e.style.y+n-i<=this._location.y?e.style.y=this._location.y+i:e.style.y+n+e.style.height+i>=this._location.y+this._location.height?e.style.y=this._location.y+this._location.height-e.style.height-i:e.style.y+=n,"filler"==e._type?this._syncHandleShape():this._syncFillerShape(),this.zoomOption.realtime&&this._syncData(),this.zoomOption.showDetail){var o=this._getDetail();this._startShape.style.text=this._startShape.highlightStyle.text=o.start,this._endShape.style.text=this._endShape.highlightStyle.text=o.end,this._startShape.style.textPosition=this._startShape.highlightStyle.textPosition,this._endShape.style.textPosition=this._endShape.highlightStyle.textPosition}return!0},__ondragend:function(){this.zoomOption.showDetail&&(this._startShape.style.text=this._endShape.style.text="=",this._startShape.style.textPosition=this._endShape.style.textPosition="inside",this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.refreshNextFrame()),this.isDragend=!0},ondragend:function(e,t){this.isDragend&&e.target&&(!this.zoomOption.realtime&&this._syncData(),t.dragOut=!0,t.dragIn=!0,this._isSilence||this.zoomOption.realtime||this.messageCenter.dispatch(a.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart),t.needRefresh=!1,this.isDragend=!1)},ondataZoom:function(e,t){t.needRefresh=!0},absoluteZoom:function(e){this._zoom.start=e.start,this._zoom.end=e.end,this._zoom.start2=e.start2,this._zoom.end2=e.end2,this._syncShape(),this._syncData(!0)},rectZoom:function(e){if(!e)return this._zoom.start=this._zoom.start2=0,this._zoom.end=this._zoom.end2=100,this._syncShape(),this._syncData(!0),this._zoom;var t=this.component.grid.getArea(),n={x:e.x,y:e.y,width:e.width,height:e.height};if(n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height),n.x>t.x+t.width||n.y>t.y+t.height)return!1;n.x<t.x&&(n.x=t.x),n.x+n.width>t.x+t.width&&(n.width=t.x+t.width-n.x),n.y+n.height>t.y+t.height&&(n.height=t.y+t.height-n.y);var i,o=(n.x-t.x)/t.width,r=1-(n.x+n.width-t.x)/t.width,a=1-(n.y+n.height-t.y)/t.height,s=(n.y-t.y)/t.height;return"horizontal"==this.zoomOption.orient?(i=this._zoom.end-this._zoom.start,this._zoom.start+=i*o,this._zoom.end-=i*r,i=this._zoom.end2-this._zoom.start2,this._zoom.start2+=i*a,this._zoom.end2-=i*s):(i=this._zoom.end-this._zoom.start,this._zoom.start+=i*a,this._zoom.end-=i*s,i=this._zoom.end2-this._zoom.start2,this._zoom.start2+=i*o,this._zoom.end2-=i*r),this._syncShape(),this._syncData(!0),this._zoom},syncBackupData:function(e){for(var t,n,i=this._originalData.series,o=e.series,r=0,a=o.length;a>r;r++){n=o[r].data||o[r].eventList,t=i[r]?Math.floor(this._zoom.start/100*i[r].length):0;for(var s=0,l=n.length;l>s;s++)i[r]&&(i[r][s+t]=n[s])}},syncOption:function(e){this.silence(!0),this.option=e,this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom&&this.option.dataZoom.show&&this._buildShape(),this._syncData(),this.silence(!1)},silence:function(e){this._isSilence=e},getRealDataIndex:function(e,t){if(!this._originalData||0===this._zoom.start&&100==this._zoom.end)return t;var n=this._originalData.series;return n[e]?Math.floor(this._zoom.start/100*n[e].length)+t:-1},resize:function(){this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this.option.dataZoom.show&&this._buildShape()}},l.inherits(t,n),e("../component").define("dataZoom",t),t}),n("zrender/shape/Text",["require","../tool/area","./Base","../tool/util"],function(e){var t=e("../tool/area"),n=e("./Base"),i=function(e){n.call(this,e)};return i.prototype={type:"text",brush:function(e,n){var i=this.style;if(n&&(i=this.getHighlightStyle(i,this.highlightStyle||{})),"undefined"!=typeof i.text&&i.text!==!1){e.save(),this.doClip(e),this.setContext(e,i),this.setTransform(e),i.textFont&&(e.font=i.textFont),e.textAlign=i.textAlign||"start",e.textBaseline=i.textBaseline||"middle";var o,r=(i.text+"").split("\n"),a=t.getTextHeight("",i.textFont),s=this.getRect(i),l=i.x;o="top"==i.textBaseline?s.y:"bottom"==i.textBaseline?s.y+a:s.y+a/2;for(var d=0,c=r.length;c>d;d++){if(i.maxWidth)switch(i.brushType){case"fill":e.fillText(r[d],l,o,i.maxWidth);break;case"stroke":e.strokeText(r[d],l,o,i.maxWidth);break;case"both":e.fillText(r[d],l,o,i.maxWidth),e.strokeText(r[d],l,o,i.maxWidth);break;default:e.fillText(r[d],l,o,i.maxWidth)}else switch(i.brushType){case"fill":e.fillText(r[d],l,o);break;case"stroke":e.strokeText(r[d],l,o);break;case"both":e.fillText(r[d],l,o),e.strokeText(r[d],l,o);break;default:e.fillText(r[d],l,o)}o+=a}e.restore()}},getRect:function(e){if(e.__rect)return e.__rect;var n=t.getTextWidth(e.text,e.textFont),i=t.getTextHeight(e.text,e.textFont),o=e.x;"end"==e.textAlign||"right"==e.textAlign?o-=n:"center"==e.textAlign&&(o-=n/2);var r;return r="top"==e.textBaseline?e.y:"bottom"==e.textBaseline?e.y-i:e.y-i/2,e.__rect={x:o,y:r,width:n,height:i},e.__rect}},e("../tool/util").inherits(i,n),i}),n("zrender/shape/Ring",["require","./Base","../tool/util"],function(e){var t=e("./Base"),n=function(e){t.call(this,e)};return n.prototype={type:"ring",buildPath:function(e,t){e.arc(t.x,t.y,t.r,0,2*Math.PI,!1),e.moveTo(t.x+t.r0,t.y),e.arc(t.x,t.y,t.r0,0,2*Math.PI,!0)},getRect:function(e){if(e.__rect)return e.__rect;var t;return t="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(e.x-e.r-t/2),y:Math.round(e.y-e.r-t/2),width:2*e.r+t,height:2*e.r+t},e.__rect}},e("../tool/util").inherits(n,t),n}),n("zrender/shape/Circle",["require","./Base","../tool/util"],function(e){"use strict";var t=e("./Base"),n=function(e){t.call(this,e)};return n.prototype={type:"circle",buildPath:function(e,t){e.moveTo(t.x+t.r,t.y),e.arc(t.x,t.y,t.r,0,2*Math.PI,!0)},getRect:function(e){if(e.__rect)return e.__rect;var t;return t="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(e.x-e.r-t/2),y:Math.round(e.y-e.r-t/2),width:2*e.r+t,height:2*e.r+t},e.__rect}},e("../tool/util").inherits(n,t),n}),n("zrender/tool/math",[],function(){function e(e,t){return Math.sin(t?e*o:e)}function t(e,t){return Math.cos(t?e*o:e)}function n(e){return e*o}function i(e){return e/o}var o=Math.PI/180;return{sin:e,cos:t,degreeToRadian:n,radianToDegree:i}}),n("zrender/shape/Sector",["require","../tool/math","../tool/computeBoundingBox","../tool/vector","./Base","../tool/util"],function(e){var t=e("../tool/math"),n=e("../tool/computeBoundingBox"),i=e("../tool/vector"),o=e("./Base"),r=i.create(),a=i.create(),s=i.create(),l=i.create(),d=function(e){o.call(this,e)};return d.prototype={type:"sector",buildPath:function(e,n){var i=n.x,o=n.y,r=n.r0||0,a=n.r,s=n.startAngle,l=n.endAngle,d=n.clockWise||!1;s=t.degreeToRadian(s),l=t.degreeToRadian(l),d||(s=-s,l=-l);var c=t.cos(s),h=t.sin(s);e.moveTo(c*r+i,h*r+o),e.lineTo(c*a+i,h*a+o),e.arc(i,o,a,s,l,!d),e.lineTo(t.cos(l)*r+i,t.sin(l)*r+o),0!==r&&e.arc(i,o,r,l,s,d),e.closePath()},getRect:function(e){if(e.__rect)return e.__rect;var o=e.x,d=e.y,c=e.r0||0,h=e.r,u=t.degreeToRadian(e.startAngle),p=t.degreeToRadian(e.endAngle),m=e.clockWise;return m||(u=-u,p=-p),c>1?n.arc(o,d,c,u,p,!m,r,s):(r[0]=s[0]=o,r[1]=s[1]=d),n.arc(o,d,h,u,p,!m,a,l),i.min(r,r,a),i.max(s,s,l),e.__rect={x:r[0],y:r[1],width:s[0]-r[0],height:s[1]-r[1]},e.__rect}},e("../tool/util").inherits(d,o),d}),n("zrender/tool/event",["require","../mixin/Eventful"],function(e){"use strict";function t(e){return"undefined"!=typeof e.zrenderX&&e.zrenderX||"undefined"!=typeof e.offsetX&&e.offsetX||"undefined"!=typeof e.layerX&&e.layerX||"undefined"!=typeof e.clientX&&e.clientX}function n(e){return"undefined"!=typeof e.zrenderY&&e.zrenderY||"undefined"!=typeof e.offsetY&&e.offsetY||"undefined"!=typeof e.layerY&&e.layerY||"undefined"!=typeof e.clientY&&e.clientY}function i(e){return"undefined"!=typeof e.zrenderDelta&&e.zrenderDelta||"undefined"!=typeof e.wheelDelta&&e.wheelDelta||"undefined"!=typeof e.detail&&-e.detail}var o=e("../mixin/Eventful"),r="function"==typeof window.addEventListener?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};return{getX:t,getY:n,getDelta:i,stop:r,Dispatcher:o}}),n("zrender/tool/env",[],function(){function e(e){var t=this.os={},n=this.browser={},i=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),o=e.match(/(Android);?[\s\/]+([\d.]+)?/),r=e.match(/(iPad).*OS\s([\d_]+)/),a=e.match(/(iPod)(.*OS\s([\d_]+))?/),s=!r&&e.match(/(iPhone\sOS)\s([\d_]+)/),l=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),d=l&&e.match(/TouchPad/),c=e.match(/Kindle\/([\d.]+)/),h=e.match(/Silk\/([\d._]+)/),u=e.match(/(BlackBerry).*Version\/([\d.]+)/),p=e.match(/(BB10).*Version\/([\d.]+)/),m=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),f=e.match(/PlayBook/),g=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),v=e.match(/Firefox\/([\d.]+)/),y=e.match(/MSIE ([\d.]+)/),b=i&&e.match(/Mobile\//)&&!g,_=e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!g,y=e.match(/MSIE\s([\d.]+)/);return(n.webkit=!!i)&&(n.version=i[1]),o&&(t.android=!0,t.version=o[2]),s&&!a&&(t.ios=t.iphone=!0,t.version=s[2].replace(/_/g,".")),r&&(t.ios=t.ipad=!0,t.version=r[2].replace(/_/g,".")),a&&(t.ios=t.ipod=!0,t.version=a[3]?a[3].replace(/_/g,"."):null),l&&(t.webos=!0,t.version=l[2]),d&&(t.touchpad=!0),u&&(t.blackberry=!0,t.version=u[2]),p&&(t.bb10=!0,t.version=p[2]),m&&(t.rimtabletos=!0,t.version=m[2]),f&&(n.playbook=!0),c&&(t.kindle=!0,t.version=c[1]),h&&(n.silk=!0,n.version=h[1]),!h&&t.android&&e.match(/Kindle Fire/)&&(n.silk=!0),g&&(n.chrome=!0,n.version=g[1]),v&&(n.firefox=!0,n.version=v[1]),y&&(n.ie=!0,n.version=y[1]),b&&(e.match(/Safari/)||t.ios)&&(n.safari=!0),_&&(n.webview=!0),y&&(n.ie=!0,n.version=y[1]),t.tablet=!!(r||f||o&&!e.match(/Mobile/)||v&&e.match(/Tablet/)||y&&!e.match(/Phone/)&&e.match(/Touch/)),t.phone=!(t.tablet||t.ipod||!(o||s||l||u||p||g&&e.match(/Android/)||g&&e.match(/CriOS\/([\d.]+)/)||v&&e.match(/Mobile/)||y&&e.match(/Touch/))),{browser:n,os:t,canvasSupported:document.createElement("canvas").getContext?!0:!1}}return e(navigator.userAgent)}),n("zrender/zrender",["require","./dep/excanvas","./tool/util","./tool/log","./tool/guid","./Handler","./Painter","./Storage","./animation/Animation","./tool/env"],function(e){function t(e){return function(){e._needsRefreshNextFrame&&e.refresh()}}e("./dep/excanvas");var n=e("./tool/util"),i=e("./tool/log"),o=e("./tool/guid"),r=e("./Handler"),a=e("./Painter"),s=e("./Storage"),l=e("./animation/Animation"),d={},c={};c.version="2.1.1",c.init=function(e){var t=new h(o(),e);return d[t.id]=t,t},c.dispose=function(e){if(e)e.dispose();else{for(var t in d)d[t].dispose();d={}}return c},c.getInstance=function(e){return d[e]},c.delInstance=function(e){return delete d[e],c};var h=function(n,i){this.id=n,this.env=e("./tool/env"),this.storage=new s,this.painter=new a(i,this.storage),this.handler=new r(i,this.storage,this.painter),this.animation=new l({stage:{update:t(this)}}),this.animation.start();var o=this;this.painter.refreshNextFrame=function(){o.refreshNextFrame()},this._needsRefreshNextFrame=!1;var o=this,d=this.storage,c=d.delFromMap;d.delFromMap=function(e){var t=d.get(e);o.stopAnimation(t),c.call(d,e)}};return h.prototype.getId=function(){return this.id},h.prototype.addShape=function(e){return this.addElement(e),this},h.prototype.addGroup=function(e){return this.addElement(e),this},h.prototype.delShape=function(e){return this.delElement(e),this},h.prototype.delGroup=function(e){return this.delElement(e),this},h.prototype.modShape=function(e,t){return this.modElement(e,t),this},h.prototype.modGroup=function(e,t){return this.modElement(e,t),this},h.prototype.addElement=function(e){return this.storage.addRoot(e),this._needsRefreshNextFrame=!0,this},h.prototype.delElement=function(e){return this.storage.delRoot(e),this._needsRefreshNextFrame=!0,this},h.prototype.modElement=function(e,t){return this.storage.mod(e,t),this._needsRefreshNextFrame=!0,this},h.prototype.modLayer=function(e,t){return this.painter.modLayer(e,t),this._needsRefreshNextFrame=!0,this},h.prototype.addHoverShape=function(e){return this.storage.addHover(e),this},h.prototype.render=function(e){return this.painter.render(e),this._needsRefreshNextFrame=!1,this},h.prototype.refresh=function(e){return this.painter.refresh(e),this._needsRefreshNextFrame=!1,this},h.prototype.refreshNextFrame=function(){return this._needsRefreshNextFrame=!0,this},h.prototype.refreshHover=function(e){return this.painter.refreshHover(e),this},h.prototype.refreshShapes=function(e,t){return this.painter.refreshShapes(e,t),this},h.prototype.resize=function(){return this.painter.resize(),this},h.prototype.animate=function(e,t,o){var r=this;if("string"==typeof e&&(e=this.storage.get(e)),e){var a;if(t){for(var s=t.split("."),l=e,d=0,c=s.length;c>d;d++)l&&(l=l[s[d]]);l&&(a=l)}else a=e;if(!a)return void i('Property "'+t+'" is not existed in element '+e.id);null==e.__animators&&(e.__animators=[]);var h=e.__animators,u=this.animation.animate(a,{loop:o}).during(function(){r.modShape(e)}).done(function(){var t=n.indexOf(e.__animators,u);t>=0&&h.splice(t,1)});return h.push(u),u}i("Element not existed")},h.prototype.stopAnimation=function(e){if(e.__animators){for(var t=e.__animators,n=t.length,i=0;n>i;i++)t[i].stop();t.length=0}return this},h.prototype.clearAnimation=function(){return this.animation.clear(),this},h.prototype.showLoading=function(e){return this.painter.showLoading(e),this},h.prototype.hideLoading=function(){return this.painter.hideLoading(),this},h.prototype.getWidth=function(){return this.painter.getWidth()},h.prototype.getHeight=function(){return this.painter.getHeight()},h.prototype.toDataURL=function(e,t,n){return this.painter.toDataURL(e,t,n)},h.prototype.shapeToImage=function(e,t,n){var i=o();return this.painter.shapeToImage(i,e,t,n)},h.prototype.on=function(e,t,n){return this.handler.on(e,t,n),this},h.prototype.un=function(e,t){return this.handler.un(e,t),this},h.prototype.trigger=function(e,t){return this.handler.trigger(e,t),this},h.prototype.clear=function(){return this.storage.delRoot(),this.painter.clear(),this},h.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,c.delInstance(this.id)},c}),n("echarts/chart/island",["require","./base","zrender/shape/Circle","../config","../util/ecData","zrender/tool/util","zrender/tool/event","zrender/tool/color","../util/accMath","../chart"],function(e){function t(e,t,i,o,a){n.call(this,e,t,i,o,a),this._nameConnector,this._valueConnector,this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth();var l=this;l.shapeHandler.onmousewheel=function(e){var t=e.target,n=e.event,i=s.getDelta(n);i=i>0?-1:1,t.style.r-=i,t.style.r=t.style.r<5?5:t.style.r;var o=r.get(t,"value"),a=o*l.option.island.calculateStep;o=a>1?Math.round(o-a*i):+(o-a*i).toFixed(2);var d=r.get(t,"name");t.style.text=d+":"+o,r.set(t,"value",o),r.set(t,"name",d),l.zr.modShape(t.id),l.zr.refreshNextFrame(),s.stop(n)}}var n=e("./base"),i=e("zrender/shape/Circle"),o=e("../config");o.island={zlevel:0,z:5,r:15,calculateStep:.1};var r=e("../util/ecData"),a=e("zrender/tool/util"),s=e("zrender/tool/event");return t.prototype={type:o.CHART_TYPE_ISLAND,_combine:function(t,n){var i=e("zrender/tool/color"),o=e("../util/accMath"),a=o.accAdd(r.get(t,"value"),r.get(n,"value")),s=r.get(t,"name")+this._nameConnector+r.get(n,"name");t.style.text=s+this._valueConnector+a,r.set(t,"value",a),r.set(t,"name",s),t.style.r=this.option.island.r,t.style.color=i.mix(t.style.color,n.style.color)},refresh:function(e){e&&(e.island=this.reformOption(e.island),this.option=e,this._nameConnector=this.option.nameConnector,this._valueConnector=this.option.valueConnector)},getOption:function(){return this.option},resize:function(){var e=this.zr.getWidth(),t=this.zr.getHeight(),n=e/(this._zrWidth||e),i=t/(this._zrHeight||t);if(1!==n||1!==i){this._zrWidth=e,this._zrHeight=t;for(var o=0,r=this.shapeList.length;r>o;o++)this.zr.modShape(this.shapeList[o].id,{style:{x:Math.round(this.shapeList[o].style.x*n),y:Math.round(this.shapeList[o].style.y*i)}})}},add:function(e){var t=r.get(e,"name"),n=r.get(e,"value"),o=null!=r.get(e,"series")?r.get(e,"series").name:"",a=this.getFont(this.option.island.textStyle),s=this.option.island,l={zlevel:s.zlevel,z:s.z,style:{x:e.style.x,y:e.style.y,r:this.option.island.r,color:e.style.color||e.style.strokeColor,text:t+this._valueConnector+n,textFont:a},draggable:!0,hoverable:!0,onmousewheel:this.shapeHandler.onmousewheel,_type:"island"};"#fff"===l.style.color&&(l.style.color=e.style.strokeColor),this.setCalculable(l),l.dragEnableTime=0,r.pack(l,{name:o},-1,n,-1,t),l=new i(l),this.shapeList.push(l),this.zr.addShape(l)},del:function(e){this.zr.delShape(e.id);for(var t=[],n=0,i=this.shapeList.length;i>n;n++)this.shapeList[n].id!=e.id&&t.push(this.shapeList[n]);this.shapeList=t},ondrop:function(e,t){if(this.isDrop&&e.target){var n=e.target,i=e.dragged;this._combine(n,i),this.zr.modShape(n.id),t.dragIn=!0,this.isDrop=!1}},ondragend:function(e,t){var n=e.target;this.isDragend?t.dragIn&&(this.del(n),t.needRefresh=!0):t.dragIn||(n.style.x=s.getX(e.event),n.style.y=s.getY(e.event),this.add(n),t.needRefresh=!0),this.isDragend=!1}},a.inherits(t,n),e("../chart").define("island",t),t}),n("zrender/config",[],function(){var e={EVENT:{RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},elementClassName:"zr-element",catchBrushException:!1,debugMode:0,devicePixelRatio:Math.max(window.devicePixelRatio||1,1)};return e}),n("echarts/component/toolbox",["require","./base","zrender/shape/Line","zrender/shape/Image","zrender/shape/Rectangle","../util/shape/Icon","../config","zrender/tool/util","zrender/config","zrender/tool/event","./dataView","../component"],function(e){function t(e,t,i,o,r){n.call(this,e,t,i,o,r),this.dom=r.dom,this._magicType={},this._magicMap={},this._isSilence=!1,this._iconList,this._iconShapeMap={},this._featureTitle={},this._featureIcon={},this._featureColor={},this._featureOption={},this._enableColor="red",this._disableColor="#ccc",this._markShapeList=[];var a=this;a._onMark=function(e){a.__onMark(e)},a._onMarkUndo=function(e){a.__onMarkUndo(e)},a._onMarkClear=function(e){a.__onMarkClear(e)},a._onDataZoom=function(e){a.__onDataZoom(e)},a._onDataZoomReset=function(e){a.__onDataZoomReset(e)},a._onDataView=function(e){a.__onDataView(e)},a._onRestore=function(e){a.__onRestore(e)},a._onSaveAsImage=function(e){a.__onSaveAsImage(e)},a._onMagicType=function(e){a.__onMagicType(e)},a._onCustomHandler=function(e){a.__onCustomHandler(e)},a._onmousemove=function(e){return a.__onmousemove(e)},a._onmousedown=function(e){return a.__onmousedown(e)},a._onmouseup=function(e){return a.__onmouseup(e)},a._onclick=function(e){return a.__onclick(e)}}var n=e("./base"),i=e("zrender/shape/Line"),o=e("zrender/shape/Image"),r=e("zrender/shape/Rectangle"),a=e("../util/shape/Icon"),s=e("../config");s.toolbox={zlevel:0,z:6,show:!1,orient:"horizontal",x:"right",y:"top",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],disableColor:"#ddd",effectiveColor:"red",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemSize:16,showTitle:!0,feature:{mark:{show:!1,title:{mark:"",markUndo:"",markClear:""},lineStyle:{width:1,color:"#1e90ff",type:"dashed"}},dataZoom:{show:!1,title:{dataZoom:"",dataZoomReset:""}},dataView:{show:!1,title:"",readOnly:!1,lang:["","",""]},magicType:{show:!1,title:{line:"",bar:"",stack:"",tiled:"",force:"",chord:"",pie:"",funnel:""},type:[]},restore:{show:!1,title:""},saveAsImage:{show:!1,title:"",type:"png",lang:[""]}}};var l=e("zrender/tool/util"),d=e("zrender/config"),c=e("zrender/tool/event"),h="stack",u="tiled";return t.prototype={type:s.COMPONENT_TYPE_TOOLBOX,_buildShape:function(){this._iconList=[];var e=this.option.toolbox;this._enableColor=e.effectiveColor,this._disableColor=e.disableColor;var t=e.feature,n=[];for(var i in t)if(t[i].show)switch(i){case"mark":n.push({key:i,name:"mark"}),n.push({key:i,name:"markUndo"}),n.push({key:i,name:"markClear"
});break;case"magicType":for(var o=0,r=t[i].type.length;r>o;o++)t[i].title[t[i].type[o]+"Chart"]=t[i].title[t[i].type[o]],t[i].option&&(t[i].option[t[i].type[o]+"Chart"]=t[i].option[t[i].type[o]]),n.push({key:i,name:t[i].type[o]+"Chart"});break;case"dataZoom":n.push({key:i,name:"dataZoom"}),n.push({key:i,name:"dataZoomReset"});break;case"saveAsImage":this.canvasSupported&&n.push({key:i,name:"saveAsImage"});break;default:n.push({key:i,name:i})}if(n.length>0){for(var a,i,o=0,r=n.length;r>o;o++)a=n[o].name,i=n[o].key,this._iconList.push(a),this._featureTitle[a]=t[i].title[a]||t[i].title,t[i].icon&&(this._featureIcon[a]=t[i].icon[a]||t[i].icon),t[i].color&&(this._featureColor[a]=t[i].color[a]||t[i].color),t[i].option&&(this._featureOption[a]=t[i].option[a]||t[i].option);this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var o=0,r=this.shapeList.length;r>o;o++)this.zr.addShape(this.shapeList[o]);this._iconShapeMap.mark&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear)),this._iconShapeMap.dataZoomReset&&0===this._zoomQueue.length&&this._iconDisable(this._iconShapeMap.dataZoomReset)}},_buildItem:function(){var t,n,i,r,s=this.option.toolbox,l=this._iconList.length,d=this._itemGroupLocation.x,c=this._itemGroupLocation.y,h=s.itemSize,u=s.itemGap,p=s.color instanceof Array?s.color:[s.color],m=this.getFont(s.textStyle);"horizontal"===s.orient?(n=this._itemGroupLocation.y/this.zr.getHeight()<.5?"bottom":"top",i=this._itemGroupLocation.x/this.zr.getWidth()<.5?"left":"right",r=this._itemGroupLocation.y/this.zr.getHeight()<.5?"top":"bottom"):n=this._itemGroupLocation.x/this.zr.getWidth()<.5?"right":"left",this._iconShapeMap={};for(var f=this,g=0;l>g;g++){switch(t={type:"icon",zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:d,y:c,width:h,height:h,iconType:this._iconList[g],lineWidth:1,strokeColor:this._featureColor[this._iconList[g]]||p[g%p.length],brushType:"stroke"},highlightStyle:{lineWidth:1,text:s.showTitle?this._featureTitle[this._iconList[g]]:void 0,textFont:m,textPosition:n,strokeColor:this._featureColor[this._iconList[g]]||p[g%p.length]},hoverable:!0,clickable:!0},this._featureIcon[this._iconList[g]]&&(t.style.image=this._featureIcon[this._iconList[g]].replace(new RegExp("^image:\\/\\/"),""),t.style.opacity=.8,t.highlightStyle.opacity=1,t.type="image"),"horizontal"===s.orient&&(0===g&&"left"===i&&(t.highlightStyle.textPosition="specific",t.highlightStyle.textAlign=i,t.highlightStyle.textBaseline=r,t.highlightStyle.textX=d,t.highlightStyle.textY="top"===r?c+h+10:c-10),g===l-1&&"right"===i&&(t.highlightStyle.textPosition="specific",t.highlightStyle.textAlign=i,t.highlightStyle.textBaseline=r,t.highlightStyle.textX=d+h,t.highlightStyle.textY="top"===r?c+h+10:c-10)),this._iconList[g]){case"mark":t.onclick=f._onMark;break;case"markUndo":t.onclick=f._onMarkUndo;break;case"markClear":t.onclick=f._onMarkClear;break;case"dataZoom":t.onclick=f._onDataZoom;break;case"dataZoomReset":t.onclick=f._onDataZoomReset;break;case"dataView":if(!this._dataView){var v=e("./dataView");this._dataView=new v(this.ecTheme,this.messageCenter,this.zr,this.option,this.myChart)}t.onclick=f._onDataView;break;case"restore":t.onclick=f._onRestore;break;case"saveAsImage":t.onclick=f._onSaveAsImage;break;default:this._iconList[g].match("Chart")?(t._name=this._iconList[g].replace("Chart",""),t.onclick=f._onMagicType):t.onclick=f._onCustomHandler}"icon"===t.type?t=new a(t):"image"===t.type&&(t=new o(t)),this.shapeList.push(t),this._iconShapeMap[this._iconList[g]]=t,"horizontal"===s.orient?d+=h+u:c+=h+u}},_buildBackground:function(){var e=this.option.toolbox,t=this.reformCssArray(this.option.toolbox.padding);this.shapeList.push(new r({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-t[3],y:this._itemGroupLocation.y-t[0],width:this._itemGroupLocation.width+t[3]+t[1],height:this._itemGroupLocation.height+t[0]+t[2],brushType:0===e.borderWidth?"fill":"both",color:e.backgroundColor,strokeColor:e.borderColor,lineWidth:e.borderWidth}}))},_getItemGroupLocation:function(){var e=this.option.toolbox,t=this.reformCssArray(this.option.toolbox.padding),n=this._iconList.length,i=e.itemGap,o=e.itemSize,r=0,a=0;"horizontal"===e.orient?(r=(o+i)*n-i,a=o):(a=(o+i)*n-i,r=o);var s,l=this.zr.getWidth();switch(e.x){case"center":s=Math.floor((l-r)/2);break;case"left":s=t[3]+e.borderWidth;break;case"right":s=l-r-t[1]-e.borderWidth;break;default:s=e.x-0,s=isNaN(s)?0:s}var d,c=this.zr.getHeight();switch(e.y){case"top":d=t[0]+e.borderWidth;break;case"bottom":d=c-a-t[2]-e.borderWidth;break;case"center":d=Math.floor((c-a)/2);break;default:d=e.y-0,d=isNaN(d)?0:d}return{x:s,y:d,width:r,height:a}},__onmousemove:function(e){this._marking&&(this._markShape.style.xEnd=c.getX(e.event),this._markShape.style.yEnd=c.getY(e.event),this.zr.addHoverShape(this._markShape)),this._zooming&&(this._zoomShape.style.width=c.getX(e.event)-this._zoomShape.style.x,this._zoomShape.style.height=c.getY(e.event)-this._zoomShape.style.y,this.zr.addHoverShape(this._zoomShape),this.dom.style.cursor="crosshair",c.stop(e.event)),this._zoomStart&&"pointer"!=this.dom.style.cursor&&"move"!=this.dom.style.cursor&&(this.dom.style.cursor="crosshair")},__onmousedown:function(e){if(!e.target){this._zooming=!0;var t=c.getX(e.event),n=c.getY(e.event),i=this.option.dataZoom||{};return this._zoomShape=new r({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:t,y:n,width:1,height:1,brushType:"both"},highlightStyle:{lineWidth:2,color:i.fillerColor||s.dataZoom.fillerColor,strokeColor:i.handleColor||s.dataZoom.handleColor,brushType:"both"}}),this.zr.addHoverShape(this._zoomShape),!0}},__onmouseup:function(){if(!this._zoomShape||Math.abs(this._zoomShape.style.width)<10||Math.abs(this._zoomShape.style.height)<10)return this._zooming=!1,!0;if(this._zooming&&this.component.dataZoom){this._zooming=!1;var e=this.component.dataZoom.rectZoom(this._zoomShape.style);e&&(this._zoomQueue.push({start:e.start,end:e.end,start2:e.start2,end2:e.end2}),this._iconEnable(this._iconShapeMap.dataZoomReset),this.zr.refreshNextFrame())}return!0},__onclick:function(e){if(!e.target)if(this._marking)this._marking=!1,this._markShapeList.push(this._markShape),this._iconEnable(this._iconShapeMap.markUndo),this._iconEnable(this._iconShapeMap.markClear),this.zr.addShape(this._markShape),this.zr.refreshNextFrame();else if(this._markStart){this._marking=!0;var t=c.getX(e.event),n=c.getY(e.event);this._markShape=new i({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{xStart:t,yStart:n,xEnd:t,yEnd:n,lineWidth:this.query(this.option,"toolbox.feature.mark.lineStyle.width"),strokeColor:this.query(this.option,"toolbox.feature.mark.lineStyle.color"),lineType:this.query(this.option,"toolbox.feature.mark.lineStyle.type")}}),this.zr.addHoverShape(this._markShape)}},__onMark:function(e){var t=e.target;if(this._marking||this._markStart)this._resetMark(),this.zr.refreshNextFrame();else{this._resetZoom(),this.zr.modShape(t.id,{style:{strokeColor:this._enableColor}}),this.zr.refreshNextFrame(),this._markStart=!0;var n=this;setTimeout(function(){n.zr&&n.zr.on(d.EVENT.CLICK,n._onclick)&&n.zr.on(d.EVENT.MOUSEMOVE,n._onmousemove)},10)}return!0},__onMarkUndo:function(){if(this._marking)this._marking=!1;else{var e=this._markShapeList.length;if(e>=1){var t=this._markShapeList[e-1];this.zr.delShape(t.id),this.zr.refreshNextFrame(),this._markShapeList.pop(),1===e&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear))}}return!0},__onMarkClear:function(){this._marking&&(this._marking=!1);var e=this._markShapeList.length;if(e>0){for(;e--;)this.zr.delShape(this._markShapeList.pop().id);this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear),this.zr.refreshNextFrame()}return!0},__onDataZoom:function(e){var t=e.target;if(this._zooming||this._zoomStart)this._resetZoom(),this.zr.refreshNextFrame(),this.dom.style.cursor="default";else{this._resetMark(),this.zr.modShape(t.id,{style:{strokeColor:this._enableColor}}),this.zr.refreshNextFrame(),this._zoomStart=!0;var n=this;setTimeout(function(){n.zr&&n.zr.on(d.EVENT.MOUSEDOWN,n._onmousedown)&&n.zr.on(d.EVENT.MOUSEUP,n._onmouseup)&&n.zr.on(d.EVENT.MOUSEMOVE,n._onmousemove)},10),this.dom.style.cursor="crosshair"}return!0},__onDataZoomReset:function(){return this._zooming&&(this._zooming=!1),this._zoomQueue.pop(),this._zoomQueue.length>0?this.component.dataZoom.absoluteZoom(this._zoomQueue[this._zoomQueue.length-1]):(this.component.dataZoom.rectZoom(),this._iconDisable(this._iconShapeMap.dataZoomReset),this.zr.refreshNextFrame()),!0},_resetMark:function(){this._marking=!1,this._markStart&&(this._markStart=!1,this._iconShapeMap.mark&&this.zr.modShape(this._iconShapeMap.mark.id,{style:{strokeColor:this._iconShapeMap.mark.highlightStyle.strokeColor}}),this.zr.un(d.EVENT.CLICK,this._onclick),this.zr.un(d.EVENT.MOUSEMOVE,this._onmousemove))},_resetZoom:function(){this._zooming=!1,this._zoomStart&&(this._zoomStart=!1,this._iconShapeMap.dataZoom&&this.zr.modShape(this._iconShapeMap.dataZoom.id,{style:{strokeColor:this._iconShapeMap.dataZoom.highlightStyle.strokeColor}}),this.zr.un(d.EVENT.MOUSEDOWN,this._onmousedown),this.zr.un(d.EVENT.MOUSEUP,this._onmouseup),this.zr.un(d.EVENT.MOUSEMOVE,this._onmousemove))},_iconDisable:function(e){"image"!=e.type?this.zr.modShape(e.id,{hoverable:!1,clickable:!1,style:{strokeColor:this._disableColor}}):this.zr.modShape(e.id,{hoverable:!1,clickable:!1,style:{opacity:.3}})},_iconEnable:function(e){"image"!=e.type?this.zr.modShape(e.id,{hoverable:!0,clickable:!0,style:{strokeColor:e.highlightStyle.strokeColor}}):this.zr.modShape(e.id,{hoverable:!0,clickable:!0,style:{opacity:.8}})},__onDataView:function(){return this._dataView.show(this.option),!0},__onRestore:function(){return this._resetMark(),this._resetZoom(),this.messageCenter.dispatch(s.EVENT.RESTORE,null,null,this.myChart),!0},__onSaveAsImage:function(){var e=this.option.toolbox.feature.saveAsImage,t=e.type||"png";"png"!=t&&"jpeg"!=t&&(t="png");var n;n=this.myChart.isConnected()?this.myChart.getConnectedDataURL(t):this.zr.toDataURL("image/"+t,this.option.backgroundColor&&"rgba(0,0,0,0)"===this.option.backgroundColor.replace(" ","")?"#fff":this.option.backgroundColor);var i=document.createElement("div");i.id="__echarts_download_wrap__",i.style.cssText="position:fixed;z-index:99999;display:block;top:0;left:0;background-color:rgba(33,33,33,0.5);text-align:center;width:100%;height:100%;line-height:"+document.documentElement.clientHeight+"px;";var o=document.createElement("a");o.href=n,o.setAttribute("download",(e.name?e.name:this.option.title&&(this.option.title.text||this.option.title.subtext)?this.option.title.text||this.option.title.subtext:"ECharts")+"."+t),o.innerHTML='<img style="vertical-align:middle" src="'+n+'" title="'+(window.ActiveXObject||"ActiveXObject"in window?"->":e.lang?e.lang[0]:"")+'"/>',i.appendChild(o),document.body.appendChild(i),o=null,i=null,setTimeout(function(){var e=document.getElementById("__echarts_download_wrap__");e&&(e.onclick=function(){var e=document.getElementById("__echarts_download_wrap__");e.onclick=null,e.innerHTML="",document.body.removeChild(e),e=null},e=null)},500)},__onMagicType:function(e){this._resetMark();var t=e.target._name;return this._magicType[t]||(this._magicType[t]=!0,t===s.CHART_TYPE_LINE?this._magicType[s.CHART_TYPE_BAR]=!1:t===s.CHART_TYPE_BAR&&(this._magicType[s.CHART_TYPE_LINE]=!1),t===s.CHART_TYPE_PIE?this._magicType[s.CHART_TYPE_FUNNEL]=!1:t===s.CHART_TYPE_FUNNEL&&(this._magicType[s.CHART_TYPE_PIE]=!1),t===s.CHART_TYPE_FORCE?this._magicType[s.CHART_TYPE_CHORD]=!1:t===s.CHART_TYPE_CHORD&&(this._magicType[s.CHART_TYPE_FORCE]=!1),t===h?this._magicType[u]=!1:t===u&&(this._magicType[h]=!1),this.messageCenter.dispatch(s.EVENT.MAGIC_TYPE_CHANGED,e.event,{magicType:this._magicType},this.myChart)),!0},setMagicType:function(e){this._resetMark(),this._magicType=e,!this._isSilence&&this.messageCenter.dispatch(s.EVENT.MAGIC_TYPE_CHANGED,null,{magicType:this._magicType},this.myChart)},__onCustomHandler:function(e){var t=e.target.style.iconType,n=this.option.toolbox.feature[t].onclick;"function"==typeof n&&n.call(this,this.option)},reset:function(e,t){if(t&&this.clear(),this.query(e,"toolbox.show")&&this.query(e,"toolbox.feature.magicType.show")){var n=e.toolbox.feature.magicType.type,i=n.length;for(this._magicMap={};i--;)this._magicMap[n[i]]=!0;i=e.series.length;for(var o,r;i--;)o=e.series[i].type,this._magicMap[o]&&(r=e.xAxis instanceof Array?e.xAxis[e.series[i].xAxisIndex||0]:e.xAxis,r&&"category"===(r.type||"category")&&(r.__boundaryGap=null!=r.boundaryGap?r.boundaryGap:!0),r=e.yAxis instanceof Array?e.yAxis[e.series[i].yAxisIndex||0]:e.yAxis,r&&"category"===r.type&&(r.__boundaryGap=null!=r.boundaryGap?r.boundaryGap:!0),e.series[i].__type=o,e.series[i].__itemStyle=l.clone(e.series[i].itemStyle||{})),(this._magicMap[h]||this._magicMap[u])&&(e.series[i].__stack=e.series[i].stack)}this._magicType=t?{}:this._magicType||{};for(var a in this._magicType)if(this._magicType[a]){this.option=e,this.getMagicOption();break}var s=e.dataZoom;if(s&&s.show){var d=null!=s.start&&s.start>=0&&s.start<=100?s.start:0,c=null!=s.end&&s.end>=0&&s.end<=100?s.end:100;d>c&&(d+=c,c=d-c,d-=c),this._zoomQueue=[{start:d,end:c,start2:0,end2:100}]}else this._zoomQueue=[]},getMagicOption:function(){var e,t;if(this._magicType[s.CHART_TYPE_LINE]||this._magicType[s.CHART_TYPE_BAR]){for(var n=this._magicType[s.CHART_TYPE_LINE]?!1:!0,i=0,o=this.option.series.length;o>i;i++)t=this.option.series[i].type,(t==s.CHART_TYPE_LINE||t==s.CHART_TYPE_BAR)&&(e=this.option.xAxis instanceof Array?this.option.xAxis[this.option.series[i].xAxisIndex||0]:this.option.xAxis,e&&"category"===(e.type||"category")&&(e.boundaryGap=n?!0:e.__boundaryGap),e=this.option.yAxis instanceof Array?this.option.yAxis[this.option.series[i].yAxisIndex||0]:this.option.yAxis,e&&"category"===e.type&&(e.boundaryGap=n?!0:e.__boundaryGap));this._defaultMagic(s.CHART_TYPE_LINE,s.CHART_TYPE_BAR)}if(this._defaultMagic(s.CHART_TYPE_CHORD,s.CHART_TYPE_FORCE),this._defaultMagic(s.CHART_TYPE_PIE,s.CHART_TYPE_FUNNEL),this._magicType[h]||this._magicType[u])for(var i=0,o=this.option.series.length;o>i;i++)this._magicType[h]?(this.option.series[i].stack="_ECHARTS_STACK_KENER_2014_",t=h):this._magicType[u]&&(this.option.series[i].stack=null,t=u),this._featureOption[t+"Chart"]&&l.merge(this.option.series[i],this._featureOption[t+"Chart"]||{},!0);return this.option},_defaultMagic:function(e,t){if(this._magicType[e]||this._magicType[t])for(var n=0,i=this.option.series.length;i>n;n++){var o=this.option.series[n].type;(o==e||o==t)&&(this.option.series[n].type=this._magicType[e]?e:t,this.option.series[n].itemStyle=l.clone(this.option.series[n].__itemStyle),o=this.option.series[n].type,this._featureOption[o+"Chart"]&&l.merge(this.option.series[n],this._featureOption[o+"Chart"]||{},!0))}},silence:function(e){this._isSilence=e},resize:function(){this._resetMark(),this.clear(),this.option&&this.option.toolbox&&this.option.toolbox.show&&this._buildShape(),this._dataView&&this._dataView.resize()},hideDataView:function(){this._dataView&&this._dataView.hide()},clear:function(e){this.zr&&(this.zr.delShape(this.shapeList),this.shapeList=[],e||(this.zr.delShape(this._markShapeList),this._markShapeList=[]))},onbeforDispose:function(){this._dataView&&(this._dataView.dispose(),this._dataView=null),this._markShapeList=null},refresh:function(e){e&&(this._resetMark(),this._resetZoom(),e.toolbox=this.reformOption(e.toolbox),this.option=e,this.clear(!0),e.toolbox.show&&this._buildShape(),this.hideDataView())}},l.inherits(t,n),e("../component").define("toolbox",t),t}),n("echarts/component",[],function(){var e={},t={};return e.define=function(n,i){return t[n]=i,e},e.get=function(e){return t[e]},e}),n("echarts/component/title",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","zrender/tool/color","../component"],function(e){function t(e,t,i,o,r){n.call(this,e,t,i,o,r),this.refresh(o)}var n=e("./base"),i=e("zrender/shape/Text"),o=e("zrender/shape/Rectangle"),r=e("../config");r.title={zlevel:0,z:6,show:!0,text:"",subtext:"",x:"left",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:5,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}};var a=e("zrender/tool/util"),s=e("zrender/tool/area"),l=e("zrender/tool/color");return t.prototype={type:r.COMPONENT_TYPE_TITLE,_buildShape:function(){if(this.titleOption.show){this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var e=0,t=this.shapeList.length;t>e;e++)this.zr.addShape(this.shapeList[e])}},_buildItem:function(){var e=this.titleOption.text,t=this.titleOption.link,n=this.titleOption.target,o=this.titleOption.subtext,r=this.titleOption.sublink,a=this.titleOption.subtarget,s=this.getFont(this.titleOption.textStyle),d=this.getFont(this.titleOption.subtextStyle),c=this._itemGroupLocation.x,h=this._itemGroupLocation.y,u=this._itemGroupLocation.width,p=this._itemGroupLocation.height,m={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:h,color:this.titleOption.textStyle.color,text:e,textFont:s,textBaseline:"top"},highlightStyle:{color:l.lift(this.titleOption.textStyle.color,1),brushType:"fill"},hoverable:!1};t&&(m.hoverable=!0,m.clickable=!0,m.onclick=function(){n&&"self"==n?window.location=t:window.open(t)});var f={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:h+p,color:this.titleOption.subtextStyle.color,text:o,textFont:d,textBaseline:"bottom"},highlightStyle:{color:l.lift(this.titleOption.subtextStyle.color,1),brushType:"fill"},hoverable:!1};switch(r&&(f.hoverable=!0,f.clickable=!0,f.onclick=function(){a&&"self"==a?window.location=r:window.open(r)}),this.titleOption.x){case"center":m.style.x=f.style.x=c+u/2,m.style.textAlign=f.style.textAlign="center";break;case"left":m.style.x=f.style.x=c,m.style.textAlign=f.style.textAlign="left";break;case"right":m.style.x=f.style.x=c+u,m.style.textAlign=f.style.textAlign="right";break;default:c=this.titleOption.x-0,c=isNaN(c)?0:c,m.style.x=f.style.x=c}this.titleOption.textAlign&&(m.style.textAlign=f.style.textAlign=this.titleOption.textAlign),this.shapeList.push(new i(m)),""!==o&&this.shapeList.push(new i(f))},_buildBackground:function(){var e=this.reformCssArray(this.titleOption.padding);this.shapeList.push(new o({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-e[3],y:this._itemGroupLocation.y-e[0],width:this._itemGroupLocation.width+e[3]+e[1],height:this._itemGroupLocation.height+e[0]+e[2],brushType:0===this.titleOption.borderWidth?"fill":"both",color:this.titleOption.backgroundColor,strokeColor:this.titleOption.borderColor,lineWidth:this.titleOption.borderWidth}}))},_getItemGroupLocation:function(){var e,t=this.reformCssArray(this.titleOption.padding),n=this.titleOption.text,i=this.titleOption.subtext,o=this.getFont(this.titleOption.textStyle),r=this.getFont(this.titleOption.subtextStyle),a=Math.max(s.getTextWidth(n,o),s.getTextWidth(i,r)),l=s.getTextHeight(n,o)+(""===i?0:this.titleOption.itemGap+s.getTextHeight(i,r)),d=this.zr.getWidth();switch(this.titleOption.x){case"center":e=Math.floor((d-a)/2);break;case"left":e=t[3]+this.titleOption.borderWidth;break;case"right":e=d-a-t[1]-this.titleOption.borderWidth;break;default:e=this.titleOption.x-0,e=isNaN(e)?0:e}var c,h=this.zr.getHeight();switch(this.titleOption.y){case"top":c=t[0]+this.titleOption.borderWidth;break;case"bottom":c=h-l-t[2]-this.titleOption.borderWidth;break;case"center":c=Math.floor((h-l)/2);break;default:c=this.titleOption.y-0,c=isNaN(c)?0:c}return{x:e,y:c,width:a,height:l}},refresh:function(e){e&&(this.option=e,this.option.title=this.reformOption(this.option.title),this.titleOption=this.option.title,this.titleOption.textStyle=this.getTextStyle(this.titleOption.textStyle),this.titleOption.subtextStyle=this.getTextStyle(this.titleOption.subtextStyle)),this.clear(),this._buildShape()}},a.inherits(t,n),e("../component").define("title",t),t}),n("echarts/component/tooltip",["require","./base","../util/shape/Cross","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/ecData","zrender/config","zrender/tool/event","zrender/tool/area","zrender/tool/color","zrender/tool/util","zrender/shape/Base","../component"],function(e){function t(e,t,r,a,s){n.call(this,e,t,r,a,s),this.dom=s.dom;var l=this;l._onmousemove=function(e){return l.__onmousemove(e)},l._onglobalout=function(e){return l.__onglobalout(e)},this.zr.on(d.EVENT.MOUSEMOVE,l._onmousemove),this.zr.on(d.EVENT.GLOBALOUT,l._onglobalout),l._hide=function(e){return l.__hide(e)},l._tryShow=function(e){return l.__tryShow(e)},l._refixed=function(e){return l.__refixed(e)},l._setContent=function(e,t){return l.__setContent(e,t)},this._tDom=this._tDom||document.createElement("div"),this._tDom.onselectstart=function(){return!1},this._tDom.onmouseover=function(){l._mousein=!0},this._tDom.onmouseout=function(){l._mousein=!1},this._tDom.className="echarts-tooltip",this._tDom.style.position="absolute",this.hasAppend=!1,this._axisLineShape&&this.zr.delShape(this._axisLineShape.id),this._axisLineShape=new o({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:!0,hoverable:!1}),this.shapeList.push(this._axisLineShape),this.zr.addShape(this._axisLineShape),this._axisShadowShape&&this.zr.delShape(this._axisShadowShape.id),this._axisShadowShape=new o({zlevel:this.getZlevelBase(),z:1,invisible:!0,hoverable:!1}),this.shapeList.push(this._axisShadowShape),this.zr.addShape(this._axisShadowShape),this._axisCrossShape&&this.zr.delShape(this._axisCrossShape.id),this._axisCrossShape=new i({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:!0,hoverable:!1}),this.shapeList.push(this._axisCrossShape),this.zr.addShape(this._axisCrossShape),this.showing=!1,this.refresh(a)}var n=e("./base"),i=e("../util/shape/Cross"),o=e("zrender/shape/Line"),r=e("zrender/shape/Rectangle"),a=new r({}),s=e("../config");s.tooltip={zlevel:1,z:8,show:!0,showContent:!0,trigger:"item",islandFormatter:"{a} <br/>{b} : {c}",showDelay:20,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(0,0,0,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,axisPointer:{type:"line",lineStyle:{color:"#48b",width:2,type:"solid"},crossStyle:{color:"#1e90ff",width:1,type:"dashed"},shadowStyle:{color:"rgba(150,150,150,0.3)",width:"auto",type:"default"}},textStyle:{color:"#fff"}};var l=e("../util/ecData"),d=e("zrender/config"),c=e("zrender/tool/event"),h=e("zrender/tool/area"),u=e("zrender/tool/color"),p=e("zrender/tool/util"),m=e("zrender/shape/Base");return t.prototype={type:s.COMPONENT_TYPE_TOOLTIP,_gCssText:"position:absolute;display:block;border-style:solid;white-space:nowrap;",_style:function(e){if(!e)return"";var t=[];if(e.transitionDuration){var n="left "+e.transitionDuration+"s,top "+e.transitionDuration+"s";t.push("transition:"+n),t.push("-moz-transition:"+n),t.push("-webkit-transition:"+n),t.push("-o-transition:"+n)}e.backgroundColor&&(t.push("background-Color:"+u.toHex(e.backgroundColor)),t.push("filter:alpha(opacity=70)"),t.push("background-Color:"+e.backgroundColor)),null!=e.borderWidth&&t.push("border-width:"+e.borderWidth+"px"),null!=e.borderColor&&t.push("border-color:"+e.borderColor),null!=e.borderRadius&&(t.push("border-radius:"+e.borderRadius+"px"),t.push("-moz-border-radius:"+e.borderRadius+"px"),t.push("-webkit-border-radius:"+e.borderRadius+"px"),t.push("-o-border-radius:"+e.borderRadius+"px"));var i=e.textStyle;i&&(i.color&&t.push("color:"+i.color),i.decoration&&t.push("text-decoration:"+i.decoration),i.align&&t.push("text-align:"+i.align),i.fontFamily&&t.push("font-family:"+i.fontFamily),i.fontSize&&t.push("font-size:"+i.fontSize+"px"),i.fontSize&&t.push("line-height:"+Math.round(3*i.fontSize/2)+"px"),i.fontStyle&&t.push("font-style:"+i.fontStyle),i.fontWeight&&t.push("font-weight:"+i.fontWeight));var o=e.padding;return null!=o&&(o=this.reformCssArray(o),t.push("padding:"+o[0]+"px "+o[1]+"px "+o[2]+"px "+o[3]+"px")),t=t.join(";")+";"},__hide:function(){this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId=-1,this._tDom&&(this._tDom.style.display="none");var e=!1;this._axisLineShape.invisible||(this._axisLineShape.invisible=!0,this.zr.modShape(this._axisLineShape.id),e=!0),this._axisShadowShape.invisible||(this._axisShadowShape.invisible=!0,this.zr.modShape(this._axisShadowShape.id),e=!0),this._axisCrossShape.invisible||(this._axisCrossShape.invisible=!0,this.zr.modShape(this._axisCrossShape.id),e=!0),this._lastTipShape&&this._lastTipShape.tipShape.length>0&&(this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2),e&&this.zr.refreshNextFrame(),this.showing=!1},_show:function(e,t,n,i){var o=this._tDom.offsetHeight,r=this._tDom.offsetWidth;e&&("function"==typeof e&&(e=e([t,n])),e instanceof Array&&(t=e[0],n=e[1])),t+r>this._zrWidth&&(t-=r+40),n+o>this._zrHeight&&(n-=o-20),20>n&&(n=0),this._tDom.style.cssText=this._gCssText+this._defaultCssText+(i?i:"")+"left:"+t+"px;top:"+n+"px;",(10>o||10>r)&&setTimeout(this._refixed,20),this.showing=!0},__refixed:function(){if(this._tDom){var e="",t=this._tDom.offsetHeight,n=this._tDom.offsetWidth;this._tDom.offsetLeft+n>this._zrWidth&&(e+="left:"+(this._zrWidth-n-20)+"px;"),this._tDom.offsetTop+t>this._zrHeight&&(e+="top:"+(this._zrHeight-t-10)+"px;"),""!==e&&(this._tDom.style.cssText+=e)}},__tryShow:function(){var e,t;if(this._curTarget){if("island"===this._curTarget._type&&this.option.tooltip.show)return void this._showItemTrigger();var n=l.get(this._curTarget,"series"),i=l.get(this._curTarget,"data");e=this.deepQuery([i,n,this.option],"tooltip.show"),null!=n&&null!=i&&e?(t=this.deepQuery([i,n,this.option],"tooltip.trigger"),"axis"===t?this._showAxisTrigger(n.xAxisIndex,n.yAxisIndex,l.get(this._curTarget,"dataIndex")):this._showItemTrigger()):(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}else this._findPolarTrigger()||this._findAxisTrigger()},_findAxisTrigger:function(){if(!this.component.xAxis||!this.component.yAxis)return void(this._hidingTicket=setTimeout(this._hide,this._hideDelay));for(var e,t,n=this.option.series,i=0,o=n.length;o>i;i++)if("axis"===this.deepQuery([n[i],this.option],"tooltip.trigger"))return e=n[i].xAxisIndex||0,t=n[i].yAxisIndex||0,this.component.xAxis.getAxis(e)&&this.component.xAxis.getAxis(e).type===s.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(e,t,this._getNearestDataIndex("x",this.component.xAxis.getAxis(e))):this.component.yAxis.getAxis(t)&&this.component.yAxis.getAxis(t).type===s.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(e,t,this._getNearestDataIndex("y",this.component.yAxis.getAxis(t))):void this._showAxisTrigger(e,t,-1);"cross"===this.option.tooltip.axisPointer.type&&this._showAxisTrigger(-1,-1,-1)},_findPolarTrigger:function(){if(!this.component.polar)return!1;var e,t=c.getX(this._event),n=c.getY(this._event),i=this.component.polar.getNearestIndex([t,n]);return i?(e=i.valueIndex,i=i.polarIndex):i=-1,-1!=i?this._showPolarTrigger(i,e):!1},_getNearestDataIndex:function(e,t){var n=-1,i=c.getX(this._event),o=c.getY(this._event);if("x"===e){for(var r,a,s=this.component.grid.getXend(),l=t.getCoordByIndex(n);s>l&&(a=l,i>=l);)r=l,l=t.getCoordByIndex(++n);return 0>=n?n=0:a-i>=i-r?n-=1:null==t.getNameByIndex(n)&&(n-=1),n}for(var d,h,u=this.component.grid.getY(),l=t.getCoordByIndex(n);l>u&&(d=l,l>=o);)h=l,l=t.getCoordByIndex(++n);return 0>=n?n=0:o-d>=h-o?n-=1:null==t.getNameByIndex(n)&&(n-=1),n},_showAxisTrigger:function(e,t,n){if(!this._event.connectTrigger&&this.messageCenter.dispatch(s.EVENT.TOOLTIP_IN_GRID,this._event,null,this.myChart),null==this.component.xAxis||null==this.component.yAxis||null==e||null==t)return clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),void(this._hidingTicket=setTimeout(this._hide,this._hideDelay));var i,o,r,a,l=this.option.series,d=[],h=[],u="";if("axis"===this.option.tooltip.trigger){if(!this.option.tooltip.show)return;o=this.option.tooltip.formatter,r=this.option.tooltip.position}var p,m,f=-1!=e&&this.component.xAxis.getAxis(e).type===s.COMPONENT_TYPE_AXIS_CATEGORY?"xAxis":-1!=t&&this.component.yAxis.getAxis(t).type===s.COMPONENT_TYPE_AXIS_CATEGORY?"yAxis":!1;if(f){var g="xAxis"==f?e:t;i=this.component[f].getAxis(g);for(var v=0,y=l.length;y>v;v++)this._isSelected(l[v].name)&&l[v][f+"Index"]===g&&"axis"===this.deepQuery([l[v],this.option],"tooltip.trigger")&&(a=this.query(l[v],"tooltip.showContent")||a,o=this.query(l[v],"tooltip.formatter")||o,r=this.query(l[v],"tooltip.position")||r,u+=this._style(this.query(l[v],"tooltip")),null!=l[v].stack&&"xAxis"==f?(d.unshift(l[v]),h.unshift(v)):(d.push(l[v]),h.push(v)));this.messageCenter.dispatch(s.EVENT.TOOLTIP_HOVER,this._event,{seriesIndex:h,dataIndex:n},this.myChart);var b;"xAxis"==f?(p=this.subPixelOptimize(i.getCoordByIndex(n),this._axisLineWidth),m=c.getY(this._event),b=[p,this.component.grid.getY(),p,this.component.grid.getYend()]):(p=c.getX(this._event),m=this.subPixelOptimize(i.getCoordByIndex(n),this._axisLineWidth),b=[this.component.grid.getX(),m,this.component.grid.getXend(),m]),this._styleAxisPointer(d,b[0],b[1],b[2],b[3],i.getGap(),p,m)}else p=c.getX(this._event),m=c.getY(this._event),this._styleAxisPointer(l,this.component.grid.getX(),m,this.component.grid.getXend(),m,0,p,m),n>=0?this._showItemTrigger(!0):(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._tDom.style.display="none");if(d.length>0){if(this._lastItemTriggerId=-1,this._lastDataIndex!=n||this._lastSeriesIndex!=h[0]){this._lastDataIndex=n,this._lastSeriesIndex=h[0];var _,x;if("function"==typeof o){for(var E=[],v=0,y=d.length;y>v;v++)_=d[v].data[n],x=this.getDataFromOption(_,"-"),E.push({seriesIndex:h[v],seriesName:d[v].name||"",series:d[v],dataIndex:n,data:_,name:i.getNameByIndex(n),value:x,0:d[v].name||"",1:i.getNameByIndex(n),2:x,3:_});this._curTicket="axis:"+n,this._tDom.innerHTML=o.call(this.myChart,E,this._curTicket,this._setContent)}else if("string"==typeof o){this._curTicket=NaN,o=o.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");for(var v=0,y=d.length;y>v;v++)o=o.replace("{a"+v+"}",this._encodeHTML(d[v].name||"")),o=o.replace("{b"+v+"}",this._encodeHTML(i.getNameByIndex(n))),_=d[v].data[n],_=this.getDataFromOption(_,"-"),o=o.replace("{c"+v+"}",_ instanceof Array?_:this.numAddCommas(_));this._tDom.innerHTML=o}else{this._curTicket=NaN,o=this._encodeHTML(i.getNameByIndex(n));for(var v=0,y=d.length;y>v;v++)o+="<br/>"+this._encodeHTML(d[v].name||"")+" : ",_=d[v].data[n],_=this.getDataFromOption(_,"-"),o+=_ instanceof Array?_:this.numAddCommas(_);this._tDom.innerHTML=o}}if(a===!1||!this.option.tooltip.showContent)return;this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(r,p+10,m+10,u)}},_showPolarTrigger:function(e,t){if(null==this.component.polar||null==e||null==t||0>t)return!1;var n,i,o,r=this.option.series,a=[],s=[],l="";if("axis"===this.option.tooltip.trigger){if(!this.option.tooltip.show)return!1;n=this.option.tooltip.formatter,i=this.option.tooltip.position}for(var d=this.option.polar[e].indicator[t].text,h=0,u=r.length;u>h;h++)this._isSelected(r[h].name)&&r[h].polarIndex===e&&"axis"===this.deepQuery([r[h],this.option],"tooltip.trigger")&&(o=this.query(r[h],"tooltip.showContent")||o,n=this.query(r[h],"tooltip.formatter")||n,i=this.query(r[h],"tooltip.position")||i,l+=this._style(this.query(r[h],"tooltip")),a.push(r[h]),s.push(h));if(a.length>0){for(var p,m,f,g=[],h=0,u=a.length;u>h;h++){p=a[h].data;for(var v=0,y=p.length;y>v;v++)m=p[v],this._isSelected(m.name)&&(m=null!=m?m:{name:"",value:{
dataIndex:"-"}},f=this.getDataFromOption(m.value[t]),g.push({seriesIndex:s[h],seriesName:a[h].name||"",series:a[h],dataIndex:t,data:m,name:m.name,indicator:d,value:f,0:a[h].name||"",1:m.name,2:f,3:d}))}if(g.length<=0)return;if(this._lastItemTriggerId=-1,this._lastDataIndex!=t||this._lastSeriesIndex!=s[0])if(this._lastDataIndex=t,this._lastSeriesIndex=s[0],"function"==typeof n)this._curTicket="axis:"+t,this._tDom.innerHTML=n.call(this.myChart,g,this._curTicket,this._setContent);else if("string"==typeof n){n=n.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}");for(var h=0,u=g.length;u>h;h++)n=n.replace("{a"+h+"}",this._encodeHTML(g[h].seriesName)),n=n.replace("{b"+h+"}",this._encodeHTML(g[h].name)),n=n.replace("{c"+h+"}",this.numAddCommas(g[h].value)),n=n.replace("{d"+h+"}",this._encodeHTML(g[h].indicator));this._tDom.innerHTML=n}else{n=this._encodeHTML(g[0].name)+"<br/>"+this._encodeHTML(g[0].indicator)+" : "+this.numAddCommas(g[0].value);for(var h=1,u=g.length;u>h;h++)n+="<br/>"+this._encodeHTML(g[h].name)+"<br/>",n+=this._encodeHTML(g[h].indicator)+" : "+this.numAddCommas(g[h].value);this._tDom.innerHTML=n}if(o===!1||!this.option.tooltip.showContent)return;return this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(i,c.getX(this._event),c.getY(this._event),l),!0}},_showItemTrigger:function(e){if(this._curTarget){var t,n,i,o=l.get(this._curTarget,"series"),r=l.get(this._curTarget,"seriesIndex"),a=l.get(this._curTarget,"data"),d=l.get(this._curTarget,"dataIndex"),h=l.get(this._curTarget,"name"),u=l.get(this._curTarget,"value"),p=l.get(this._curTarget,"special"),m=l.get(this._curTarget,"special2"),f=[a,o,this.option],g="";if("island"!=this._curTarget._type){var v=e?"axis":"item";this.option.tooltip.trigger===v&&(t=this.option.tooltip.formatter,n=this.option.tooltip.position),this.query(o,"tooltip.trigger")===v&&(i=this.query(o,"tooltip.showContent")||i,t=this.query(o,"tooltip.formatter")||t,n=this.query(o,"tooltip.position")||n,g+=this._style(this.query(o,"tooltip"))),i=this.query(a,"tooltip.showContent")||i,t=this.query(a,"tooltip.formatter")||t,n=this.query(a,"tooltip.position")||n,g+=this._style(this.query(a,"tooltip"))}else this._lastItemTriggerId=NaN,i=this.deepQuery(f,"tooltip.showContent"),t=this.deepQuery(f,"tooltip.islandFormatter"),n=this.deepQuery(f,"tooltip.islandPosition");this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId!==this._curTarget.id&&(this._lastItemTriggerId=this._curTarget.id,"function"==typeof t?(this._curTicket=(o.name||"")+":"+d,this._tDom.innerHTML=t.call(this.myChart,{seriesIndex:r,seriesName:o.name||"",series:o,dataIndex:d,data:a,name:h,value:u,percent:p,indicator:p,value2:m,indicator2:m,0:o.name||"",1:h,2:u,3:p,4:m,5:a,6:r,7:d},this._curTicket,this._setContent)):"string"==typeof t?(this._curTicket=NaN,t=t.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}"),t=t.replace("{a0}",this._encodeHTML(o.name||"")).replace("{b0}",this._encodeHTML(h)).replace("{c0}",u instanceof Array?u:this.numAddCommas(u)),t=t.replace("{d}","{d0}").replace("{d0}",p||""),t=t.replace("{e}","{e0}").replace("{e0}",l.get(this._curTarget,"special2")||""),this._tDom.innerHTML=t):(this._curTicket=NaN,this._tDom.innerHTML=o.type===s.CHART_TYPE_RADAR&&p?this._itemFormatter.radar.call(this,o,h,u,p):o.type===s.CHART_TYPE_EVENTRIVER?this._itemFormatter.eventRiver.call(this,o,h,u,a):""+(null!=o.name?this._encodeHTML(o.name)+"<br/>":"")+(""===h?"":this._encodeHTML(h)+" : ")+(u instanceof Array?u:this.numAddCommas(u))));var y=c.getX(this._event),b=c.getY(this._event);this.deepQuery(f,"tooltip.axisPointer.show")&&this.component.grid?this._styleAxisPointer([o],this.component.grid.getX(),b,this.component.grid.getXend(),b,0,y,b):this._hide(),i!==!1&&this.option.tooltip.showContent&&(this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(n,y+20,b-20,g))}},_itemFormatter:{radar:function(e,t,n,i){var o="";o+=this._encodeHTML(""===t?e.name||"":t),o+=""===o?"":"<br />";for(var r=0;r<i.length;r++)o+=this._encodeHTML(i[r].text)+" : "+this.numAddCommas(n[r])+"<br />";return o},chord:function(e,t,n,i,o){if(null==o)return this._encodeHTML(t)+" ("+this.numAddCommas(n)+")";var r=this._encodeHTML(t),a=this._encodeHTML(i);return""+(null!=e.name?this._encodeHTML(e.name)+"<br/>":"")+r+" -> "+a+" ("+this.numAddCommas(n)+")<br />"+a+" -> "+r+" ("+this.numAddCommas(o)+")"},eventRiver:function(e,t,n,i){var o="";o+=this._encodeHTML(""===e.name?"":e.name+" : "),o+=this._encodeHTML(t),o+=""===o?"":"<br />",i=i.evolution;for(var r=0,a=i.length;a>r;r++)o+='<div style="padding-top:5px;">',i[r].detail&&(i[r].detail.img&&(o+='<img src="'+i[r].detail.img+'" style="float:left;width:40px;height:40px;">'),o+='<div style="margin-left:45px;">'+i[r].time+"<br/>",o+='<a href="'+i[r].detail.link+'" target="_blank">',o+=i[r].detail.text+"</a></div>",o+="</div>");return o}},_styleAxisPointer:function(e,t,n,i,o,r,a,s){if(e.length>0){var l,d,c=this.option.tooltip.axisPointer,h=c.type,u={line:{},cross:{},shadow:{}};for(var p in u)u[p].color=c[p+"Style"].color,u[p].width=c[p+"Style"].width,u[p].type=c[p+"Style"].type;for(var m=0,f=e.length;f>m;m++)l=e[m],d=this.query(l,"tooltip.axisPointer.type"),h=d||h,d&&(u[d].color=this.query(l,"tooltip.axisPointer."+d+"Style.color")||u[d].color,u[d].width=this.query(l,"tooltip.axisPointer."+d+"Style.width")||u[d].width,u[d].type=this.query(l,"tooltip.axisPointer."+d+"Style.type")||u[d].type);if("line"===h){var g=u.line.width,v=t==i;this._axisLineShape.style={xStart:v?this.subPixelOptimize(t,g):t,yStart:v?n:this.subPixelOptimize(n,g),xEnd:v?this.subPixelOptimize(i,g):i,yEnd:v?o:this.subPixelOptimize(o,g),strokeColor:u.line.color,lineWidth:g,lineType:u.line.type},this._axisLineShape.invisible=!1,this.zr.modShape(this._axisLineShape.id)}else if("cross"===h){var y=u.cross.width;this._axisCrossShape.style={brushType:"stroke",rect:this.component.grid.getArea(),x:this.subPixelOptimize(a,y),y:this.subPixelOptimize(s,y),text:("( "+this.component.xAxis.getAxis(0).getValueFromCoord(a)+" , "+this.component.yAxis.getAxis(0).getValueFromCoord(s)+" )").replace("  , "," ").replace(" ,  "," "),textPosition:"specific",strokeColor:u.cross.color,lineWidth:y,lineType:u.cross.type},this.component.grid.getXend()-a>100?(this._axisCrossShape.style.textAlign="left",this._axisCrossShape.style.textX=a+10):(this._axisCrossShape.style.textAlign="right",this._axisCrossShape.style.textX=a-10),s-this.component.grid.getY()>50?(this._axisCrossShape.style.textBaseline="bottom",this._axisCrossShape.style.textY=s-10):(this._axisCrossShape.style.textBaseline="top",this._axisCrossShape.style.textY=s+10),this._axisCrossShape.invisible=!1,this.zr.modShape(this._axisCrossShape.id)}else"shadow"===h&&((null==u.shadow.width||"auto"===u.shadow.width||isNaN(u.shadow.width))&&(u.shadow.width=r),t===i?Math.abs(this.component.grid.getX()-t)<2?(u.shadow.width/=2,t=i+=u.shadow.width/2):Math.abs(this.component.grid.getXend()-t)<2&&(u.shadow.width/=2,t=i-=u.shadow.width/2):n===o&&(Math.abs(this.component.grid.getY()-n)<2?(u.shadow.width/=2,n=o+=u.shadow.width/2):Math.abs(this.component.grid.getYend()-n)<2&&(u.shadow.width/=2,n=o-=u.shadow.width/2)),this._axisShadowShape.style={xStart:t,yStart:n,xEnd:i,yEnd:o,strokeColor:u.shadow.color,lineWidth:u.shadow.width},this._axisShadowShape.invisible=!1,this.zr.modShape(this._axisShadowShape.id));this.zr.refreshNextFrame()}},__onmousemove:function(e){if(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),!this._mousein||!this._enterable){var t=e.target,n=c.getX(e.event),i=c.getY(e.event);if(t){this._curTarget=t,this._event=e.event,this._event.zrenderX=n,this._event.zrenderY=i;var o;if(this._needAxisTrigger&&this.component.polar&&-1!=(o=this.component.polar.isInside([n,i])))for(var r=this.option.series,l=0,d=r.length;d>l;l++)if(r[l].polarIndex===o&&"axis"===this.deepQuery([r[l],this.option],"tooltip.trigger")){this._curTarget=null;break}this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else this._curTarget=!1,this._event=e.event,this._event.zrenderX=n,this._event.zrenderY=i,this._needAxisTrigger&&this.component.grid&&h.isInside(a,this.component.grid.getArea(),n,i)?this._showingTicket=setTimeout(this._tryShow,this._showDelay):this._needAxisTrigger&&this.component.polar&&-1!=this.component.polar.isInside([n,i])?this._showingTicket=setTimeout(this._tryShow,this._showDelay):(!this._event.connectTrigger&&this.messageCenter.dispatch(s.EVENT.TOOLTIP_OUT_GRID,this._event,null,this.myChart),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}},__onglobalout:function(){clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay)},__setContent:function(e,t){this._tDom&&(e===this._curTicket&&(this._tDom.innerHTML=t),setTimeout(this._refixed,20))},ontooltipHover:function(e,t){if(!this._lastTipShape||this._lastTipShape&&this._lastTipShape.dataIndex!=e.dataIndex){this._lastTipShape&&this._lastTipShape.tipShape.length>0&&(this.zr.delShape(this._lastTipShape.tipShape),this.shapeList.length=2);for(var n=0,i=t.length;i>n;n++)t[n].zlevel=this.getZlevelBase(),t[n].z=this.getZBase(),t[n].style=m.prototype.getHighlightStyle(t[n].style,t[n].highlightStyle),t[n].draggable=!1,t[n].hoverable=!1,t[n].clickable=!1,t[n].ondragend=null,t[n].ondragover=null,t[n].ondrop=null,this.shapeList.push(t[n]),this.zr.addShape(t[n]);this._lastTipShape={dataIndex:e.dataIndex,tipShape:t}}},ondragend:function(){this._hide()},onlegendSelected:function(e){this._selectedMap=e.selected},_setSelectedMap:function(){this._selectedMap=this.component.legend?p.clone(this.component.legend.getSelectedMap()):{}},_isSelected:function(e){return null!=this._selectedMap[e]?this._selectedMap[e]:!0},showTip:function(e){if(e){var t,n=this.option.series;if(null!=e.seriesIndex)t=e.seriesIndex;else for(var i=e.seriesName,o=0,r=n.length;r>o;o++)if(n[o].name===i){t=o;break}var a=n[t];if(null!=a){var c=this.myChart.chart[a.type],h="axis"===this.deepQuery([a,this.option],"tooltip.trigger");if(c)if(h){var u=e.dataIndex;switch(c.type){case s.CHART_TYPE_LINE:case s.CHART_TYPE_BAR:case s.CHART_TYPE_K:case s.CHART_TYPE_RADAR:if(null==this.component.polar||a.data[0].value.length<=u)return;var p=a.polarIndex||0,m=this.component.polar.getVector(p,u,"max");this._event={zrenderX:m[0],zrenderY:m[1]},this._showPolarTrigger(p,u)}}else{var f,g,v=c.shapeList;switch(c.type){case s.CHART_TYPE_LINE:case s.CHART_TYPE_BAR:case s.CHART_TYPE_K:case s.CHART_TYPE_TREEMAP:case s.CHART_TYPE_SCATTER:for(var u=e.dataIndex,o=0,r=v.length;r>o;o++)if(null==v[o]._mark&&l.get(v[o],"seriesIndex")==t&&l.get(v[o],"dataIndex")==u){this._curTarget=v[o],f=v[o].style.x,g=c.type!=s.CHART_TYPE_K?v[o].style.y:v[o].style.y[0];break}break;case s.CHART_TYPE_RADAR:for(var u=e.dataIndex,o=0,r=v.length;r>o;o++)if("polygon"===v[o].type&&l.get(v[o],"seriesIndex")==t&&l.get(v[o],"dataIndex")==u){this._curTarget=v[o];var m=this.component.polar.getCenter(a.polarIndex||0);f=m[0],g=m[1];break}break;case s.CHART_TYPE_PIE:for(var y=e.name,o=0,r=v.length;r>o;o++)if("sector"===v[o].type&&l.get(v[o],"seriesIndex")==t&&l.get(v[o],"name")==y){this._curTarget=v[o];var b=this._curTarget.style,_=(b.startAngle+b.endAngle)/2*Math.PI/180;f=this._curTarget.style.x+Math.cos(_)*b.r/1.5,g=this._curTarget.style.y-Math.sin(_)*b.r/1.5;break}break;case s.CHART_TYPE_MAP:for(var y=e.name,x=a.mapType,o=0,r=v.length;r>o;o++)if("text"===v[o].type&&v[o]._mapType===x&&v[o].style._name===y){this._curTarget=v[o],f=this._curTarget.style.x+this._curTarget.position[0],g=this._curTarget.style.y+this._curTarget.position[1];break}break;case s.CHART_TYPE_CHORD:for(var y=e.name,o=0,r=v.length;r>o;o++)if("sector"===v[o].type&&l.get(v[o],"name")==y){this._curTarget=v[o];var b=this._curTarget.style,_=(b.startAngle+b.endAngle)/2*Math.PI/180;return f=this._curTarget.style.x+Math.cos(_)*(b.r-2),g=this._curTarget.style.y-Math.sin(_)*(b.r-2),void this.zr.trigger(d.EVENT.MOUSEMOVE,{zrenderX:f,zrenderY:g})}break;case s.CHART_TYPE_FORCE:for(var y=e.name,o=0,r=v.length;r>o;o++)if("circle"===v[o].type&&l.get(v[o],"name")==y){this._curTarget=v[o],f=this._curTarget.position[0],g=this._curTarget.position[1];break}}null!=f&&null!=g&&(this._event={zrenderX:f,zrenderY:g},this.zr.addHoverShape(this._curTarget),this.zr.refreshHover(),this._showItemTrigger())}}}},hideTip:function(){this._hide()},refresh:function(e){if(this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth(),this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2,this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId=-1,e){this.option=e,this.option.tooltip=this.reformOption(this.option.tooltip),this.option.tooltip.textStyle=p.merge(this.option.tooltip.textStyle,this.ecTheme.textStyle),this._needAxisTrigger=!1,"axis"===this.option.tooltip.trigger&&(this._needAxisTrigger=!0);for(var t=this.option.series,n=0,i=t.length;i>n;n++)if("axis"===this.query(t[n],"tooltip.trigger")){this._needAxisTrigger=!0;break}this._showDelay=this.option.tooltip.showDelay,this._hideDelay=this.option.tooltip.hideDelay,this._defaultCssText=this._style(this.option.tooltip),this._setSelectedMap(),this._axisLineWidth=this.option.tooltip.axisPointer.lineStyle.width,this._enterable=this.option.tooltip.enterable,!this._enterable&&this._tDom.className.indexOf(d.elementClassName)<0&&(this._tDom.className+=" "+d.elementClassName)}if(this.showing){var o=this;setTimeout(function(){o.zr.trigger(d.EVENT.MOUSEMOVE,o.zr.handler._event)},50)}},onbeforDispose:function(){this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape),clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this.zr.un(d.EVENT.MOUSEMOVE,this._onmousemove),this.zr.un(d.EVENT.GLOBALOUT,this._onglobalout),this.hasAppend&&this.dom.firstChild&&this.dom.firstChild.removeChild(this._tDom),this._tDom=null},_encodeHTML:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}},p.inherits(t,n),e("../component").define("tooltip",t),t}),n("echarts/component/legend",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","zrender/shape/Sector","../util/shape/Icon","../util/shape/Candle","../config","zrender/tool/util","zrender/tool/area","../component"],function(e){function t(e,t,i,o,r){if(!this.query(o,"legend.data"))return void console.error("option.legend.data has not been defined.");n.call(this,e,t,i,o,r);var a=this;a._legendSelected=function(e){a.__legendSelected(e)},a._dispatchHoverLink=function(e){return a.__dispatchHoverLink(e)},this._colorIndex=0,this._colorMap={},this._selectedMap={},this._hasDataMap={},this.refresh(o)}var n=e("./base"),i=e("zrender/shape/Text"),o=e("zrender/shape/Rectangle"),r=e("zrender/shape/Sector"),a=e("../util/shape/Icon"),s=e("../util/shape/Candle"),l=e("../config");l.legend={zlevel:0,z:4,show:!0,orient:"horizontal",x:"center",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0};var d=e("zrender/tool/util"),c=e("zrender/tool/area");t.prototype={type:l.COMPONENT_TYPE_LEGEND,_buildShape:function(){if(this.legendOption.show){this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var e=0,t=this.shapeList.length;t>e;e++)this.zr.addShape(this.shapeList[e])}},_buildItem:function(){var e,t,n,o,r,s,l,h,u=this.legendOption.data,p=u.length,m=this.legendOption.textStyle,f=this.zr.getWidth(),g=this.zr.getHeight(),v=this._itemGroupLocation.x,y=this._itemGroupLocation.y,b=this.legendOption.itemWidth,_=this.legendOption.itemHeight,x=this.legendOption.itemGap;"vertical"===this.legendOption.orient&&"right"===this.legendOption.x&&(v=this._itemGroupLocation.x+this._itemGroupLocation.width-b);for(var E=0;p>E;E++)r=d.merge(u[E].textStyle||{},m),s=this.getFont(r),e=this._getName(u[E]),l=this._getFormatterName(e),""!==e?(t=u[E].icon||this._getSomethingByName(e).type,h=this.getColor(e),"horizontal"===this.legendOption.orient?200>f-v&&b+5+c.getTextWidth(l,s)+(E===p-1||""===u[E+1]?0:x)>=f-v&&(v=this._itemGroupLocation.x,y+=_+x):200>g-y&&_+(E===p-1||""===u[E+1]?0:x)>=g-y&&("right"===this.legendOption.x?v-=this._itemGroupLocation.maxWidth+x:v+=this._itemGroupLocation.maxWidth+x,y=this._itemGroupLocation.y),n=this._getItemShapeByType(v,y,b,_,this._selectedMap[e]&&this._hasDataMap[e]?h:"#ccc",t,h),n._name=e,n=new a(n),o={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:v+b+5,y:y+_/2,color:this._selectedMap[e]?"auto"===r.color?h:r.color:"#ccc",text:l,textFont:s,textBaseline:"middle"},highlightStyle:{color:h,brushType:"fill"},hoverable:!!this.legendOption.selectedMode,clickable:!!this.legendOption.selectedMode},"vertical"===this.legendOption.orient&&"right"===this.legendOption.x&&(o.style.x-=b+10,o.style.textAlign="right"),o._name=e,o=new i(o),this.legendOption.selectedMode&&(n.onclick=o.onclick=this._legendSelected,n.onmouseover=o.onmouseover=this._dispatchHoverLink,n.hoverConnect=o.id,o.hoverConnect=n.id),this.shapeList.push(n),this.shapeList.push(o),"horizontal"===this.legendOption.orient?v+=b+5+c.getTextWidth(l,s)+x:y+=_+x):"horizontal"===this.legendOption.orient?(v=this._itemGroupLocation.x,y+=_+x):("right"===this.legendOption.x?v-=this._itemGroupLocation.maxWidth+x:v+=this._itemGroupLocation.maxWidth+x,y=this._itemGroupLocation.y);"horizontal"===this.legendOption.orient&&"center"===this.legendOption.x&&y!=this._itemGroupLocation.y&&this._mLineOptimize()},_getName:function(e){return"undefined"!=typeof e.name?e.name:e},_getFormatterName:function(e){var t,n=this.legendOption.formatter;return t="function"==typeof n?n.call(this.myChart,e):"string"==typeof n?n.replace("{name}",e):e},_getFormatterNameFromData:function(e){var t=this._getName(e);return this._getFormatterName(t)},_mLineOptimize:function(){for(var e=[],t=this._itemGroupLocation.x,n=2,i=this.shapeList.length;i>n;n++)this.shapeList[n].style.x===t?e.push((this._itemGroupLocation.width-(this.shapeList[n-1].style.x+c.getTextWidth(this.shapeList[n-1].style.text,this.shapeList[n-1].style.textFont)-t))/2):n===i-1&&e.push((this._itemGroupLocation.width-(this.shapeList[n].style.x+c.getTextWidth(this.shapeList[n].style.text,this.shapeList[n].style.textFont)-t))/2);for(var o=-1,n=1,i=this.shapeList.length;i>n;n++)this.shapeList[n].style.x===t&&o++,0!==e[o]&&(this.shapeList[n].style.x+=e[o])},_buildBackground:function(){var e=this.reformCssArray(this.legendOption.padding);this.shapeList.push(new o({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-e[3],y:this._itemGroupLocation.y-e[0],width:this._itemGroupLocation.width+e[3]+e[1],height:this._itemGroupLocation.height+e[0]+e[2],brushType:0===this.legendOption.borderWidth?"fill":"both",color:this.legendOption.backgroundColor,strokeColor:this.legendOption.borderColor,lineWidth:this.legendOption.borderWidth}}))},_getItemGroupLocation:function(){var e=this.legendOption.data,t=e.length,n=this.legendOption.itemGap,i=this.legendOption.itemWidth+5,o=this.legendOption.itemHeight,r=this.legendOption.textStyle,a=this.getFont(r),s=0,l=0,h=this.reformCssArray(this.legendOption.padding),u=this.zr.getWidth()-h[1]-h[3],p=this.zr.getHeight()-h[0]-h[2],m=0,f=0;if("horizontal"===this.legendOption.orient){l=o;for(var g=0;t>g;g++)if(""!==this._getName(e[g])){var v=c.getTextWidth(this._getFormatterNameFromData(e[g]),e[g].textStyle?this.getFont(d.merge(e[g].textStyle||{},r)):a);m+i+v+n>u?(m-=n,s=Math.max(s,m),l+=o+n,m=0):(m+=i+v+n,s=Math.max(s,m-n))}else m-=n,s=Math.max(s,m),l+=o+n,m=0}else{for(var g=0;t>g;g++)f=Math.max(f,c.getTextWidth(this._getFormatterNameFromData(e[g]),e[g].textStyle?this.getFont(d.merge(e[g].textStyle||{},r)):a));f+=i,s=f;for(var g=0;t>g;g++)""!==this._getName(e[g])?m+o+n>p?(s+=f+n,m-=n,l=Math.max(l,m),m=0):(m+=o+n,l=Math.max(l,m-n)):(s+=f+n,m-=n,l=Math.max(l,m),m=0)}u=this.zr.getWidth(),p=this.zr.getHeight();var y;switch(this.legendOption.x){case"center":y=Math.floor((u-s)/2);break;case"left":y=h[3]+this.legendOption.borderWidth;break;case"right":y=u-s-h[1]-h[3]-2*this.legendOption.borderWidth;break;default:y=this.parsePercent(this.legendOption.x,u)}var b;switch(this.legendOption.y){case"top":b=h[0]+this.legendOption.borderWidth;break;case"bottom":b=p-l-h[0]-h[2]-2*this.legendOption.borderWidth;break;case"center":b=Math.floor((p-l)/2);break;default:b=this.parsePercent(this.legendOption.y,p)}return{x:y,y:b,width:s,height:l,maxWidth:f}},_getSomethingByName:function(e){for(var t,n=this.option.series,i=0,o=n.length;o>i;i++){if(n[i].name===e)return{type:n[i].type,series:n[i],seriesIndex:i,data:null,dataIndex:-1};if(n[i].type===l.CHART_TYPE_PIE||n[i].type===l.CHART_TYPE_RADAR||n[i].type===l.CHART_TYPE_CHORD||n[i].type===l.CHART_TYPE_FORCE||n[i].type===l.CHART_TYPE_FUNNEL||n[i].type===l.CHART_TYPE_TREEMAP){t=n[i].categories||n[i].data||n[i].nodes;for(var r=0,a=t.length;a>r;r++)if(t[r].name===e)return{type:n[i].type,series:n[i],seriesIndex:i,data:t[r],dataIndex:r}}}return{type:"bar",series:null,seriesIndex:-1,data:null,dataIndex:-1}},_getItemShapeByType:function(e,t,n,i,o,r,a){var s,d="#ccc"===o?a:o,c={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{iconType:"legendicon"+r,x:e,y:t,width:n,height:i,color:o,strokeColor:o,lineWidth:2},highlightStyle:{color:d,strokeColor:d,lineWidth:1},hoverable:this.legendOption.selectedMode,clickable:this.legendOption.selectedMode};if(r.match("image")){var s=r.replace(new RegExp("^image:\\/\\/"),"");r="image"}switch(r){case"line":c.style.brushType="stroke",c.highlightStyle.lineWidth=3;break;case"radar":case"venn":case"tree":case"treemap":case"scatter":c.highlightStyle.lineWidth=3;break;case"k":c.style.brushType="both",c.highlightStyle.lineWidth=3,c.highlightStyle.color=c.style.color=this.deepQuery([this.ecTheme,l],"k.itemStyle.normal.color")||"#fff",c.style.strokeColor="#ccc"!=o?this.deepQuery([this.ecTheme,l],"k.itemStyle.normal.lineStyle.color")||"#ff3200":o;break;case"image":c.style.iconType="image",c.style.image=s,"#ccc"===o&&(c.style.opacity=.5)}return c},__legendSelected:function(e){var t=e.target._name;if("single"===this.legendOption.selectedMode)for(var n in this._selectedMap)this._selectedMap[n]=!1;this._selectedMap[t]=!this._selectedMap[t],this.messageCenter.dispatch(l.EVENT.LEGEND_SELECTED,e.event,{selected:this._selectedMap,target:t},this.myChart)},__dispatchHoverLink:function(e){this.messageCenter.dispatch(l.EVENT.LEGEND_HOVERLINK,e.event,{target:e.target._name},this.myChart)},refresh:function(e){if(e){this.option=e||this.option,this.option.legend=this.reformOption(this.option.legend),this.legendOption=this.option.legend;var t,n,i,o,r=this.legendOption.data||[];if(this.legendOption.selected)for(var a in this.legendOption.selected)this._selectedMap[a]="undefined"!=typeof this._selectedMap[a]?this._selectedMap[a]:this.legendOption.selected[a];for(var s=0,d=r.length;d>s;s++)t=this._getName(r[s]),""!==t&&(n=this._getSomethingByName(t),n.series?(this._hasDataMap[t]=!0,o=!n.data||n.type!==l.CHART_TYPE_PIE&&n.type!==l.CHART_TYPE_FORCE&&n.type!==l.CHART_TYPE_FUNNEL?[n.series]:[n.data,n.series],i=this.getItemStyleColor(this.deepQuery(o,"itemStyle.normal.color"),n.seriesIndex,n.dataIndex,n.data),i&&n.type!=l.CHART_TYPE_K&&this.setColor(t,i),this._selectedMap[t]=null!=this._selectedMap[t]?this._selectedMap[t]:!0):this._hasDataMap[t]=!1)}this.clear(),this._buildShape()},getRelatedAmount:function(e){for(var t,n=0,i=this.option.series,o=0,r=i.length;r>o;o++)if(i[o].name===e&&n++,i[o].type===l.CHART_TYPE_PIE||i[o].type===l.CHART_TYPE_RADAR||i[o].type===l.CHART_TYPE_CHORD||i[o].type===l.CHART_TYPE_FORCE||i[o].type===l.CHART_TYPE_FUNNEL){t=i[o].type!=l.CHART_TYPE_FORCE?i[o].data:i[o].categories;for(var a=0,s=t.length;s>a;a++)t[a].name===e&&"-"!=t[a].value&&n++}return n},setColor:function(e,t){this._colorMap[e]=t},getColor:function(e){return this._colorMap[e]||(this._colorMap[e]=this.zr.getColor(this._colorIndex++)),this._colorMap[e]},hasColor:function(e){return this._colorMap[e]?this._colorMap[e]:!1},add:function(e,t){for(var n=this.legendOption.data,i=0,o=n.length;o>i;i++)if(this._getName(n[i])===e)return;this.legendOption.data.push(e),this.setColor(e,t),this._selectedMap[e]=!0,this._hasDataMap[e]=!0},del:function(e){for(var t=this.legendOption.data,n=0,i=t.length;i>n;n++)if(this._getName(t[n])===e)return this.legendOption.data.splice(n,1)},getItemShape:function(e){if(null!=e)for(var t,n=0,i=this.shapeList.length;i>n;n++)if(t=this.shapeList[n],t._name===e&&"text"!=t.type)return t},setItemShape:function(e,t){for(var n,i=0,o=this.shapeList.length;o>i;i++)n=this.shapeList[i],n._name===e&&"text"!=n.type&&(this._selectedMap[e]||(t.style.color="#ccc",t.style.strokeColor="#ccc"),this.zr.modShape(n.id,t))},isSelected:function(e){return"undefined"!=typeof this._selectedMap[e]?this._selectedMap[e]:!0},getSelectedMap:function(){return this._selectedMap},setSelected:function(e,t){if("single"===this.legendOption.selectedMode)for(var n in this._selectedMap)this._selectedMap[n]=!1;this._selectedMap[e]=t,this.messageCenter.dispatch(l.EVENT.LEGEND_SELECTED,null,{selected:this._selectedMap,target:e},this.myChart)},onlegendSelected:function(e,t){var n=e.selected;for(var i in n)this._selectedMap[i]!=n[i]&&(t.needRefresh=!0),this._selectedMap[i]=n[i]}};var h={line:function(e,t){var n=t.height/2;e.moveTo(t.x,t.y+n),e.lineTo(t.x+t.width,t.y+n)},pie:function(e,t){var n=t.x,i=t.y,o=t.width,a=t.height;r.prototype.buildPath(e,{x:n+o/2,y:i+a+2,r:a,r0:6,startAngle:45,endAngle:135})},eventRiver:function(e,t){var n=t.x,i=t.y,o=t.width,r=t.height;e.moveTo(n,i+r),e.bezierCurveTo(n+o,i+r,n,i+4,n+o,i+4),e.lineTo(n+o,i),e.bezierCurveTo(n,i,n+o,i+r-4,n,i+r-4),e.lineTo(n,i+r)},k:function(e,t){var n=t.x,i=t.y,o=t.width,r=t.height;s.prototype.buildPath(e,{x:n+o/2,y:[i+1,i+1,i+r-6,i+r],width:o-6})},bar:function(e,t){var n=t.x,i=t.y+1,o=t.width,r=t.height-2,a=3;e.moveTo(n+a,i),e.lineTo(n+o-a,i),e.quadraticCurveTo(n+o,i,n+o,i+a),e.lineTo(n+o,i+r-a),e.quadraticCurveTo(n+o,i+r,n+o-a,i+r),e.lineTo(n+a,i+r),e.quadraticCurveTo(n,i+r,n,i+r-a),e.lineTo(n,i+a),e.quadraticCurveTo(n,i,n+a,i)},force:function(e,t){a.prototype.iconLibrary.circle(e,t)},radar:function(e,t){var n=6,i=t.x+t.width/2,o=t.y+t.height/2,r=t.height/2,a=2*Math.PI/n,s=-Math.PI/2,l=i+r*Math.cos(s),d=o+r*Math.sin(s);e.moveTo(l,d),s+=a;for(var c=0,h=n-1;h>c;c++)e.lineTo(i+r*Math.cos(s),o+r*Math.sin(s)),s+=a;e.lineTo(l,d)}};h.chord=h.pie,h.map=h.bar;for(var u in h)a.prototype.iconLibrary["legendicon"+u]=h[u];return d.inherits(t,n),e("../component").define("legend",t),t}),n("echarts/component/timeline",["require","./base","zrender/shape/Rectangle","../util/shape/Icon","../util/shape/Chain","../config","zrender/tool/util","zrender/tool/area","zrender/tool/event","../component"],function(e){function t(e,t,n,o,r){i.call(this,e,t,n,o,r);var a=this;if(a._onclick=function(e){return a.__onclick(e)},a._ondrift=function(e,t){return a.__ondrift(this,e,t)},a._ondragend=function(){return a.__ondragend()},a._setCurrentOption=function(){var e=a.timelineOption;a.currentIndex%=e.data.length;var t=a.options[a.currentIndex]||{};a.myChart._setOption(t,e.notMerge,!0),a.messageCenter.dispatch(s.EVENT.TIMELINE_CHANGED,null,{currentIndex:a.currentIndex,data:null!=e.data[a.currentIndex].name?e.data[a.currentIndex].name:e.data[a.currentIndex]},a.myChart)},a._onFrame=function(){a._setCurrentOption(),a._syncHandleShape(),a.timelineOption.autoPlay&&(a.playTicket=setTimeout(function(){return a.currentIndex+=1,!a.timelineOption.loop&&a.currentIndex>=a.timelineOption.data.length?(a.currentIndex=a.timelineOption.data.length-1,void a.stop()):void a._onFrame()},a.timelineOption.playInterval))},this.setTheme(!1),this.options=this.option.options,this.currentIndex=this.timelineOption.currentIndex%this.timelineOption.data.length,this.timelineOption.notMerge||0===this.currentIndex||(this.options[this.currentIndex]=l.merge(this.options[this.currentIndex],this.options[0])),this.timelineOption.show&&(this._buildShape(),this._syncHandleShape()),this._setCurrentOption(),this.timelineOption.autoPlay){var a=this;this.playTicket=setTimeout(function(){a.play()},null!=this.ecTheme.animationDuration?this.ecTheme.animationDuration:s.animationDuration)}}function n(e,t){var n=2,i=t.x+n,o=t.y+n+2,a=t.width-n,s=t.height-n,l=t.symbol;if("last"===l)e.moveTo(i+a-2,o+s/3),e.lineTo(i+a-2,o),e.lineTo(i+2,o+s/2),e.lineTo(i+a-2,o+s),e.lineTo(i+a-2,o+s/3*2),e.moveTo(i,o),e.lineTo(i,o);else if("next"===l)e.moveTo(i+2,o+s/3),e.lineTo(i+2,o),e.lineTo(i+a-2,o+s/2),e.lineTo(i+2,o+s),e.lineTo(i+2,o+s/3*2),e.moveTo(i,o),e.lineTo(i,o);else if("play"===l)if("stop"===t.status)e.moveTo(i+2,o),e.lineTo(i+a-2,o+s/2),e.lineTo(i+2,o+s),e.lineTo(i+2,o);else{var d="both"===t.brushType?2:3;e.rect(i+2,o,d,s),e.rect(i+a-d-2,o,d,s)}else if(l.match("image")){var c="";c=l.replace(new RegExp("^image:\\/\\/"),""),(l=r.prototype.iconLibrary.image)(e,{x:i,y:o,width:a,height:s,image:c})}}var i=e("./base"),o=e("zrender/shape/Rectangle"),r=e("../util/shape/Icon"),a=e("../util/shape/Chain"),s=e("../config");s.timeline={zlevel:0,z:4,show:!0,type:"time",notMerge:!1,realtime:!0,x:80,x2:80,y2:0,height:50,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,controlPosition:"left",autoPlay:!1,loop:!0,playInterval:2e3,lineStyle:{width:1,color:"#666",type:"dashed"},label:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#333"}},checkpointStyle:{symbol:"auto",symbolSize:"auto",color:"auto",borderColor:"auto",borderWidth:"auto",label:{show:!1,textStyle:{color:"auto"}}},controlStyle:{itemSize:15,itemGap:5,normal:{color:"#333"},emphasis:{color:"#1e90ff"}},symbol:"emptyDiamond",symbolSize:4,currentIndex:0};var l=e("zrender/tool/util"),d=e("zrender/tool/area"),c=e("zrender/tool/event");return t.prototype={type:s.COMPONENT_TYPE_TIMELINE,_buildShape:function(){if(this._location=this._getLocation(),this._buildBackground(),this._buildControl(),this._chainPoint=this._getChainPoint(),this.timelineOption.label.show)for(var e=this._getInterval(),t=0,n=this._chainPoint.length;n>t;t+=e)this._chainPoint[t].showLabel=!0;this._buildChain(),this._buildHandle();for(var t=0,i=this.shapeList.length;i>t;t++)this.zr.addShape(this.shapeList[t])},_getLocation:function(){var e,t=this.timelineOption,n=this.reformCssArray(this.timelineOption.padding),i=this.zr.getWidth(),o=this.parsePercent(t.x,i),r=this.parsePercent(t.x2,i);null==t.width?(e=i-o-r,r=i-r):(e=this.parsePercent(t.width,i),r=o+e);var a,s,l=this.zr.getHeight(),d=this.parsePercent(t.height,l);return null!=t.y?(a=this.parsePercent(t.y,l),s=a+d):(s=l-this.parsePercent(t.y2,l),a=s-d),{x:o+n[3],y:a+n[0],x2:r-n[1],y2:s-n[2],width:e-n[1]-n[3],height:d-n[0]-n[2]}},_getReformedLabel:function(e){var t=this.timelineOption,n=null!=t.data[e].name?t.data[e].name:t.data[e],i=t.data[e].formatter||t.label.formatter;return i&&("function"==typeof i?n=i.call(this.myChart,n):"string"==typeof i&&(n=i.replace("{value}",n))),n},_getInterval:function(){var e=this._chainPoint,t=this.timelineOption,n=t.label.interval;if("auto"===n){var i=t.label.textStyle.fontSize,o=t.data,r=t.data.length;if(r>3){var a,s,l=!1;for(n=0;!l&&r>n;){n++,l=!0;for(var c=n;r>c;c+=n){if(a=e[c].x-e[c-n].x,0!==t.label.rotate)s=i;else if(o[c].textStyle)s=d.getTextWidth(e[c].name,e[c].textFont);else{var h=e[c].name+"",u=(h.match(/\w/g)||"").length,p=h.length-u;s=u*i*2/3+p*i}if(s>a){l=!1;break}}}}else n=1}else n=n-0+1;return n},_getChainPoint:function(){function e(e){return null!=d[e].name?d[e].name:d[e]+""}var t,n=this.timelineOption,i=n.symbol.toLowerCase(),o=n.symbolSize,r=n.label.rotate,a=n.label.textStyle,s=this.getFont(a),d=n.data,c=this._location.x,h=this._location.y+this._location.height/4*3,u=this._location.x2-this._location.x,p=d.length,m=[];
if(p>1){var f=u/p;if(f=f>50?50:20>f?5:f,u-=2*f,"number"===n.type)for(var g=0;p>g;g++)m.push(c+f+u/(p-1)*g);else{m[0]=new Date(e(0).replace(/-/g,"/")),m[p-1]=new Date(e(p-1).replace(/-/g,"/"))-m[0];for(var g=1;p>g;g++)m[g]=c+f+u*(new Date(e(g).replace(/-/g,"/"))-m[0])/m[p-1];m[0]=c+f}}else m.push(c+u/2);for(var v,y,b,_,x,E=[],g=0;p>g;g++)c=m[g],v=d[g].symbol&&d[g].symbol.toLowerCase()||i,v.match("empty")?(v=v.replace("empty",""),b=!0):b=!1,v.match("star")&&(y=v.replace("star","")-0||5,v="star"),t=d[g].textStyle?l.merge(d[g].textStyle||{},a):a,_=t.align||"center",r?(_=r>0?"right":"left",x=[r*Math.PI/180,c,h-5]):x=!1,E.push({x:c,n:y,isEmpty:b,symbol:v,symbolSize:d[g].symbolSize||o,color:d[g].color,borderColor:d[g].borderColor,borderWidth:d[g].borderWidth,name:this._getReformedLabel(g),textColor:t.color,textAlign:_,textBaseline:t.baseline||"middle",textX:c,textY:h-(r?5:0),textFont:d[g].textStyle?this.getFont(t):s,rotation:x,showLabel:!1});return E},_buildBackground:function(){var e=this.timelineOption,t=this.reformCssArray(this.timelineOption.padding),n=this._location.width,i=this._location.height;(0!==e.borderWidth||"rgba(0,0,0,0)"!=e.backgroundColor.replace(/\s/g,""))&&this.shapeList.push(new o({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x-t[3],y:this._location.y-t[0],width:n+t[1]+t[3],height:i+t[0]+t[2],brushType:0===e.borderWidth?"fill":"both",color:e.backgroundColor,strokeColor:e.borderColor,lineWidth:e.borderWidth}}))},_buildControl:function(){var e=this,t=this.timelineOption,n=t.lineStyle,i=t.controlStyle;if("none"!==t.controlPosition){var o,a=i.itemSize,s=i.itemGap;"left"===t.controlPosition?(o=this._location.x,this._location.x+=3*(a+s)):(o=this._location.x2-(3*(a+s)-s),this._location.x2-=3*(a+s));var d=this._location.y,c={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{iconType:"timelineControl",symbol:"last",x:o,y:d,width:a,height:a,brushType:"stroke",color:i.normal.color,strokeColor:i.normal.color,lineWidth:n.width},highlightStyle:{color:i.emphasis.color,strokeColor:i.emphasis.color,lineWidth:n.width+1},clickable:!0};this._ctrLastShape=new r(c),this._ctrLastShape.onclick=function(){e.last()},this.shapeList.push(this._ctrLastShape),o+=a+s,this._ctrPlayShape=new r(l.clone(c)),this._ctrPlayShape.style.brushType="fill",this._ctrPlayShape.style.symbol="play",this._ctrPlayShape.style.status=this.timelineOption.autoPlay?"playing":"stop",this._ctrPlayShape.style.x=o,this._ctrPlayShape.onclick=function(){"stop"===e._ctrPlayShape.style.status?e.play():e.stop()},this.shapeList.push(this._ctrPlayShape),o+=a+s,this._ctrNextShape=new r(l.clone(c)),this._ctrNextShape.style.symbol="next",this._ctrNextShape.style.x=o,this._ctrNextShape.onclick=function(){e.next()},this.shapeList.push(this._ctrNextShape)}},_buildChain:function(){var e=this.timelineOption,t=e.lineStyle;this._timelineShae={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:this._location.x,y:this.subPixelOptimize(this._location.y,t.width),width:this._location.x2-this._location.x,height:this._location.height,chainPoint:this._chainPoint,brushType:"both",strokeColor:t.color,lineWidth:t.width,lineType:t.type},hoverable:!1,clickable:!0,onclick:this._onclick},this._timelineShae=new a(this._timelineShae),this.shapeList.push(this._timelineShae)},_buildHandle:function(){var e=this._chainPoint[this.currentIndex],t=e.symbolSize+1;t=5>t?5:t,this._handleShape={zlevel:this.getZlevelBase(),z:this.getZBase()+1,hoverable:!1,draggable:!0,style:{iconType:"diamond",n:e.n,x:e.x-t,y:this._location.y+this._location.height/4-t,width:2*t,height:2*t,brushType:"both",textPosition:"specific",textX:e.x,textY:this._location.y-this._location.height/4,textAlign:"center",textBaseline:"middle"},highlightStyle:{},ondrift:this._ondrift,ondragend:this._ondragend},this._handleShape=new r(this._handleShape),this.shapeList.push(this._handleShape)},_syncHandleShape:function(){if(this.timelineOption.show){var e=this.timelineOption,t=e.checkpointStyle,n=this._chainPoint[this.currentIndex];this._handleShape.style.text=t.label.show?n.name:"",this._handleShape.style.textFont=n.textFont,this._handleShape.style.n=n.n,"auto"===t.symbol?this._handleShape.style.iconType="none"!=n.symbol?n.symbol:"diamond":(this._handleShape.style.iconType=t.symbol,t.symbol.match("star")&&(this._handleShape.style.n=t.symbol.replace("star","")-0||5,this._handleShape.style.iconType="star"));var i;"auto"===t.symbolSize?(i=n.symbolSize+2,i=5>i?5:i):i=t.symbolSize-0,this._handleShape.style.color="auto"===t.color?n.color?n.color:e.controlStyle.emphasis.color:t.color,this._handleShape.style.textColor="auto"===t.label.textStyle.color?this._handleShape.style.color:t.label.textStyle.color,this._handleShape.highlightStyle.strokeColor=this._handleShape.style.strokeColor="auto"===t.borderColor?n.borderColor?n.borderColor:"#fff":t.borderColor,this._handleShape.style.lineWidth="auto"===t.borderWidth?n.borderWidth?n.borderWidth:0:t.borderWidth-0,this._handleShape.highlightStyle.lineWidth=this._handleShape.style.lineWidth+1,this.zr.animate(this._handleShape.id,"style").when(500,{x:n.x-i,textX:n.x,y:this._location.y+this._location.height/4-i,width:2*i,height:2*i}).start("ExponentialOut")}},_findChainIndex:function(e){var t=this._chainPoint,n=t.length;if(e<=t[0].x)return 0;if(e>=t[n-1].x)return n-1;for(var i=0;n-1>i;i++)if(e>=t[i].x&&e<=t[i+1].x)return Math.abs(e-t[i].x)<Math.abs(e-t[i+1].x)?i:i+1},__onclick:function(e){var t=c.getX(e.event),n=this._findChainIndex(t);return n===this.currentIndex?!0:(this.currentIndex=n,this.timelineOption.autoPlay&&this.stop(),clearTimeout(this.playTicket),void this._onFrame())},__ondrift:function(e,t){this.timelineOption.autoPlay&&this.stop();var n,i=this._chainPoint,o=i.length;e.style.x+t<=i[0].x-i[0].symbolSize?(e.style.x=i[0].x-i[0].symbolSize,n=0):e.style.x+t>=i[o-1].x-i[o-1].symbolSize?(e.style.x=i[o-1].x-i[o-1].symbolSize,n=o-1):(e.style.x+=t,n=this._findChainIndex(e.style.x));var r=i[n],a=r.symbolSize+2;if(e.style.iconType=r.symbol,e.style.n=r.n,e.style.textX=e.style.x+a/2,e.style.y=this._location.y+this._location.height/4-a,e.style.width=2*a,e.style.height=2*a,e.style.text=r.name,n===this.currentIndex)return!0;if(this.currentIndex=n,this.timelineOption.realtime){clearTimeout(this.playTicket);var s=this;this.playTicket=setTimeout(function(){s._setCurrentOption()},200)}return!0},__ondragend:function(){this.isDragend=!0},ondragend:function(e,t){this.isDragend&&e.target&&(!this.timelineOption.realtime&&this._setCurrentOption(),t.dragOut=!0,t.dragIn=!0,t.needRefresh=!1,this.isDragend=!1,this._syncHandleShape())},last:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex-=1,this.currentIndex<0&&(this.currentIndex=this.timelineOption.data.length-1),this._onFrame(),this.currentIndex},next:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex+=1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},play:function(e,t){return this._ctrPlayShape&&"playing"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="playing",this.zr.modShape(this._ctrPlayShape.id),this.zr.refreshNextFrame()),this.timelineOption.autoPlay=null!=t?t:!0,this.timelineOption.autoPlay||clearTimeout(this.playTicket),this.currentIndex=null!=e?e:this.currentIndex+1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},stop:function(){return this._ctrPlayShape&&"stop"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="stop",this.zr.modShape(this._ctrPlayShape.id),this.zr.refreshNextFrame()),this.timelineOption.autoPlay=!1,clearTimeout(this.playTicket),this.currentIndex},resize:function(){this.timelineOption.show&&(this.clear(),this._buildShape(),this._syncHandleShape())},setTheme:function(e){this.timelineOption=this.reformOption(l.clone(this.option.timeline)),this.timelineOption.label.textStyle=this.getTextStyle(this.timelineOption.label.textStyle),this.timelineOption.checkpointStyle.label.textStyle=this.getTextStyle(this.timelineOption.checkpointStyle.label.textStyle),this.myChart.canvasSupported||(this.timelineOption.realtime=!1),this.timelineOption.show&&e&&(this.clear(),this._buildShape(),this._syncHandleShape())},onbeforDispose:function(){clearTimeout(this.playTicket)}},r.prototype.iconLibrary.timelineControl=n,l.inherits(t,i),e("../component").define("timeline",t),t}),n("zrender/loadingEffect/Bar",["require","./Base","../tool/util","../tool/color","../shape/Rectangle"],function(e){function t(e){n.call(this,e)}var n=e("./Base"),i=e("../tool/util"),o=e("../tool/color"),r=e("../shape/Rectangle");return i.inherits(t,n),t.prototype._start=function(e,t){var n=i.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effectOption:{x:0,y:this.canvasHeight/2-30,width:this.canvasWidth,height:5,brushType:"fill",timeInterval:100}}),a=this.createTextShape(n.textStyle),s=this.createBackgroundShape(n.backgroundColor),l=n.effectOption,d=new r({highlightStyle:i.clone(l)});return d.highlightStyle.color=l.color||o.getLinearGradient(l.x,l.y,l.x+l.width,l.y+l.height,[[0,"#ff6400"],[.5,"#ffe100"],[1,"#b1ff00"]]),null!=n.progress?(e(s),d.highlightStyle.width=this.adjust(n.progress,[0,1])*n.effectOption.width,e(d),e(a),void t()):(d.highlightStyle.width=0,setInterval(function(){e(s),d.highlightStyle.width<l.width?d.highlightStyle.width+=8:d.highlightStyle.width=0,e(d),e(a),t()},l.timeInterval))},t}),n("zrender/loadingEffect/Bubble",["require","./Base","../tool/util","../tool/color","../shape/Circle"],function(e){function t(e){n.call(this,e)}var n=e("./Base"),i=e("../tool/util"),o=e("../tool/color"),r=e("../shape/Circle");return i.inherits(t,n),t.prototype._start=function(e,t){for(var n=i.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{n:50,lineWidth:2,brushType:"stroke",color:"random",timeInterval:100}}),a=this.createTextShape(n.textStyle),s=this.createBackgroundShape(n.backgroundColor),l=n.effect,d=l.n,c=l.brushType,h=l.lineWidth,u=[],p=this.canvasWidth,m=this.canvasHeight,f=0;d>f;f++){var g="random"==l.color?o.alpha(o.random(),.3):l.color;u[f]=new r({highlightStyle:{x:Math.ceil(Math.random()*p),y:Math.ceil(Math.random()*m),r:Math.ceil(40*Math.random()),brushType:c,color:g,strokeColor:g,lineWidth:h},animationY:Math.ceil(20*Math.random())})}return setInterval(function(){e(s);for(var n=0;d>n;n++){var i=u[n].highlightStyle;i.y-u[n].animationY+i.r<=0&&(u[n].highlightStyle.y=m+i.r,u[n].highlightStyle.x=Math.ceil(Math.random()*p)),u[n].highlightStyle.y-=u[n].animationY,e(u[n])}e(a),t()},l.timeInterval)},t}),n("zrender/loadingEffect/DynamicLine",["require","./Base","../tool/util","../tool/color","../shape/Line"],function(e){function t(e){n.call(this,e)}var n=e("./Base"),i=e("../tool/util"),o=e("../tool/color"),r=e("../shape/Line");return i.inherits(t,n),t.prototype._start=function(e,t){for(var n=i.merge(this.options,{textStyle:{color:"#fff"},backgroundColor:"rgba(0, 0, 0, 0.8)",effectOption:{n:30,lineWidth:1,color:"random",timeInterval:100}}),a=this.createTextShape(n.textStyle),s=this.createBackgroundShape(n.backgroundColor),l=n.effectOption,d=l.n,c=l.lineWidth,h=[],u=this.canvasWidth,p=this.canvasHeight,m=0;d>m;m++){var f=-Math.ceil(1e3*Math.random()),g=Math.ceil(400*Math.random()),v=Math.ceil(Math.random()*p),y="random"==l.color?o.random():l.color;h[m]=new r({highlightStyle:{xStart:f,yStart:v,xEnd:f+g,yEnd:v,strokeColor:y,lineWidth:c},animationX:Math.ceil(100*Math.random()),len:g})}return setInterval(function(){e(s);for(var n=0;d>n;n++){var i=h[n].highlightStyle;i.xStart>=u&&(h[n].len=Math.ceil(400*Math.random()),i.xStart=-400,i.xEnd=-400+h[n].len,i.yStart=Math.ceil(Math.random()*p),i.yEnd=i.yStart),i.xStart+=h[n].animationX,i.xEnd+=h[n].animationX,e(h[n])}e(a),t()},l.timeInterval)},t}),n("zrender/loadingEffect/Ring",["require","./Base","../tool/util","../tool/color","../shape/Ring","../shape/Sector"],function(e){function t(e){n.call(this,e)}var n=e("./Base"),i=e("../tool/util"),o=e("../tool/color"),r=e("../shape/Ring"),a=e("../shape/Sector");return i.inherits(t,n),t.prototype._start=function(e,t){var n=i.merge(this.options,{textStyle:{color:"#07a"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{x:this.canvasWidth/2,y:this.canvasHeight/2,r0:60,r:100,color:"#bbdcff",brushType:"fill",textPosition:"inside",textFont:"normal 30px verdana",textColor:"rgba(30, 144, 255, 0.6)",timeInterval:100}}),s=n.effect,l=n.textStyle;null==l.x&&(l.x=s.x),null==l.y&&(l.y=s.y+(s.r0+s.r)/2-5);for(var d=this.createTextShape(n.textStyle),c=this.createBackgroundShape(n.backgroundColor),h=s.x,u=s.y,p=s.r0+6,m=s.r-6,f=s.color,g=o.lift(f,.1),v=new r({highlightStyle:i.clone(s)}),y=[],b=o.getGradientColors(["#ff6400","#ffe100","#97ff00"],25),_=15,x=240,E=0;16>E;E++)y.push(new a({highlightStyle:{x:h,y:u,r0:p,r:m,startAngle:x-_,endAngle:x,brushType:"fill",color:g},_color:o.getLinearGradient(h+p*Math.cos(x,!0),u-p*Math.sin(x,!0),h+p*Math.cos(x-_,!0),u-p*Math.sin(x-_,!0),[[0,b[2*E]],[1,b[2*E+1]]])})),x-=_;x=360;for(var E=0;4>E;E++)y.push(new a({highlightStyle:{x:h,y:u,r0:p,r:m,startAngle:x-_,endAngle:x,brushType:"fill",color:g},_color:o.getLinearGradient(h+p*Math.cos(x,!0),u-p*Math.sin(x,!0),h+p*Math.cos(x-_,!0),u-p*Math.sin(x-_,!0),[[0,b[2*E+32]],[1,b[2*E+33]]])})),x-=_;var C=0;if(null!=n.progress){e(c),C=100*this.adjust(n.progress,[0,1]).toFixed(2)/5,v.highlightStyle.text=5*C+"%",e(v);for(var E=0;20>E;E++)y[E].highlightStyle.color=C>E?y[E]._color:g,e(y[E]);return e(d),void t()}return setInterval(function(){e(c),C+=C>=20?-20:1,e(v);for(var n=0;20>n;n++)y[n].highlightStyle.color=C>n?y[n]._color:g,e(y[n]);e(d),t()},s.timeInterval)},t}),n("zrender/loadingEffect/Spin",["require","./Base","../tool/util","../tool/color","../tool/area","../shape/Sector"],function(e){function t(e){n.call(this,e)}var n=e("./Base"),i=e("../tool/util"),o=e("../tool/color"),r=e("../tool/area"),a=e("../shape/Sector");return i.inherits(t,n),t.prototype._start=function(e,t){var n=i.merge(this.options,{textStyle:{color:"#fff",textAlign:"start"},backgroundColor:"rgba(0, 0, 0, 0.8)"}),s=this.createTextShape(n.textStyle),l=10,d=r.getTextWidth(s.highlightStyle.text,s.highlightStyle.textFont),c=r.getTextHeight(s.highlightStyle.text,s.highlightStyle.textFont),h=i.merge(this.options.effect||{},{r0:9,r:15,n:18,color:"#fff",timeInterval:100}),u=this.getLocation(this.options.textStyle,d+l+2*h.r,Math.max(2*h.r,c));h.x=u.x+h.r,h.y=s.highlightStyle.y=u.y+u.height/2,s.highlightStyle.x=h.x+h.r+l;for(var p=this.createBackgroundShape(n.backgroundColor),m=h.n,f=h.x,g=h.y,v=h.r0,y=h.r,b=h.color,_=[],x=Math.round(180/m),E=0;m>E;E++)_[E]=new a({highlightStyle:{x:f,y:g,r0:v,r:y,startAngle:x*E*2,endAngle:x*E*2+x,color:o.alpha(b,(E+1)/m),brushType:"fill"}});var C=[0,f,g];return setInterval(function(){e(p),C[0]-=.3;for(var n=0;m>n;n++)_[n].rotation=C,e(_[n]);e(s),t()},h.timeInterval)},t}),n("zrender/shape/Image",["require","./Base","../tool/util"],function(e){var t=e("./Base"),n=function(e){t.call(this,e)};return n.prototype={type:"image",brush:function(e,t,n){var i=this.style||{};t&&(i=this.getHighlightStyle(i,this.highlightStyle||{}));var o=i.image,r=this;if(this._imageCache||(this._imageCache={}),"string"==typeof o){var a=o;this._imageCache[a]?o=this._imageCache[a]:(o=new Image,o.onload=function(){o.onload=null,r.modSelf(),n()},o.src=a,this._imageCache[a]=o)}if(o){if("IMG"==o.nodeName.toUpperCase())if(window.ActiveXObject){if("complete"!=o.readyState)return}else if(!o.complete)return;var s=i.width||o.width,l=i.height||o.height,d=i.x,c=i.y;if(!o.width||!o.height)return;if(e.save(),this.doClip(e),this.setContext(e,i),this.setTransform(e),i.sWidth&&i.sHeight){var h=i.sx||0,u=i.sy||0;e.drawImage(o,h,u,i.sWidth,i.sHeight,d,c,s,l)}else if(i.sx&&i.sy){var h=i.sx,u=i.sy,p=s-h,m=l-u;e.drawImage(o,h,u,p,m,d,c,s,l)}else e.drawImage(o,d,c,s,l);i.width||(i.width=s),i.height||(i.height=l),this.style.width||(this.style.width=s),this.style.height||(this.style.height=l),this.drawText(e,i,this.style),e.restore()}},getRect:function(e){return{x:e.x,y:e.y,width:e.width,height:e.height}},clearCache:function(){this._imageCache={}}},e("../tool/util").inherits(n,t),n}),n("zrender/loadingEffect/Whirling",["require","./Base","../tool/util","../tool/area","../shape/Ring","../shape/Droplet","../shape/Circle"],function(e){function t(e){n.call(this,e)}var n=e("./Base"),i=e("../tool/util"),o=e("../tool/area"),r=e("../shape/Ring"),a=e("../shape/Droplet"),s=e("../shape/Circle");return i.inherits(t,n),t.prototype._start=function(e,t){var n=i.merge(this.options,{textStyle:{color:"#888",textAlign:"start"},backgroundColor:"rgba(250, 250, 250, 0.8)"}),l=this.createTextShape(n.textStyle),d=10,c=o.getTextWidth(l.highlightStyle.text,l.highlightStyle.textFont),h=o.getTextHeight(l.highlightStyle.text,l.highlightStyle.textFont),u=i.merge(this.options.effect||{},{r:18,colorIn:"#fff",colorOut:"#555",colorWhirl:"#6cf",timeInterval:50}),p=this.getLocation(this.options.textStyle,c+d+2*u.r,Math.max(2*u.r,h));u.x=p.x+u.r,u.y=l.highlightStyle.y=p.y+p.height/2,l.highlightStyle.x=u.x+u.r+d;var m=this.createBackgroundShape(n.backgroundColor),f=new a({highlightStyle:{a:Math.round(u.r/2),b:Math.round(u.r-u.r/6),brushType:"fill",color:u.colorWhirl}}),g=new s({highlightStyle:{r:Math.round(u.r/6),brushType:"fill",color:u.colorIn}}),v=new r({highlightStyle:{r0:Math.round(u.r-u.r/3),r:u.r,brushType:"fill",color:u.colorOut}}),y=[0,u.x,u.y];return f.highlightStyle.x=g.highlightStyle.x=v.highlightStyle.x=y[1],f.highlightStyle.y=g.highlightStyle.y=v.highlightStyle.y=y[2],setInterval(function(){e(m),e(v),y[0]-=.3,f.rotation=y,e(f),e(g),e(l),t()},u.timeInterval)},t}),n("echarts/theme/macarons",[],function(){var e={color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],title:{textStyle:{fontWeight:"normal",color:"#008acd"}},dataRange:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{color:["#1e90ff","#1e90ff","#1e90ff","#1e90ff"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{barBorderRadius:5},emphasis:{barBorderRadius:5}}},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#d87a80"}}},emphasis:{areaStyle:{color:"#fe994e"}}}},force:{itemStyle:{normal:{linkStyle:{color:"#1e90ff"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}},textStyle:{fontFamily:", Arial, Verdana, sans-serif"}};return e}),n("echarts/theme/infographic",[],function(){var e={color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"],title:{textStyle:{fontWeight:"normal",color:"#27727B"}},dataRange:{x:"right",y:"center",itemWidth:5,itemHeight:25,color:["#C1232B","#FCCE10"]},toolbox:{color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#27727B",type:"dashed"},crossStyle:{color:"#27727B"},shadowStyle:{color:"rgba(200,200,200,0.3)"}}},dataZoom:{dataBackgroundColor:"rgba(181,195,52,0.3)",fillerColor:"rgba(181,195,52,0.2)",handleColor:"#27727B"},grid:{borderWidth:0},categoryAxis:{axisLine:{lineStyle:{color:"#27727B"}},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1},splitArea:{show:!1},splitLine:{lineStyle:{color:["#ccc"],type:"dashed"}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#27727B"},controlStyle:{normal:{color:"#27727B"},emphasis:{color:"#27727B"}},symbol:"emptyCircle",symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:"#fff",lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:"circle",symbolSize:3.5},k:{itemStyle:{normal:{color:"#C1232B",color0:"#B5C334",lineStyle:{width:1,color:"#C1232B",color0:"#B5C334"}}}},scatter:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(200,200,200,0.5)"},emphasis:{borderWidth:0}},symbol:"star4",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#C1232B"}}},emphasis:{areaStyle:{color:"#fe994e"},label:{textStyle:{color:"rgb(100,0,0)"}}}}},force:{itemStyle:{normal:{linkStyle:{color:"#27727B"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{center:["50%","80%"],radius:"100%",startAngle:180,endAngle:0,axisLine:{show:!0,lineStyle:{color:[[.2,"#B5C334"],[.8,"#27727B"],[1,"#C1232B"]],width:"40%"}},axisTick:{splitNumber:2,length:5,lineStyle:{color:"#fff"}},axisLabel:{textStyle:{color:"#fff",fontWeight:"bolder"}},splitLine:{length:"5%",lineStyle:{color:"#fff"}},pointer:{width:"40%",length:"80%",color:"#fff"},title:{offsetCenter:[0,-20],textStyle:{color:"auto",fontSize:20}},detail:{offsetCenter:[0,0],textStyle:{color:"auto",fontSize:40}}},textStyle:{fontFamily:", Arial, Verdana, sans-serif"}};return e}),n("zrender/shape/Rectangle",["require","./Base","../tool/util"],function(e){var t=e("./Base"),n=function(e){t.call(this,e)};return n.prototype={type:"rectangle",_buildRadiusPath:function(e,t){var n,i,o,r,a=t.x,s=t.y,l=t.width,d=t.height,c=t.radius;"number"==typeof c?n=i=o=r=c:c instanceof Array?1===c.length?n=i=o=r=c[0]:2===c.length?(n=o=c[0],i=r=c[1]):3===c.length?(n=c[0],i=r=c[1],o=c[2]):(n=c[0],i=c[1],o=c[2],r=c[3]):n=i=o=r=0;var h;n+i>l&&(h=n+i,n*=l/h,i*=l/h),o+r>l&&(h=o+r,o*=l/h,r*=l/h),i+o>d&&(h=i+o,i*=d/h,o*=d/h),n+r>d&&(h=n+r,n*=d/h,r*=d/h),e.moveTo(a+n,s),e.lineTo(a+l-i,s),0!==i&&e.quadraticCurveTo(a+l,s,a+l,s+i),e.lineTo(a+l,s+d-o),0!==o&&e.quadraticCurveTo(a+l,s+d,a+l-o,s+d),e.lineTo(a+r,s+d),0!==r&&e.quadraticCurveTo(a,s+d,a,s+d-r),e.lineTo(a,s+n),0!==n&&e.quadraticCurveTo(a,s,a+n,s)},buildPath:function(e,t){t.radius?this._buildRadiusPath(e,t):(e.moveTo(t.x,t.y),e.lineTo(t.x+t.width,t.y),e.lineTo(t.x+t.width,t.y+t.height),e.lineTo(t.x,t.y+t.height),e.lineTo(t.x,t.y)),e.closePath()},getRect:function(e){if(e.__rect)return e.__rect;var t;return t="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(e.x-t/2),y:Math.round(e.y-t/2),width:e.width+t,height:e.height+t},e.__rect}},e("../tool/util").inherits(n,t),n}),n("echarts/util/accMath",[],function(){function e(e,t){var n=e.toString(),i=t.toString(),o=0;try{o=i.split(".")[1].length}catch(r){}try{o-=n.split(".")[1].length}catch(r){}return(n.replace(".","")-0)/(i.replace(".","")-0)*Math.pow(10,o)}function t(e,t){var n=e.toString(),i=t.toString(),o=0;try{o+=n.split(".")[1].length}catch(r){}try{o+=i.split(".")[1].length}catch(r){}return(n.replace(".","")-0)*(i.replace(".","")-0)/Math.pow(10,o)}function n(e,t){var n=0,i=0;try{n=e.toString().split(".")[1].length}catch(o){}try{i=t.toString().split(".")[1].length}catch(o){}var r=Math.pow(10,Math.max(n,i));return(Math.round(e*r)+Math.round(t*r))/r}function i(e,t){return n(e,-t)}return{accDiv:e,accMul:t,accAdd:n,accSub:i}}),n("echarts/util/shape/Symbol",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util","./normalIsCover"],function(e){function t(e){n.call(this,e)}var n=e("zrender/shape/Base"),i=e("zrender/shape/Polygon"),o=new i({}),r=e("zrender/tool/util");return t.prototype={type:"symbol",buildPath:function(e,t){var n=t.pointList,i=n.length;if(0!==i)for(var o,r,a,s,l,d=1e4,c=Math.ceil(i/d),h=n[0]instanceof Array,u=t.size?t.size:2,p=u,m=u/2,f=2*Math.PI,g=0;c>g;g++){e.beginPath(),o=g*d,r=o+d,r=r>i?i:r;for(var v=o;r>v;v++)if(t.random&&(a=t["randomMap"+v%20]/100,p=u*a*a,m=p/2),h?(s=n[v][0],l=n[v][1]):(s=n[v].x,l=n[v].y),3>p)e.rect(s-m,l-m,p,p);else switch(t.iconType){case"circle":e.moveTo(s,l),e.arc(s,l,m,0,f,!0);break;case"diamond":e.moveTo(s,l-m),e.lineTo(s+m/3,l-m/3),e.lineTo(s+m,l),e.lineTo(s+m/3,l+m/3),e.lineTo(s,l+m),e.lineTo(s-m/3,l+m/3),e.lineTo(s-m,l),e.lineTo(s-m/3,l-m/3),e.lineTo(s,l-m);break;default:e.rect(s-m,l-m,p,p)}if(e.closePath(),c-1>g)switch(t.brushType){case"both":e.fill(),t.lineWidth>0&&e.stroke();break;case"stroke":t.lineWidth>0&&e.stroke();break;default:e.fill()}}},getRect:function(e){return e.__rect||o.getRect(e)},isCover:e("./normalIsCover")},r.inherits(t,n),t}),n("zrender/shape/Line",["require","./Base","./util/dashedLineTo","../tool/util"],function(e){var t=e("./Base"),n=e("./util/dashedLineTo"),i=function(e){this.brushTypeOnly="stroke",this.textPosition="end",t.call(this,e)};return i.prototype={type:"line",buildPath:function(e,t){if(t.lineType&&"solid"!=t.lineType){if("dashed"==t.lineType||"dotted"==t.lineType){var i=(t.lineWidth||1)*("dashed"==t.lineType?5:1);n(e,t.xStart,t.yStart,t.xEnd,t.yEnd,i)}}else e.moveTo(t.xStart,t.yStart),e.lineTo(t.xEnd,t.yEnd)},getRect:function(e){if(e.__rect)return e.__rect;var t=e.lineWidth||1;return e.__rect={x:Math.min(e.xStart,e.xEnd)-t,y:Math.min(e.yStart,e.yEnd)-t,width:Math.abs(e.xStart-e.xEnd)+t,height:Math.abs(e.yStart-e.yEnd)+t},e.__rect}},e("../tool/util").inherits(i,t),i}),n("echarts/util/number",[],function(){function e(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function t(t,n){return"string"==typeof t?e(t).match(/%$/)?parseFloat(t)/100*n:parseFloat(t):t}function n(e,n){return[t(n[0],e.getWidth()),t(n[1],e.getHeight())]}function i(e,n){n instanceof Array||(n=[0,n]);var i=Math.min(e.getWidth(),e.getHeight())/2;return[t(n[0],i),t(n[1],i)]}function o(e){return isNaN(e)?"-":(e=(e+"").split("."),e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:""))}function r(e){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}return{parsePercent:t,parseCenter:n,parseRadius:i,addCommas:o,getPrecision:r}}),n("zrender/shape/Polygon",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","../tool/util"],function(e){var t=e("./Base"),n=e("./util/smoothSpline"),i=e("./util/smoothBezier"),o=e("./util/dashedLineTo"),r=function(e){t.call(this,e)};return r.prototype={type:"polygon",buildPath:function(e,t){var r=t.pointList;if(!(r.length<2)){if(t.smooth&&"spline"!==t.smooth){var a=i(r,t.smooth,!0,t.smoothConstraint);e.moveTo(r[0][0],r[0][1]);for(var s,l,d,c=r.length,h=0;c>h;h++)s=a[2*h],l=a[2*h+1],d=r[(h+1)%c],e.bezierCurveTo(s[0],s[1],l[0],l[1],d[0],d[1])}else if("spline"===t.smooth&&(r=n(r,!0)),t.lineType&&"solid"!=t.lineType){if("dashed"==t.lineType||"dotted"==t.lineType){var u=t._dashLength||(t.lineWidth||1)*("dashed"==t.lineType?5:1);t._dashLength=u,e.moveTo(r[0][0],r[0][1]);for(var h=1,p=r.length;p>h;h++)o(e,r[h-1][0],r[h-1][1],r[h][0],r[h][1],u);o(e,r[r.length-1][0],r[r.length-1][1],r[0][0],r[0][1],u)}}else{e.moveTo(r[0][0],r[0][1]);for(var h=1,p=r.length;p>h;h++)e.lineTo(r[h][0],r[h][1]);e.lineTo(r[0][0],r[0][1])}e.closePath()}},getRect:function(e){if(e.__rect)return e.__rect;for(var t=Number.MAX_VALUE,n=Number.MIN_VALUE,i=Number.MAX_VALUE,o=Number.MIN_VALUE,r=e.pointList,a=0,s=r.length;s>a;a++)r[a][0]<t&&(t=r[a][0]),r[a][0]>n&&(n=r[a][0]),r[a][1]<i&&(i=r[a][1]),r[a][1]>o&&(o=r[a][1]);var l;return l="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(t-l/2),y:Math.round(i-l/2),width:n-t+l,height:o-i+l},e.__rect}},e("../tool/util").inherits(r,t),r}),n("echarts/util/shape/Ribbon",["require","zrender/shape/Base","zrender/shape/util/PathProxy","zrender/tool/util","zrender/tool/area"],function(e){function t(e){n.call(this,e),this._pathProxy=new i}var n=e("zrender/shape/Base"),i=e("zrender/shape/util/PathProxy"),o=e("zrender/tool/util"),r=e("zrender/tool/area");return t.prototype={type:"ribbon",buildPath:function(e,t){var n=t.clockWise||!1,i=this._pathProxy;i.begin(e);var o=t.x,r=t.y,a=t.r,s=t.source0/180*Math.PI,l=t.source1/180*Math.PI,d=t.target0/180*Math.PI,c=t.target1/180*Math.PI,h=o+Math.cos(s)*a,u=r+Math.sin(s)*a,p=o+Math.cos(l)*a,m=r+Math.sin(l)*a,f=o+Math.cos(d)*a,g=r+Math.sin(d)*a,v=o+Math.cos(c)*a,y=r+Math.sin(c)*a;i.moveTo(h,u),i.arc(o,r,t.r,s,l,!n),i.bezierCurveTo(.7*(o-p)+p,.7*(r-m)+m,.7*(o-f)+f,.7*(r-g)+g,f,g),(t.source0!==t.target0||t.source1!==t.target1)&&(i.arc(o,r,t.r,d,c,!n),i.bezierCurveTo(.7*(o-v)+v,.7*(r-y)+y,.7*(o-h)+h,.7*(r-u)+u,h,u))},getRect:function(e){return e.__rect?e.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,e),this._pathProxy.fastBoundingRect())},isCover:function(e,t){var n=this.getRect(this.style);return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height?r.isInsidePath(this._pathProxy.pathCommands,0,"fill",e,t):void 0}},o.inherits(t,n),t}),n("echarts/component/dataRange",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","../util/shape/HandlePolygon","../config","zrender/tool/util","zrender/tool/event","zrender/tool/area","zrender/tool/color","../component"],function(e){function t(e,t,i,o,r){n.call(this,e,t,i,o,r);var s=this;s._ondrift=function(e,t){return s.__ondrift(this,e,t)},s._ondragend=function(){return s.__ondragend()},s._dataRangeSelected=function(e){return s.__dataRangeSelected(e)},s._dispatchHoverLink=function(e){return s.__dispatchHoverLink(e)},s._onhoverlink=function(e){return s.__onhoverlink(e)},this._selectedMap={},this._range={},this.refresh(o),t.bind(a.EVENT.HOVER,this._onhoverlink)}var n=e("./base"),i=e("zrender/shape/Text"),o=e("zrender/shape/Rectangle"),r=e("../util/shape/HandlePolygon"),a=e("../config");a.dataRange={zlevel:0,z:4,show:!0,orient:"vertical",x:"left",y:"bottom",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,precision:0,splitNumber:5,splitList:null,calculable:!1,selectedMode:!0,hoverLink:!0,realtime:!0,color:["#006edd","#e0ffff"],textStyle:{color:"#333"}};var s=e("zrender/tool/util"),l=e("zrender/tool/event"),d=e("zrender/tool/area"),c=e("zrender/tool/color");return t.prototype={type:a.COMPONENT_TYPE_DATARANGE,_textGap:10,_buildShape:function(){if(this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._isContinuity()?this._buildGradient():this._buildItem(),this.dataRangeOption.show)for(var e=0,t=this.shapeList.length;t>e;e++)this.zr.addShape(this.shapeList[e]);this._syncShapeFromRange()},_buildItem:function(){var e,t,n,r,a=this._valueTextList,s=a.length,l=this.getFont(this.dataRangeOption.textStyle),c=this._itemGroupLocation.x,h=this._itemGroupLocation.y,u=this.dataRangeOption.itemWidth,p=this.dataRangeOption.itemHeight,m=this.dataRangeOption.itemGap,f=d.getTextHeight("",l);
"vertical"==this.dataRangeOption.orient&&"right"==this.dataRangeOption.x&&(c=this._itemGroupLocation.x+this._itemGroupLocation.width-u);var g=!0;this.dataRangeOption.text&&(g=!1,this.dataRangeOption.text[0]&&(n=this._getTextShape(c,h,this.dataRangeOption.text[0]),"horizontal"==this.dataRangeOption.orient?c+=d.getTextWidth(this.dataRangeOption.text[0],l)+this._textGap:(h+=f+this._textGap,n.style.y+=f/2+this._textGap,n.style.textBaseline="bottom"),this.shapeList.push(new i(n))));for(var v=0;s>v;v++)e=a[v],r=this.getColorByIndex(v),t=this._getItemShape(c,h,u,p,this._selectedMap[v]?r:"#ccc"),t._idx=v,t.onmousemove=this._dispatchHoverLink,this.dataRangeOption.selectedMode&&(t.clickable=!0,t.onclick=this._dataRangeSelected),this.shapeList.push(new o(t)),g&&(n={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:c+u+5,y:h,color:this._selectedMap[v]?this.dataRangeOption.textStyle.color:"#ccc",text:a[v],textFont:l,textBaseline:"top"},highlightStyle:{brushType:"fill"}},"vertical"==this.dataRangeOption.orient&&"right"==this.dataRangeOption.x&&(n.style.x-=u+10,n.style.textAlign="right"),n._idx=v,n.onmousemove=this._dispatchHoverLink,this.dataRangeOption.selectedMode&&(n.clickable=!0,n.onclick=this._dataRangeSelected),this.shapeList.push(new i(n))),"horizontal"==this.dataRangeOption.orient?c+=u+(g?5:0)+(g?d.getTextWidth(e,l):0)+m:h+=p+m;!g&&this.dataRangeOption.text[1]&&("horizontal"==this.dataRangeOption.orient?c=c-m+this._textGap:h=h-m+this._textGap,n=this._getTextShape(c,h,this.dataRangeOption.text[1]),"horizontal"!=this.dataRangeOption.orient&&(n.style.y-=5,n.style.textBaseline="top"),this.shapeList.push(new i(n)))},_buildGradient:function(){var t,n,r=this.getFont(this.dataRangeOption.textStyle),a=this._itemGroupLocation.x,s=this._itemGroupLocation.y,l=this.dataRangeOption.itemWidth,c=this.dataRangeOption.itemHeight,h=d.getTextHeight("",r),u=10,p=!0;this.dataRangeOption.text&&(p=!1,this.dataRangeOption.text[0]&&(n=this._getTextShape(a,s,this.dataRangeOption.text[0]),"horizontal"==this.dataRangeOption.orient?a+=d.getTextWidth(this.dataRangeOption.text[0],r)+this._textGap:(s+=h+this._textGap,n.style.y+=h/2+this._textGap,n.style.textBaseline="bottom"),this.shapeList.push(new i(n))));for(var m=e("zrender/tool/color"),f=1/(this.dataRangeOption.color.length-1),g=[],v=0,y=this.dataRangeOption.color.length;y>v;v++)g.push([v*f,this.dataRangeOption.color[v]]);"horizontal"==this.dataRangeOption.orient?(t={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:a,y:s,width:l*u,height:c,color:m.getLinearGradient(a,s,a+l*u,s,g)},hoverable:!1},a+=l*u+this._textGap):(t={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:a,y:s,width:l,height:c*u,color:m.getLinearGradient(a,s,a,s+c*u,g)},hoverable:!1},s+=c*u+this._textGap),this.shapeList.push(new o(t)),this._calculableLocation=t.style,this.dataRangeOption.calculable&&(this._buildFiller(),this._bulidMask(),this._bulidHandle()),this._buildIndicator(),!p&&this.dataRangeOption.text[1]&&(n=this._getTextShape(a,s,this.dataRangeOption.text[1]),this.shapeList.push(new i(n)))},_buildIndicator:function(){var e,t,n=this._calculableLocation.x,i=this._calculableLocation.y,o=this._calculableLocation.width,a=this._calculableLocation.height,s=5;"horizontal"==this.dataRangeOption.orient?"bottom"!=this.dataRangeOption.y?(e=[[n,i+a],[n-s,i+a+s],[n+s,i+a+s]],t="bottom"):(e=[[n,i],[n-s,i-s],[n+s,i-s]],t="top"):"right"!=this.dataRangeOption.x?(e=[[n+o,i],[n+o+s,i-s],[n+o+s,i+s]],t="right"):(e=[[n,i],[n-s,i-s],[n-s,i+s]],t="left"),this._indicatorShape={style:{pointList:e,color:"#fff",__rect:{x:Math.min(e[0][0],e[1][0]),y:Math.min(e[0][1],e[1][1]),width:s*("horizontal"==this.dataRangeOption.orient?2:1),height:s*("horizontal"==this.dataRangeOption.orient?1:2)}},highlightStyle:{brushType:"fill",textPosition:t,textColor:this.dataRangeOption.textStyle.color},hoverable:!1},this._indicatorShape=new r(this._indicatorShape)},_buildFiller:function(){this._fillerShape={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{x:this._calculableLocation.x,y:this._calculableLocation.y,width:this._calculableLocation.width,height:this._calculableLocation.height,color:"rgba(255,255,255,0)"},highlightStyle:{strokeColor:"rgba(255,255,255,0.5)",lineWidth:1},draggable:!0,ondrift:this._ondrift,ondragend:this._ondragend,onmousemove:this._dispatchHoverLink,_type:"filler"},this._fillerShape=new o(this._fillerShape),this.shapeList.push(this._fillerShape)},_bulidHandle:function(){var e,t,n,i,o,a,s,l,c=this._calculableLocation.x,h=this._calculableLocation.y,u=this._calculableLocation.width,p=this._calculableLocation.height,m=this.getFont(this.dataRangeOption.textStyle),f=d.getTextHeight("",m),g=Math.max(d.getTextWidth(this._textFormat(this.dataRangeOption.max),m),d.getTextWidth(this._textFormat(this.dataRangeOption.min),m))+2;"horizontal"==this.dataRangeOption.orient?"bottom"!=this.dataRangeOption.y?(e=[[c,h],[c,h+p+f],[c-f,h+p+f],[c-1,h+p],[c-1,h]],t=c-g/2-f,n=h+p+f/2+2,i={x:c-g-f,y:h+p,width:g+f,height:f},o=[[c+u,h],[c+u,h+p+f],[c+u+f,h+p+f],[c+u+1,h+p],[c+u+1,h]],a=c+u+g/2+f,s=n,l={x:c+u,y:h+p,width:g+f,height:f}):(e=[[c,h+p],[c,h-f],[c-f,h-f],[c-1,h],[c-1,h+p]],t=c-g/2-f,n=h-f/2-2,i={x:c-g-f,y:h-f,width:g+f,height:f},o=[[c+u,h+p],[c+u,h-f],[c+u+f,h-f],[c+u+1,h],[c+u+1,h+p]],a=c+u+g/2+f,s=n,l={x:c+u,y:h-f,width:g+f,height:f}):(g+=f,"right"!=this.dataRangeOption.x?(e=[[c,h],[c+u+f,h],[c+u+f,h-f],[c+u,h-1],[c,h-1]],t=c+u+g/2+f/2,n=h-f/2,i={x:c+u,y:h-f,width:g+f,height:f},o=[[c,h+p],[c+u+f,h+p],[c+u+f,h+f+p],[c+u,h+1+p],[c,h+p+1]],a=t,s=h+p+f/2,l={x:c+u,y:h+p,width:g+f,height:f}):(e=[[c+u,h],[c-f,h],[c-f,h-f],[c,h-1],[c+u,h-1]],t=c-g/2-f/2,n=h-f/2,i={x:c-g-f,y:h-f,width:g+f,height:f},o=[[c+u,h+p],[c-f,h+p],[c-f,h+f+p],[c,h+1+p],[c+u,h+p+1]],a=t,s=h+p+f/2,l={x:c-g-f,y:h+p,width:g+f,height:f})),this._startShape={style:{pointList:e,text:this._textFormat(this.dataRangeOption.max),textX:t,textY:n,textFont:m,color:this.getColor(this.dataRangeOption.max),rect:i,x:e[0][0],y:e[0][1],_x:e[0][0],_y:e[0][1]}},this._startShape.highlightStyle={strokeColor:this._startShape.style.color,lineWidth:1},this._endShape={style:{pointList:o,text:this._textFormat(this.dataRangeOption.min),textX:a,textY:s,textFont:m,color:this.getColor(this.dataRangeOption.min),rect:l,x:o[0][0],y:o[0][1],_x:o[0][0],_y:o[0][1]}},this._endShape.highlightStyle={strokeColor:this._endShape.style.color,lineWidth:1},this._startShape.zlevel=this._endShape.zlevel=this.getZlevelBase(),this._startShape.z=this._endShape.z=this.getZBase()+1,this._startShape.draggable=this._endShape.draggable=!0,this._startShape.ondrift=this._endShape.ondrift=this._ondrift,this._startShape.ondragend=this._endShape.ondragend=this._ondragend,this._startShape.style.textColor=this._endShape.style.textColor=this.dataRangeOption.textStyle.color,this._startShape.style.textAlign=this._endShape.style.textAlign="center",this._startShape.style.textPosition=this._endShape.style.textPosition="specific",this._startShape.style.textBaseline=this._endShape.style.textBaseline="middle",this._startShape.style.width=this._endShape.style.width=0,this._startShape.style.height=this._endShape.style.height=0,this._startShape.style.textPosition=this._endShape.style.textPosition="specific",this._startShape=new r(this._startShape),this._endShape=new r(this._endShape),this.shapeList.push(this._startShape),this.shapeList.push(this._endShape)},_bulidMask:function(){var e=this._calculableLocation.x,t=this._calculableLocation.y,n=this._calculableLocation.width,i=this._calculableLocation.height;this._startMask={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{x:e,y:t,width:"horizontal"==this.dataRangeOption.orient?0:n,height:"horizontal"==this.dataRangeOption.orient?i:0,color:"#ccc"},hoverable:!1},this._endMask={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{x:"horizontal"==this.dataRangeOption.orient?e+n:e,y:"horizontal"==this.dataRangeOption.orient?t:t+i,width:"horizontal"==this.dataRangeOption.orient?0:n,height:"horizontal"==this.dataRangeOption.orient?i:0,color:"#ccc"},hoverable:!1},this._startMask=new o(this._startMask),this._endMask=new o(this._endMask),this.shapeList.push(this._startMask),this.shapeList.push(this._endMask)},_buildBackground:function(){var e=this.reformCssArray(this.dataRangeOption.padding);this.shapeList.push(new o({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-e[3],y:this._itemGroupLocation.y-e[0],width:this._itemGroupLocation.width+e[3]+e[1],height:this._itemGroupLocation.height+e[0]+e[2],brushType:0===this.dataRangeOption.borderWidth?"fill":"both",color:this.dataRangeOption.backgroundColor,strokeColor:this.dataRangeOption.borderColor,lineWidth:this.dataRangeOption.borderWidth}}))},_getItemGroupLocation:function(){var e=this._valueTextList,t=e.length,n=this.dataRangeOption.itemGap,i=this.dataRangeOption.itemWidth,o=this.dataRangeOption.itemHeight,r=0,a=0,s=this.getFont(this.dataRangeOption.textStyle),l=d.getTextHeight("",s),c=10;if("horizontal"==this.dataRangeOption.orient){if(this.dataRangeOption.text||this._isContinuity())r=(this._isContinuity()?i*c+n:t*(i+n))+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[0]?d.getTextWidth(this.dataRangeOption.text[0],s)+this._textGap:0)+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[1]?d.getTextWidth(this.dataRangeOption.text[1],s)+this._textGap:0);else{i+=5;for(var h=0;t>h;h++)r+=i+d.getTextWidth(e[h],s)+n}r-=n,a=Math.max(l,o)}else{var u;if(this.dataRangeOption.text||this._isContinuity())a=(this._isContinuity()?o*c+n:t*(o+n))+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[0]?this._textGap+l:0)+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[1]?this._textGap+l:0),u=Math.max(d.getTextWidth(this.dataRangeOption.text&&this.dataRangeOption.text[0]||"",s),d.getTextWidth(this.dataRangeOption.text&&this.dataRangeOption.text[1]||"",s)),r=Math.max(i,u);else{a=(o+n)*t,i+=5,u=0;for(var h=0;t>h;h++)u=Math.max(u,d.getTextWidth(e[h],s));r=i+u}a-=n}var p,m=this.reformCssArray(this.dataRangeOption.padding),f=this.zr.getWidth();switch(this.dataRangeOption.x){case"center":p=Math.floor((f-r)/2);break;case"left":p=m[3]+this.dataRangeOption.borderWidth;break;case"right":p=f-r-m[1]-this.dataRangeOption.borderWidth;break;default:p=this.parsePercent(this.dataRangeOption.x,f),p=isNaN(p)?0:p}var g,v=this.zr.getHeight();switch(this.dataRangeOption.y){case"top":g=m[0]+this.dataRangeOption.borderWidth;break;case"bottom":g=v-a-m[2]-this.dataRangeOption.borderWidth;break;case"center":g=Math.floor((v-a)/2);break;default:g=this.parsePercent(this.dataRangeOption.y,v),g=isNaN(g)?0:g}if(this.dataRangeOption.calculable){var y=Math.max(d.getTextWidth(this.dataRangeOption.max,s),d.getTextWidth(this.dataRangeOption.min,s))+l;"horizontal"==this.dataRangeOption.orient?(y>p&&(p=y),p+r+y>f&&(p-=y)):(l>g&&(g=l),g+a+l>v&&(g-=l))}return{x:p,y:g,width:r,height:a}},_getTextShape:function(e,t,n){return{zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:"horizontal"==this.dataRangeOption.orient?e:this._itemGroupLocation.x+this._itemGroupLocation.width/2,y:"horizontal"==this.dataRangeOption.orient?this._itemGroupLocation.y+this._itemGroupLocation.height/2:t,color:this.dataRangeOption.textStyle.color,text:n,textFont:this.getFont(this.dataRangeOption.textStyle),textBaseline:"horizontal"==this.dataRangeOption.orient?"middle":"top",textAlign:"horizontal"==this.dataRangeOption.orient?"left":"center"},hoverable:!1}},_getItemShape:function(e,t,n,i,o){return{zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:e,y:t+1,width:n,height:i-2,color:o},highlightStyle:{strokeColor:o,lineWidth:1}}},__ondrift:function(e,t,n){var i=this._calculableLocation.x,o=this._calculableLocation.y,r=this._calculableLocation.width,a=this._calculableLocation.height;return"horizontal"==this.dataRangeOption.orient?e.style.x+t<=i?e.style.x=i:e.style.x+t+e.style.width>=i+r?e.style.x=i+r-e.style.width:e.style.x+=t:e.style.y+n<=o?e.style.y=o:e.style.y+n+e.style.height>=o+a?e.style.y=o+a-e.style.height:e.style.y+=n,"filler"==e._type?this._syncHandleShape():this._syncFillerShape(e),this.dataRangeOption.realtime&&this._dispatchDataRange(),!0},__ondragend:function(){this.isDragend=!0},ondragend:function(e,t){this.isDragend&&e.target&&(t.dragOut=!0,t.dragIn=!0,this.dataRangeOption.realtime||this._dispatchDataRange(),t.needRefresh=!1,this.isDragend=!1)},_syncShapeFromRange:function(){var e=this.dataRangeOption.range||{},t=e.start,n=e.end;if(t>n&&(t=[n,n=t][0]),this._range.end=null!=t?t:null!=this._range.end?this._range.end:0,this._range.start=null!=n?n:null!=this._range.start?this._range.start:100,100!=this._range.start||0!==this._range.end){if("horizontal"==this.dataRangeOption.orient){var i=this._fillerShape.style.width;this._fillerShape.style.x+=i*(100-this._range.start)/100,this._fillerShape.style.width=i*(this._range.start-this._range.end)/100}else{var o=this._fillerShape.style.height;this._fillerShape.style.y+=o*(100-this._range.start)/100,this._fillerShape.style.height=o*(this._range.start-this._range.end)/100}this.zr.modShape(this._fillerShape.id),this._syncHandleShape()}},_syncHandleShape:function(){var e=this._calculableLocation.x,t=this._calculableLocation.y,n=this._calculableLocation.width,i=this._calculableLocation.height;"horizontal"==this.dataRangeOption.orient?(this._startShape.style.x=this._fillerShape.style.x,this._startMask.style.width=this._startShape.style.x-e,this._endShape.style.x=this._fillerShape.style.x+this._fillerShape.style.width,this._endMask.style.x=this._endShape.style.x,this._endMask.style.width=e+n-this._endShape.style.x,this._range.start=Math.ceil(100-(this._startShape.style.x-e)/n*100),this._range.end=Math.floor(100-(this._endShape.style.x-e)/n*100)):(this._startShape.style.y=this._fillerShape.style.y,this._startMask.style.height=this._startShape.style.y-t,this._endShape.style.y=this._fillerShape.style.y+this._fillerShape.style.height,this._endMask.style.y=this._endShape.style.y,this._endMask.style.height=t+i-this._endShape.style.y,this._range.start=Math.ceil(100-(this._startShape.style.y-t)/i*100),this._range.end=Math.floor(100-(this._endShape.style.y-t)/i*100)),this._syncShape()},_syncFillerShape:function(e){var t,n,i=this._calculableLocation.x,o=this._calculableLocation.y,r=this._calculableLocation.width,a=this._calculableLocation.height;"horizontal"==this.dataRangeOption.orient?(t=this._startShape.style.x,n=this._endShape.style.x,e.id==this._startShape.id&&t>=n?(n=t,this._endShape.style.x=t):e.id==this._endShape.id&&t>=n&&(t=n,this._startShape.style.x=t),this._fillerShape.style.x=t,this._fillerShape.style.width=n-t,this._startMask.style.width=t-i,this._endMask.style.x=n,this._endMask.style.width=i+r-n,this._range.start=Math.ceil(100-(t-i)/r*100),this._range.end=Math.floor(100-(n-i)/r*100)):(t=this._startShape.style.y,n=this._endShape.style.y,e.id==this._startShape.id&&t>=n?(n=t,this._endShape.style.y=t):e.id==this._endShape.id&&t>=n&&(t=n,this._startShape.style.y=t),this._fillerShape.style.y=t,this._fillerShape.style.height=n-t,this._startMask.style.height=t-o,this._endMask.style.y=n,this._endMask.style.height=o+a-n,this._range.start=Math.ceil(100-(t-o)/a*100),this._range.end=Math.floor(100-(n-o)/a*100)),this._syncShape()},_syncShape:function(){this._startShape.position=[this._startShape.style.x-this._startShape.style._x,this._startShape.style.y-this._startShape.style._y],this._startShape.style.text=this._textFormat(this._gap*this._range.start+this.dataRangeOption.min),this._startShape.style.color=this._startShape.highlightStyle.strokeColor=this.getColor(this._gap*this._range.start+this.dataRangeOption.min),this._endShape.position=[this._endShape.style.x-this._endShape.style._x,this._endShape.style.y-this._endShape.style._y],this._endShape.style.text=this._textFormat(this._gap*this._range.end+this.dataRangeOption.min),this._endShape.style.color=this._endShape.highlightStyle.strokeColor=this.getColor(this._gap*this._range.end+this.dataRangeOption.min),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.modShape(this._startMask.id),this.zr.modShape(this._endMask.id),this.zr.modShape(this._fillerShape.id),this.zr.refreshNextFrame()},_dispatchDataRange:function(){this.messageCenter.dispatch(a.EVENT.DATA_RANGE,null,{range:{start:this._range.end,end:this._range.start}},this.myChart)},__dataRangeSelected:function(e){if("single"===this.dataRangeOption.selectedMode)for(var t in this._selectedMap)this._selectedMap[t]=!1;var n=e.target._idx;this._selectedMap[n]=!this._selectedMap[n];var i,o;this._useCustomizedSplit()?(i=this._splitList[n].max,o=this._splitList[n].min):(i=(this._colorList.length-n)*this._gap+this.dataRangeOption.min,o=i-this._gap),this.messageCenter.dispatch(a.EVENT.DATA_RANGE_SELECTED,e.event,{selected:this._selectedMap,target:n,valueMax:i,valueMin:o},this.myChart),this.messageCenter.dispatch(a.EVENT.REFRESH,null,null,this.myChart)},__dispatchHoverLink:function(e){var t,n;if(this.dataRangeOption.calculable){var i,o=this.dataRangeOption.max-this.dataRangeOption.min;i="horizontal"==this.dataRangeOption.orient?(1-(l.getX(e.event)-this._calculableLocation.x)/this._calculableLocation.width)*o:(1-(l.getY(e.event)-this._calculableLocation.y)/this._calculableLocation.height)*o,t=i-.05*o,n=i+.05*o}else if(this._useCustomizedSplit()){var r=e.target._idx;n=this._splitList[r].max,t=this._splitList[r].min}else{var r=e.target._idx;n=(this._colorList.length-r)*this._gap+this.dataRangeOption.min,t=n-this._gap}this.messageCenter.dispatch(a.EVENT.DATA_RANGE_HOVERLINK,e.event,{valueMin:t,valueMax:n},this.myChart)},__onhoverlink:function(e){if(this.dataRangeOption.show&&this.dataRangeOption.hoverLink&&this._indicatorShape&&e&&null!=e.seriesIndex&&null!=e.dataIndex){var t=e.value;if(""===t||isNaN(t))return;t<this.dataRangeOption.min?t=this.dataRangeOption.min:t>this.dataRangeOption.max&&(t=this.dataRangeOption.max),this._indicatorShape.position="horizontal"==this.dataRangeOption.orient?[(this.dataRangeOption.max-t)/(this.dataRangeOption.max-this.dataRangeOption.min)*this._calculableLocation.width,0]:[0,(this.dataRangeOption.max-t)/(this.dataRangeOption.max-this.dataRangeOption.min)*this._calculableLocation.height],this._indicatorShape.style.text=this._textFormat(e.value),this._indicatorShape.style.color=this.getColor(t),this.zr.addHoverShape(this._indicatorShape)}},_textFormat:function(e,t){var n=this.dataRangeOption;if(e!==-Number.MAX_VALUE&&(e=(+e).toFixed(n.precision)),null!=t&&t!==Number.MAX_VALUE&&(t=(+t).toFixed(n.precision)),n.formatter){if("string"==typeof n.formatter)return n.formatter.replace("{value}",e===-Number.MAX_VALUE?"min":e).replace("{value2}",t===Number.MAX_VALUE?"max":t);if("function"==typeof n.formatter)return n.formatter.call(this.myChart,e,t)}return null==t?e:e===-Number.MAX_VALUE?"< "+t:t===Number.MAX_VALUE?"> "+e:e+" - "+t},_isContinuity:function(){var e=this.dataRangeOption;return!(e.splitList?e.splitList.length>0:e.splitNumber>0)||e.calculable},_useCustomizedSplit:function(){var e=this.dataRangeOption;return e.splitList&&e.splitList.length>0},_buildColorList:function(e){if(this._colorList=c.getGradientColors(this.dataRangeOption.color,Math.max((e-this.dataRangeOption.color.length)/(this.dataRangeOption.color.length-1),0)+1),this._colorList.length>e){for(var t=this._colorList.length,n=[this._colorList[0]],i=t/(e-1),o=1;e-1>o;o++)n.push(this._colorList[Math.floor(o*i)]);n.push(this._colorList[t-1]),this._colorList=n}if(this._useCustomizedSplit())for(var r=this._splitList,o=0,t=r.length;t>o;o++)r[o].color&&(this._colorList[o]=r[o].color)},_buildGap:function(e){if(!this._useCustomizedSplit()){var t=this.dataRangeOption.precision;for(this._gap=(this.dataRangeOption.max-this.dataRangeOption.min)/e;this._gap.toFixed(t)-0!=this._gap&&5>t;)t++;this.dataRangeOption.precision=t,this._gap=((this.dataRangeOption.max-this.dataRangeOption.min)/e).toFixed(t)-0}},_buildDataList:function(e){for(var t=this._valueTextList=[],n=this.dataRangeOption,i=this._useCustomizedSplit(),o=0;e>o;o++){this._selectedMap[o]=!0;var r="";if(i){var a=this._splitList[e-1-o];r=null!=a.label?a.label:null!=a.single?this._textFormat(a.single):this._textFormat(a.min,a.max)}else r=this._textFormat(o*this._gap+n.min,(o+1)*this._gap+n.min);t.unshift(r)}},_buildSplitList:function(){if(this._useCustomizedSplit())for(var e=this.dataRangeOption.splitList,t=this._splitList=[],n=0,i=e.length;i>n;n++){var o=e[n];if(!o||null==o.start&&null==o.end)throw new Error("Empty item exists in splitList!");var r={label:o.label,color:o.color};r.min=o.start,r.max=o.end,r.min>r.max&&(r.min=[r.max,r.max=r.min][0]),r.min===r.max&&(r.single=r.max),null==r.min&&(r.min=-Number.MAX_VALUE),null==r.max&&(r.max=Number.MAX_VALUE),t.push(r)}},refresh:function(e){if(e){this.option=e,this.option.dataRange=this.reformOption(this.option.dataRange);var t=this.dataRangeOption=this.option.dataRange;if(!this._useCustomizedSplit()&&(null==t.min||null==t.max))throw new Error("option.dataRange.min or option.dataRange.max has not been defined.");this.myChart.canvasSupported||(t.realtime=!1);var n=this._isContinuity()?100:this._useCustomizedSplit()?t.splitList.length:t.splitNumber;this._buildSplitList(),this._buildColorList(n),this._buildGap(n),this._buildDataList(n)}this.clear(),this._buildShape()},getColor:function(e){if(isNaN(e))return null;var t;if(this._useCustomizedSplit()){for(var n=this._splitList,i=0,o=n.length;o>i;i++)if(n[i].min<=e&&n[i].max>=e){t=i;break}}else{if(this.dataRangeOption.min==this.dataRangeOption.max)return this._colorList[0];if(e<this.dataRangeOption.min?e=this.dataRangeOption.min:e>this.dataRangeOption.max&&(e=this.dataRangeOption.max),this.dataRangeOption.calculable&&(e-(this._gap*this._range.start+this.dataRangeOption.min)>5e-5||e-(this._gap*this._range.end+this.dataRangeOption.min)<-5e-5))return null;t=this._colorList.length-Math.ceil((e-this.dataRangeOption.min)/(this.dataRangeOption.max-this.dataRangeOption.min)*this._colorList.length),t==this._colorList.length&&t--}return this._selectedMap[t]?this._colorList[t]:null},getColorByIndex:function(e){return e>=this._colorList.length?e=this._colorList.length-1:0>e&&(e=0),this._colorList[e]},onbeforDispose:function(){this.messageCenter.unbind(a.EVENT.HOVER,this._onhoverlink)}},s.inherits(t,n),e("../component").define("dataRange",t),t}),n("zrender/shape/BezierCurve",["require","./Base","../tool/util"],function(e){"use strict";var t=e("./Base"),n=function(e){this.brushTypeOnly="stroke",this.textPosition="end",t.call(this,e)};return n.prototype={type:"bezier-curve",buildPath:function(e,t){e.moveTo(t.xStart,t.yStart),"undefined"!=typeof t.cpX2&&"undefined"!=typeof t.cpY2?e.bezierCurveTo(t.cpX1,t.cpY1,t.cpX2,t.cpY2,t.xEnd,t.yEnd):e.quadraticCurveTo(t.cpX1,t.cpY1,t.xEnd,t.yEnd)},getRect:function(e){if(e.__rect)return e.__rect;var t=Math.min(e.xStart,e.xEnd,e.cpX1),n=Math.min(e.yStart,e.yEnd,e.cpY1),i=Math.max(e.xStart,e.xEnd,e.cpX1),o=Math.max(e.yStart,e.yEnd,e.cpY1),r=e.cpX2,a=e.cpY2;"undefined"!=typeof r&&"undefined"!=typeof a&&(t=Math.min(t,r),n=Math.min(n,a),i=Math.max(i,r),o=Math.max(o,a));var s=e.lineWidth||1;return e.__rect={x:t-s,y:n-s,width:i-t+s,height:o-n+s},e.__rect}},e("../tool/util").inherits(n,t),n}),n("zrender/tool/vector",[],function(){var e="undefined"==typeof Float32Array?Array:Float32Array,t={create:function(t,n){var i=new e(2);return i[0]=t||0,i[1]=n||0,i},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},clone:function(t){var n=new e(2);return n[0]=t[0],n[1]=t[1],n},set:function(e,t,n){return e[0]=t,e[1]=n,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},scaleAndAdd:function(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e},sub:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},len:function(e){return Math.sqrt(this.lenSquare(e))},lenSquare:function(e){return e[0]*e[0]+e[1]*e[1]},mul:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},div:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]},scale:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},normalize:function(e,n){var i=t.len(n);return 0===i?(e[0]=0,e[1]=0):(e[0]=n[0]/i,e[1]=n[1]/i),e},distance:function(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))},distanceSquare:function(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])},negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},lerp:function(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e},applyTransform:function(e,t,n){var i=t[0],o=t[1];return e[0]=n[0]*i+n[2]*o+n[4],e[1]=n[1]*i+n[3]*o+n[5],e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}};return t.length=t.len,t.lengthSquare=t.lenSquare,t.dist=t.distance,t.distSquare=t.distanceSquare,t}),n("zrender/tool/area",["require","./util","./curve"],function(e){"use strict";function t(e){return e%=N,0>e&&(e+=N),e}function n(e,t,n,r){if(!t||!e)return!1;var a=e.type;w=w||T.getContext();var s=i(e,t,n,r);if("undefined"!=typeof s)return s;if(e.buildPath&&w.isPointInPath)return o(e,w,t,n,r);switch(a){case"ellipse":return!0;case"trochoid":var l="out"==t.location?t.r1+t.r2+t.d:t.r1-t.r2+t.d;return p(t,n,r,l);case"rose":return p(t,n,r,t.maxr);default:return!1}}function i(e,t,n,i){var o=e.type;switch(o){case"bezier-curve":return"undefined"==typeof t.cpX2?l(t.xStart,t.yStart,t.cpX1,t.cpY1,t.xEnd,t.yEnd,t.lineWidth,n,i):s(t.xStart,t.yStart,t.cpX1,t.cpY1,t.cpX2,t.cpY2,t.xEnd,t.yEnd,t.lineWidth,n,i);case"line":return a(t.xStart,t.yStart,t.xEnd,t.yEnd,t.lineWidth,n,i);case"polyline":return c(t.pointList,t.lineWidth,n,i);case"ring":return h(t.x,t.y,t.r0,t.r,n,i);case"circle":return p(t.x,t.y,t.r,n,i);case"sector":var r=t.startAngle*Math.PI/180,d=t.endAngle*Math.PI/180;return t.clockWise||(r=-r,d=-d),m(t.x,t.y,t.r0,t.r,r,d,!t.clockWise,n,i);case"path":return t.pathArray&&x(t.pathArray,Math.max(t.lineWidth,5),t.brushType,n,i);case"polygon":case"star":case"isogon":return f(t.pointList,n,i);case"text":var g=t.__rect||e.getRect(t);return u(g.x,g.y,g.width,g.height,n,i);case"rectangle":case"image":return u(t.x,t.y,t.width,t.height,n,i)}}function o(e,t,n,i,o){return t.beginPath(),e.buildPath(t,n),t.closePath(),t.isPointInPath(i,o)}function r(e,t,i,o){return!n(e,t,i,o)}function a(e,t,n,i,o,r,a){if(0===o)return!1;var s=Math.max(o,5),l=0,d=e;if(a>t+s&&a>i+s||t-s>a&&i-s>a||r>e+s&&r>n+s||e-s>r&&n-s>r)return!1;if(e===n)return Math.abs(r-e)<=s/2;l=(t-i)/(e-n),d=(e*i-n*t)/(e-n);var c=l*r-a+d,h=c*c/(l*l+1);return s/2*s/2>=h}function s(e,t,n,i,o,r,a,s,l,d,c){if(0===l)return!1;var h=Math.max(l,5);if(c>t+h&&c>i+h&&c>r+h&&c>s+h||t-h>c&&i-h>c&&r-h>c&&s-h>c||d>e+h&&d>n+h&&d>o+h&&d>a+h||e-h>d&&n-h>d&&o-h>d&&a-h>d)return!1;var u=S.cubicProjectPoint(e,t,n,i,o,r,a,s,d,c,null);return h/2>=u}function l(e,t,n,i,o,r,a,s,l){if(0===a)return!1;var d=Math.max(a,5);if(l>t+d&&l>i+d&&l>r+d||t-d>l&&i-d>l&&r-d>l||s>e+d&&s>n+d&&s>o+d||e-d>s&&n-d>s&&o-d>s)return!1;var c=S.quadraticProjectPoint(e,t,n,i,o,r,s,l,null);return d/2>=c}function d(e,n,i,o,r,a,s,l,d){if(0===s)return!1;var c=Math.max(s,5);l-=e,d-=n;var h=Math.sqrt(l*l+d*d);if(h-c>i||i>h+c)return!1;if(Math.abs(o-r)>=N)return!0;if(a){var u=o;o=t(r),r=t(u)}else o=t(o),r=t(r);o>r&&(r+=N);var p=Math.atan2(d,l);return 0>p&&(p+=N),p>=o&&r>=p||p+N>=o&&r>=p+N}function c(e,t,n,i){for(var t=Math.max(t,10),o=0,r=e.length-1;r>o;o++){var s=e[o][0],l=e[o][1],d=e[o+1][0],c=e[o+1][1];if(a(s,l,d,c,t,n,i))return!0}return!1}function h(e,t,n,i,o,r){var a=(o-e)*(o-e)+(r-t)*(r-t);return i*i>a&&a>n*n}function u(e,t,n,i,o,r){return o>=e&&e+n>=o&&r>=t&&t+i>=r}function p(e,t,n,i,o){return n*n>(i-e)*(i-e)+(o-t)*(o-t)}function m(e,t,n,i,o,r,a,s,l){return d(e,t,(n+i)/2,o,r,a,i-n,s,l)}function f(e,t,n){for(var i=e.length,o=0,r=0,a=i-1;i>r;r++){var s=e[a][0],l=e[a][1],d=e[r][0],c=e[r][1];o+=g(s,l,d,c,t,n),a=r}return 0!==o}function g(e,t,n,i,o,r){if(r>t&&r>i||t>r&&i>r)return 0;if(i==t)return 0;var a=t>i?1:-1,s=(r-t)/(i-t),l=s*(n-e)+e;return l>o?a:0}function v(){var e=D[0];D[0]=D[1],D[1]=e}function y(e,t,n,i,o,r,a,s,l,d){if(d>t&&d>i&&d>r&&d>s||t>d&&i>d&&r>d&&s>d)return 0;var c=S.cubicRootAt(t,i,r,s,d,O);if(0===c)return 0;for(var h,u,p=0,m=-1,f=0;c>f;f++){var g=O[f],y=S.cubicAt(e,n,o,a,g);l>y||(0>m&&(m=S.cubicExtrema(t,i,r,s,D),D[1]<D[0]&&m>1&&v(),h=S.cubicAt(t,i,r,s,D[0]),m>1&&(u=S.cubicAt(t,i,r,s,D[1]))),p+=2==m?g<D[0]?t>h?1:-1:g<D[1]?h>u?1:-1:u>s?1:-1:g<D[0]?t>h?1:-1:h>s?1:-1)}return p}function b(e,t,n,i,o,r,a,s){if(s>t&&s>i&&s>r||t>s&&i>s&&r>s)return 0;var l=S.quadraticRootAt(t,i,r,s,O);if(0===l)return 0;var d=S.quadraticExtremum(t,i,r);if(d>=0&&1>=d){for(var c=0,h=S.quadraticAt(t,i,r,d),u=0;l>u;u++){var p=S.quadraticAt(e,n,o,O[u]);a>p||(c+=O[u]<d?t>h?1:-1:h>r?1:-1)}return c}var p=S.quadraticAt(e,n,o,O[0]);return a>p?0:t>r?1:-1}function _(e,n,i,o,r,a,s,l){if(l-=n,l>i||-i>l)return 0;var d=Math.sqrt(i*i-l*l);if(O[0]=-d,O[1]=d,Math.abs(o-r)>=N){o=0,r=N;var c=a?1:-1;return s>=O[0]+e&&s<=O[1]+e?c:0}if(a){var d=o;o=t(r),r=t(d)}else o=t(o),r=t(r);o>r&&(r+=N);for(var h=0,u=0;2>u;u++){var p=O[u];if(p+e>s){var m=Math.atan2(l,p),c=a?1:-1;0>m&&(m=N+m),(m>=o&&r>=m||m+N>=o&&r>=m+N)&&(m>Math.PI/2&&m<1.5*Math.PI&&(c=-c),h+=c)}}return h}function x(e,t,n,i,o){var r=0,c=0,h=0,u=0,p=0,m=!0,f=!0;n=n||"fill";for(var v="stroke"===n||"both"===n,x="fill"===n||"both"===n,E=0;E<e.length;E++){var C=e[E],w=C.points;if(m||"M"===C.command){if(E>0&&(x&&(r+=g(c,h,u,p,i,o)),0!==r))return!0;u=w[w.length-2],p=w[w.length-1],m=!1,f&&"A"!==C.command&&(f=!1,c=u,h=p)}switch(C.command){case"M":c=w[0],h=w[1];break;case"L":if(v&&a(c,h,w[0],w[1],t,i,o))return!0;x&&(r+=g(c,h,w[0],w[1],i,o)),c=w[0],h=w[1];break;case"C":if(v&&s(c,h,w[0],w[1],w[2],w[3],w[4],w[5],t,i,o))return!0;x&&(r+=y(c,h,w[0],w[1],w[2],w[3],w[4],w[5],i,o)),c=w[4],h=w[5];break;case"Q":if(v&&l(c,h,w[0],w[1],w[2],w[3],t,i,o))return!0;x&&(r+=b(c,h,w[0],w[1],w[2],w[3],i,o)),c=w[2],h=w[3];break;case"A":var T=w[0],S=w[1],M=w[2],$=w[3],k=w[4],A=w[5],L=Math.cos(k)*M+T,N=Math.sin(k)*$+S;f?(f=!1,u=L,p=N):r+=g(c,h,L,N);var O=(i-T)*$/M+T;if(v&&d(T,S,$,k,k+A,1-w[7],t,O,o))return!0;x&&(r+=_(T,S,$,k,k+A,1-w[7],O,o)),c=Math.cos(k+A)*M+T,h=Math.sin(k+A)*$+S;break;case"z":if(v&&a(c,h,u,p,t,i,o))return!0;m=!0}}return x&&(r+=g(c,h,u,p,i,o)),0!==r}function E(e,t){var n=e+":"+t;if(M[n])return M[n];w=w||T.getContext(),w.save(),t&&(w.font=t),e=(e+"").split("\n");for(var i=0,o=0,r=e.length;r>o;o++)i=Math.max(w.measureText(e[o]).width,i);return w.restore(),M[n]=i,++k>L&&(k=0,M={}),i}function C(e,t){var n=e+":"+t;if($[n])return $[n];w=w||T.getContext(),w.save(),t&&(w.font=t),e=(e+"").split("\n");var i=(w.measureText("").width+2)*e.length;return w.restore(),$[n]=i,++A>L&&(A=0,$={}),i}var w,T=e("./util"),S=e("./curve"),M={},$={},k=0,A=0,L=5e3,N=2*Math.PI,O=[-1,-1,-1],D=[-1,-1];return{isInside:n,isOutside:r,getTextWidth:E,getTextHeight:C,isInsidePath:x,isInsidePolygon:f,isInsideSector:m,isInsideCircle:p,isInsideLine:a,isInsideRect:u,isInsidePolyline:c,isInsideCubicStroke:s,isInsideQuadraticStroke:l}}),n("echarts/component/polar",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Polygon","zrender/shape/Circle","zrender/shape/Ring","../config","zrender/tool/util","../util/coordinates","../util/accMath","../util/smartSteps","../component"],function(e){function t(e,t,i,o,r){n.call(this,e,t,i,o,r),this.refresh(o)}var n=e("./base"),i=e("zrender/shape/Text"),o=e("zrender/shape/Line"),r=e("zrender/shape/Polygon"),a=e("zrender/shape/Circle"),s=e("zrender/shape/Ring"),l=e("../config");l.polar={zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,boundaryGap:[0,0],splitNumber:5,name:{show:!0,textStyle:{color:"#333"}},axisLine:{show:!0,lineStyle:{color:"#ccc",width:1,type:"solid"}},axisLabel:{show:!1,textStyle:{color:"#333"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},splitLine:{show:!0,lineStyle:{width:1,color:"#ccc"}},type:"polygon"};var d=e("zrender/tool/util"),c=e("../util/coordinates");
return t.prototype={type:l.COMPONENT_TYPE_POLAR,_buildShape:function(){for(var e=0;e<this.polar.length;e++)this._index=e,this.reformOption(this.polar[e]),this._queryTarget=[this.polar[e],this.option],this._createVector(e),this._buildSpiderWeb(e),this._buildText(e),this._adjustIndicatorValue(e),this._addAxisLabel(e);for(var e=0;e<this.shapeList.length;e++)this.zr.addShape(this.shapeList[e])},_createVector:function(e){for(var t,n=this.polar[e],i=this.deepQuery(this._queryTarget,"indicator"),o=i.length,r=n.startAngle,a=2*Math.PI/o,s=this._getRadius(),l=n.__ecIndicator=[],d=0;o>d;d++)t=c.polar2cartesian(s,r*Math.PI/180+a*d),l.push({vector:[t[1],-t[0]]})},_getRadius:function(){var e=this.polar[this._index];return this.parsePercent(e.radius,Math.min(this.zr.getWidth(),this.zr.getHeight())/2)},_buildSpiderWeb:function(e){var t=this.polar[e],n=t.__ecIndicator,i=t.splitArea,o=t.splitLine,r=this.getCenter(e),a=t.splitNumber,s=o.lineStyle.color,l=o.lineStyle.width,d=o.show,c=this.deepQuery(this._queryTarget,"axisLine");this._addArea(n,a,r,i,s,l,d),c.show&&this._addLine(n,r,c)},_addAxisLabel:function(t){for(var n,o,r,a,o,s,l,c,h,u,p=e("../util/accMath"),m=this.polar[t],f=this.deepQuery(this._queryTarget,"indicator"),g=m.__ecIndicator,v=this.deepQuery(this._queryTarget,"splitNumber"),y=this.getCenter(t),b=0;b<f.length;b++)if(n=this.deepQuery([f[b],m,this.option],"axisLabel"),n.show){var _=this.deepQuery([n,m,this.option],"textStyle"),x=this.deepQuery([n,m],"formatter");if(r={},r.textFont=this.getFont(_),r.color=_.color,r=d.merge(r,n),r.lineWidth=r.width,o=g[b].vector,s=g[b].value,c=b/f.length*2*Math.PI,h=n.offset||10,u=n.interval||0,!s)return;for(var E=1;v>=E;E+=u+1)a=d.merge({},r),l=p.accAdd(s.min,p.accMul(s.step,E)),l="function"==typeof x?x(l):"string"==typeof x?x.replace("{a}","{a0}").replace("{a0}",l):this.numAddCommas(l),a.text=l,a.x=E*o[0]/v+Math.cos(c)*h+y[0],a.y=E*o[1]/v+Math.sin(c)*h+y[1],this.shapeList.push(new i({zlevel:this.getZlevelBase(),z:this.getZBase(),style:a,draggable:!1,hoverable:!1}))}},_buildText:function(e){for(var t,n,o,r,a,s,l,d=this.polar[e],c=d.__ecIndicator,h=this.deepQuery(this._queryTarget,"indicator"),u=this.getCenter(e),p=0,m=0,f=0;f<h.length;f++)r=this.deepQuery([h[f],d,this.option],"name"),r.show&&(l=this.deepQuery([r,d,this.option],"textStyle"),n={},n.textFont=this.getFont(l),n.color=l.color,n.text="function"==typeof r.formatter?r.formatter.call(this.myChart,h[f].text,f):"string"==typeof r.formatter?r.formatter.replace("{value}",h[f].text):h[f].text,c[f].text=n.text,t=c[f].vector,o=Math.round(t[0])>0?"left":Math.round(t[0])<0?"right":"center",null==r.margin?t=this._mapVector(t,u,1.1):(s=r.margin,p=t[0]>0?s:-s,m=t[1]>0?s:-s,p=0===t[0]?0:p,m=0===t[1]?0:m,t=this._mapVector(t,u,1)),n.textAlign=o,n.x=t[0]+p,n.y=t[1]+m,a=r.rotate?[r.rotate/180*Math.PI,t[0],t[1]]:[0,0,0],this.shapeList.push(new i({zlevel:this.getZlevelBase(),z:this.getZBase(),style:n,draggable:!1,hoverable:!1,rotation:a})))},getIndicatorText:function(e,t){return this.polar[e]&&this.polar[e].__ecIndicator[t]&&this.polar[e].__ecIndicator[t].text},getDropBox:function(e){var t,n,e=e||0,i=this.polar[e],o=this.getCenter(e),r=i.__ecIndicator,a=r.length,s=[],l=i.type;if("polygon"==l){for(var d=0;a>d;d++)t=r[d].vector,s.push(this._mapVector(t,o,1.2));n=this._getShape(s,"fill","rgba(0,0,0,0)","",1)}else"circle"==l&&(n=this._getCircle("",1,1.2,o,"fill","rgba(0,0,0,0)"));return n},_addArea:function(e,t,n,i,o,r,a){for(var s,l,d,c,h=this.deepQuery(this._queryTarget,"type"),u=0;t>u;u++)l=(t-u)/t,a&&("polygon"==h?(c=this._getPointList(e,l,n),s=this._getShape(c,"stroke","",o,r)):"circle"==h&&(s=this._getCircle(o,r,l,n,"stroke")),this.shapeList.push(s)),i.show&&(d=(t-u-1)/t,this._addSplitArea(e,i,l,d,n,u))},_getCircle:function(e,t,n,i,o,r){var s=this._getRadius();return new a({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:i[0],y:i[1],r:s*n,brushType:o,strokeColor:e,lineWidth:t,color:r},hoverable:!1,draggable:!1})},_getRing:function(e,t,n,i){var o=this._getRadius();return new s({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:i[0],y:i[1],r:t*o,r0:n*o,color:e,brushType:"fill"},hoverable:!1,draggable:!1})},_getPointList:function(e,t,n){for(var i,o=[],r=e.length,a=0;r>a;a++)i=e[a].vector,o.push(this._mapVector(i,n,t));return o},_getShape:function(e,t,n,i,o){return new r({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{pointList:e,brushType:t,color:n,strokeColor:i,lineWidth:o},hoverable:!1,draggable:!1})},_addSplitArea:function(e,t,n,i,o,r){var a,s,l,d,c,h=e.length,u=t.areaStyle.color,p=[],h=e.length,m=this.deepQuery(this._queryTarget,"type");if("string"==typeof u&&(u=[u]),s=u.length,a=u[r%s],"polygon"==m)for(var f=0;h>f;f++)p=[],l=e[f].vector,d=e[(f+1)%h].vector,p.push(this._mapVector(l,o,n)),p.push(this._mapVector(l,o,i)),p.push(this._mapVector(d,o,i)),p.push(this._mapVector(d,o,n)),c=this._getShape(p,"fill",a,"",1),this.shapeList.push(c);else"circle"==m&&(c=this._getRing(a,n,i,o),this.shapeList.push(c))},_mapVector:function(e,t,n){return[e[0]*n+t[0],e[1]*n+t[1]]},getCenter:function(e){var e=e||0;return this.parseCenter(this.zr,this.polar[e].center)},_addLine:function(e,t,n){for(var i,o,r=e.length,a=n.lineStyle,s=a.color,l=a.width,d=a.type,c=0;r>c;c++)o=e[c].vector,i=this._getLine(t[0],t[1],o[0]+t[0],o[1]+t[1],s,l,d),this.shapeList.push(i)},_getLine:function(e,t,n,i,r,a,s){return new o({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{xStart:e,yStart:t,xEnd:n,yEnd:i,strokeColor:r,lineWidth:a,lineType:s},hoverable:!1})},_adjustIndicatorValue:function(t){for(var n,i,o,r=this.polar[t],a=this.deepQuery(this._queryTarget,"indicator"),s=a.length,l=r.__ecIndicator,d=this._getSeriesData(t),c=r.boundaryGap,h=r.splitNumber,u=r.scale,p=e("../util/smartSteps"),m=0;s>m;m++){if("number"==typeof a[m].max)n=a[m].max,i=a[m].min||0,o={max:n,min:i};else{var f=this._findValue(d,m,h,c);i=f.min,n=f.max}!u&&i>=0&&n>=0&&(i=0),!u&&0>=i&&0>=n&&(n=0);var g=p(i,n,h,o);l[m].value={min:g.min,max:g.max,step:g.step}}},_getSeriesData:function(e){for(var t,n,i,o=[],r=this.component.legend,a=0;a<this.series.length;a++)if(t=this.series[a],t.type==l.CHART_TYPE_RADAR){n=t.data||[];for(var s=0;s<n.length;s++)i=this.deepQuery([n[s],t,this.option],"polarIndex")||0,i!=e||r&&!r.isSelected(n[s].name)||o.push(n[s])}return o},_findValue:function(e,t,n,i){function o(e){(e>r||void 0===r)&&(r=e),(a>e||void 0===a)&&(a=e)}var r,a,s;if(e&&0!==e.length){if(1==e.length&&(a=0),1!=e.length)for(var l=0;l<e.length;l++)o(this.getDataFromOption(e[l].value[t]));else{s=e[0];for(var l=0;l<s.value.length;l++)o(this.getDataFromOption(s.value[l]))}var d=Math.abs(r-a);return a-=Math.abs(d*i[0]),r+=Math.abs(d*i[1]),a===r&&(0===r?r=1:r>0?a=r/n:r/=n),{max:r,min:a}}},getVector:function(e,t,n){e=e||0,t=t||0;var i=this.polar[e].__ecIndicator;if(!(t>=i.length)){var o,r=this.polar[e].__ecIndicator[t],a=this.getCenter(e),s=r.vector,l=r.value.max,d=r.value.min;if("undefined"==typeof n)return a;switch(n){case"min":n=d;break;case"max":n=l;break;case"center":n=(l+d)/2}return o=l!=d?(n-d)/(l-d):.5,this._mapVector(s,a,o)}},isInside:function(e){var t=this.getNearestIndex(e);return t?t.polarIndex:-1},getNearestIndex:function(e){for(var t,n,i,o,r,a,s,l,d,h=0;h<this.polar.length;h++){if(t=this.polar[h],n=this.getCenter(h),e[0]==n[0]&&e[1]==n[1])return{polarIndex:h,valueIndex:0};if(i=this._getRadius(),r=t.startAngle,a=t.indicator,s=a.length,l=2*Math.PI/s,o=c.cartesian2polar(e[0]-n[0],n[1]-e[1]),e[0]-n[0]<0&&(o[1]+=Math.PI),o[1]<0&&(o[1]+=2*Math.PI),d=o[1]-r/180*Math.PI+2*Math.PI,Math.abs(Math.cos(d%(l/2)))*i>o[0])return{polarIndex:h,valueIndex:Math.floor((d+l/2)/l)%s}}},getIndicator:function(e){var e=e||0;return this.polar[e].indicator},refresh:function(e){e&&(this.option=e,this.polar=this.option.polar,this.series=this.option.series),this.clear(),this._buildShape()}},d.inherits(t,n),e("../component").define("polar",t),t}),n("echarts/layout/Chord",["require"],function(){var e=function(e){e=e||{},this.sort=e.sort||null,this.sortSub=e.sortSub||null,this.padding=.05,this.startAngle=e.startAngle||0,this.clockWise=null==e.clockWise?!1:e.clockWise,this.center=e.center||[0,0],this.directed=!0};e.prototype.run=function(e){e instanceof Array||(e=[e]);var i=e.length;if(i){for(var o=e[0],r=o.nodes.length,a=[],s=0,l=0;r>l;l++){var d=o.nodes[l],c={size:0,subGroups:[],node:d};a.push(c);for(var h=0,u=0;u<e.length;u++){var p=e[u],m=p.getNodeById(d.id);if(m){c.size+=m.layout.size;for(var f=this.directed?m.outEdges:m.edges,g=0;g<f.length;g++){var v=f[g],y=v.layout.weight;c.subGroups.push({weight:y,edge:v,graph:p}),h+=y}}}s+=c.size;for(var b=c.size/h,g=0;g<c.subGroups.length;g++)c.subGroups[g].weight*=b;"ascending"===this.sortSub?c.subGroups.sort(t):"descending"===this.sort&&(c.subGroups.sort(t),c.subGroups.reverse())}"ascending"===this.sort?a.sort(n):"descending"===this.sort&&(a.sort(n),a.reverse());for(var b=(2*Math.PI-this.padding*r)/s,_=this.startAngle,x=this.clockWise?1:-1,l=0;r>l;l++){var c=a[l];c.node.layout.startAngle=_,c.node.layout.endAngle=_+x*c.size*b,c.node.layout.subGroups=[];for(var g=0;g<c.subGroups.length;g++){var E=c.subGroups[g];E.edge.layout.startAngle=_,_+=x*E.weight*b,E.edge.layout.endAngle=_}_=c.node.layout.endAngle+x*this.padding}}};var t=function(e,t){return e.weight-t.weight},n=function(e,t){return e.size-t.size};return e}),n("echarts/util/ecAnimation",["require","zrender/tool/util","zrender/tool/curve","zrender/shape/Polygon"],function(e){function t(e,t,n,i,o){var r,a=n.style.pointList,s=a.length;if(!t){if(r=[],"vertical"!=n._orient)for(var l=a[0][1],d=0;s>d;d++)r[d]=[a[d][0],l];else for(var c=a[0][0],d=0;s>d;d++)r[d]=[c,a[d][1]];"half-smooth-polygon"==n.type&&(r[s-1]=m.clone(a[s-1]),r[s-2]=m.clone(a[s-2])),t={style:{pointList:r}}}r=t.style.pointList;var h=r.length;n.style.pointList=h==s?r:s>h?r.concat(a.slice(h)):r.slice(0,s),e.addShape(n),n.__animating=!0,e.animate(n.id,"style").when(i,{pointList:a}).during(function(){n.updateControlPoints&&n.updateControlPoints(n.style)}).done(function(){n.__animating=!1}).start(o)}function n(e,t){for(var n=arguments.length,i=2;n>i;i++){var o=arguments[i];e.style[o]=t.style[o]}}function i(e,t,i,o,r){var a=i.style;t||(t={position:i.position,style:{x:a.x,y:"vertical"==i._orient?a.y+a.height:a.y,width:"vertical"==i._orient?a.width:0,height:"vertical"!=i._orient?a.height:0}});var s=a.x,l=a.y,d=a.width,c=a.height,h=[i.position[0],i.position[1]];n(i,t,"x","y","width","height"),i.position=t.position,e.addShape(i),(h[0]!=t.position[0]||h[1]!=t.position[1])&&e.animate(i.id,"").when(o,{position:h}).start(r),i.__animating=!0,e.animate(i.id,"style").when(o,{x:s,y:l,width:d,height:c}).done(function(){i.__animating=!1}).start(r)}function o(e,t,n,i,o){if(!t){var r=n.style.y;t={style:{y:[r[0],r[0],r[0],r[0]]}}}var a=n.style.y;n.style.y=t.style.y,e.addShape(n),n.__animating=!0,e.animate(n.id,"style").when(i,{y:a}).done(function(){n.__animating=!1}).start(o)}function r(e,t,n,i,o){var r=n.style.x,a=n.style.y,s=n.style.r0,l=n.style.r;n.__animating=!0,"r"!=n._animationAdd?(n.style.r0=0,n.style.r=0,n.rotation=[2*Math.PI,r,a],e.addShape(n),e.animate(n.id,"style").when(i,{r0:s,r:l}).done(function(){n.__animating=!1}).start(o),e.animate(n.id,"").when(i,{rotation:[0,r,a]}).start(o)):(n.style.r0=n.style.r,e.addShape(n),e.animate(n.id,"style").when(i,{r0:s}).done(function(){n.__animating=!1}).start(o))}function a(e,t,i,o,r){t||(t="r"!=i._animationAdd?{style:{startAngle:i.style.startAngle,endAngle:i.style.startAngle}}:{style:{r0:i.style.r}});var a=i.style.startAngle,s=i.style.endAngle;n(i,t,"startAngle","endAngle"),e.addShape(i),i.__animating=!0,e.animate(i.id,"style").when(o,{startAngle:a,endAngle:s}).done(function(){i.__animating=!1}).start(r)}function s(e,t,i,o,r){t||(t={style:{x:"left"==i.style.textAlign?i.style.x+100:i.style.x-100,y:i.style.y}});var a=i.style.x,s=i.style.y;n(i,t,"x","y"),e.addShape(i),i.__animating=!0,e.animate(i.id,"style").when(o,{x:a,y:s}).done(function(){i.__animating=!1}).start(r)}function l(t,n,i,o,r){var a=e("zrender/shape/Polygon").prototype.getRect(i.style),s=a.x+a.width/2,l=a.y+a.height/2;i.scale=[.1,.1,s,l],t.addShape(i),i.__animating=!0,t.animate(i.id,"").when(o,{scale:[1,1,s,l]}).done(function(){i.__animating=!1}).start(r)}function d(e,t,i,o,r){t||(t={style:{source0:0,source1:i.style.source1>0?360:-360,target0:0,target1:i.style.target1>0?360:-360}});var a=i.style.source0,s=i.style.source1,l=i.style.target0,d=i.style.target1;t.style&&n(i,t,"source0","source1","target0","target1"),e.addShape(i),i.__animating=!0,e.animate(i.id,"style").when(o,{source0:a,source1:s,target0:l,target1:d}).done(function(){i.__animating=!1}).start(r)}function c(e,t,n,i,o){t||(t={style:{angle:n.style.startAngle}});var r=n.style.angle;n.style.angle=t.style.angle,e.addShape(n),n.__animating=!0,e.animate(n.id,"style").when(i,{angle:r}).done(function(){n.__animating=!1}).start(o)}function h(e,t,n,o,r,a){if(n.style._x=n.style.x,n.style._y=n.style.y,n.style._width=n.style.width,n.style._height=n.style.height,t)i(e,t,n,o,r);else{var s=n._x||0,l=n._y||0;n.scale=[.01,.01,s,l],e.addShape(n),n.__animating=!0,e.animate(n.id,"").delay(a).when(o,{scale:[1,1,s,l]}).done(function(){n.__animating=!1}).start(r||"QuinticOut")}}function u(e,t,i,o,r){t||(t={style:{xStart:i.style.xStart,yStart:i.style.yStart,xEnd:i.style.xStart,yEnd:i.style.yStart}});var a=i.style.xStart,s=i.style.xEnd,l=i.style.yStart,d=i.style.yEnd;n(i,t,"xStart","xEnd","yStart","yEnd"),e.addShape(i),i.__animating=!0,e.animate(i.id,"style").when(o,{xStart:a,xEnd:s,yStart:l,yEnd:d}).done(function(){i.__animating=!1}).start(r)}function p(e,t,n,i,o){o=o||"QuinticOut",n.__animating=!0,e.addShape(n);var r=n.style,a=function(){n.__animating=!1},s=r.xStart,l=r.yStart,d=r.xEnd,c=r.yEnd;if(r.curveness>0){n.updatePoints(r);var h={p:0},u=r.cpX1,p=r.cpY1,m=[],g=[],v=f.quadraticSubdivide;e.animation.animate(h).when(i,{p:1}).during(function(){v(s,u,d,h.p,m),v(l,p,c,h.p,g),r.cpX1=m[1],r.cpY1=g[1],r.xEnd=m[2],r.yEnd=g[2],e.modShape(n)}).done(a).start(o)}else e.animate(n.id,"style").when(0,{xEnd:s,yEnd:l}).when(i,{xEnd:d,yEnd:c}).done(a).start(o)}var m=e("zrender/tool/util"),f=e("zrender/tool/curve");return{pointList:t,rectangle:i,candle:o,ring:r,sector:a,text:s,polygon:l,ribbon:d,gaugePointer:c,icon:h,line:u,markline:p}}),n("zrender/shape/ShapeBundle",["require","./Base","../tool/util"],function(e){var t=e("./Base"),n=function(e){t.call(this,e)};return n.prototype={constructor:n,type:"shape-bundle",brush:function(e,t){var n=this.beforeBrush(e,t);e.beginPath();for(var i=0;i<n.shapeList.length;i++){var o=n.shapeList[i],r=o.style;t&&(r=o.getHighlightStyle(r,o.highlightStyle||{},o.brushTypeOnly)),o.buildPath(e,r)}switch(n.brushType){case"both":e.fill();case"stroke":n.lineWidth>0&&e.stroke();break;default:e.fill()}this.drawText(e,n,this.style),this.afterBrush(e)},getRect:function(e){if(e.__rect)return e.__rect;for(var t=1/0,n=-1/0,i=1/0,o=-1/0,r=0;r<e.shapeList.length;r++)var a=e.shapeList[r],s=a.getRect(a.style),t=Math.min(s.x,t),i=Math.min(s.y,i),n=Math.max(s.x+s.width,n),o=Math.max(s.y+s.height,o);return e.__rect={x:t,y:i,width:n-t,height:o-i},e.__rect},isCover:function(e,t){var n=this.transformCoordToLocal(e,t);if(e=n[0],t=n[1],this.isCoverRect(e,t))for(var i=0;i<this.style.shapeList.length;i++){var o=this.style.shapeList[i];if(o.isCover(e,t))return!0}return!1}},e("../tool/util").inherits(n,t),n}),n("echarts/data/Graph",["require","zrender/tool/util"],function(e){var t=e("zrender/tool/util"),n=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={}};n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(e,t){if(this._nodesMap[e])return this._nodesMap[e];var i=new n.Node(e,t);return this.nodes.push(i),this._nodesMap[e]=i,i},n.prototype.getNodeById=function(e){return this._nodesMap[e]},n.prototype.addEdge=function(e,t,i){if("string"==typeof e&&(e=this._nodesMap[e]),"string"==typeof t&&(t=this._nodesMap[t]),e&&t){var o=e.id+"-"+t.id;if(this._edgesMap[o])return this._edgesMap[o];var r=new n.Edge(e,t,i);return this._directed&&(e.outEdges.push(r),t.inEdges.push(r)),e.edges.push(r),e!==t&&t.edges.push(r),this.edges.push(r),this._edgesMap[o]=r,r}},n.prototype.removeEdge=function(e){var n=e.node1,i=e.node2,o=n.id+"-"+i.id;this._directed&&(n.outEdges.splice(t.indexOf(n.outEdges,e),1),i.inEdges.splice(t.indexOf(i.inEdges,e),1)),n.edges.splice(t.indexOf(n.edges,e),1),n!==i&&i.edges.splice(t.indexOf(i.edges,e),1),delete this._edgesMap[o],this.edges.splice(t.indexOf(this.edges,e),1)},n.prototype.getEdge=function(e,t){return"string"!=typeof e&&(e=e.id),"string"!=typeof t&&(t=t.id),this._directed?this._edgesMap[e+"-"+t]:this._edgesMap[e+"-"+t]||this._edgesMap[t+"-"+e]},n.prototype.removeNode=function(e){if("string"!=typeof e||(e=this._nodesMap[e])){delete this._nodesMap[e.id],this.nodes.splice(t.indexOf(this.nodes,e),1);for(var n=0;n<this.edges.length;){var i=this.edges[n];i.node1===e||i.node2===e?this.removeEdge(i):n++}}},n.prototype.filterNode=function(e,t){for(var n=this.nodes.length,i=0;n>i;)e.call(t,this.nodes[i],i)?i++:(this.removeNode(this.nodes[i]),n--)},n.prototype.filterEdge=function(e,t){for(var n=this.edges.length,i=0;n>i;)e.call(t,this.edges[i],i)?i++:(this.removeEdge(this.edges[i]),n--)},n.prototype.eachNode=function(e,t){for(var n=this.nodes.length,i=0;n>i;i++)this.nodes[i]&&e.call(t,this.nodes[i],i)},n.prototype.eachEdge=function(e,t){for(var n=this.edges.length,i=0;n>i;i++)this.edges[i]&&e.call(t,this.edges[i],i)},n.prototype.clear=function(){this.nodes.length=0,this.edges.length=0,this._nodesMap={},this._edgesMap={}},n.prototype.breadthFirstTraverse=function(e,t,n,i){if("string"==typeof t&&(t=this._nodesMap[t]),t){var o="edges";"out"===n?o="outEdges":"in"===n&&(o="inEdges");for(var r=0;r<this.nodes.length;r++)this.nodes[r].__visited=!1;if(!e.call(i,t,null))for(var a=[t];a.length;)for(var s=a.shift(),l=s[o],r=0;r<l.length;r++){var d=l[r],c=d.node1===s?d.node2:d.node1;if(!c.__visited){if(e.call(c,c,s))return;a.push(c),c.__visited=!0}}}},n.prototype.clone=function(){for(var e=new n(this._directed),t=0;t<this.nodes.length;t++)e.addNode(this.nodes[t].id,this.nodes[t].data);for(var t=0;t<this.edges.length;t++){var i=this.edges[t];e.addEdge(i.node1.id,i.node2.id,i.data)}return e};var i=function(e,t){this.id=e,this.data=t||null,this.inEdges=[],this.outEdges=[],this.edges=[]};i.prototype.degree=function(){return this.edges.length},i.prototype.inDegree=function(){return this.inEdges.length},i.prototype.outDegree=function(){return this.outEdges.length};var o=function(e,t,n){this.node1=e,this.node2=t,this.data=n||null};return n.Node=i,n.Edge=o,n.fromMatrix=function(e,t,i){if(t&&t.length&&t[0].length===t.length&&e.length===t.length){for(var o=t.length,r=new n(i),a=0;o>a;a++){var s=r.addNode(e[a].id,e[a]);s.data.value=0,i&&(s.data.outValue=s.data.inValue=0)}for(var a=0;o>a;a++)for(var l=0;o>l;l++){var d=t[a][l];i&&(r.nodes[a].data.outValue+=d,r.nodes[l].data.inValue+=d),r.nodes[a].data.value+=d,r.nodes[l].data.value+=d}for(var a=0;o>a;a++)for(var l=a;o>l;l++){var d=t[a][l];if(0!==d){var c=r.nodes[a],h=r.nodes[l],u=r.addEdge(c,h,{});if(u.data.weight=d,a!==l&&i&&t[l][a]){var p=r.addEdge(h,c,{});p.data.weight=t[l][a]}}}return r}},n}),n("echarts/util/ecEffect",["require","../util/ecData","zrender/shape/Circle","zrender/shape/Image","zrender/tool/curve","../util/shape/Icon","../util/shape/Symbol","zrender/shape/ShapeBundle","zrender/shape/Polyline","zrender/tool/vector","zrender/tool/env"],function(e){function t(e,t,n,i){var o,a=n.effect,l=a.color||n.style.strokeColor||n.style.color,c=a.shadowColor||l,h=a.scaleSize,u=a.bounceDistance,p="undefined"!=typeof a.shadowBlur?a.shadowBlur:h;"image"!==n.type?(o=new d({zlevel:i,style:{brushType:"stroke",iconType:"droplet"!=n.style.iconType?n.style.iconType:"circle",x:p+1,y:p+1,n:n.style.n,width:n.style._width*h,height:n.style._height*h,lineWidth:1,strokeColor:l,shadowColor:c,shadowBlur:p},draggable:!1,hoverable:!1}),"pin"==n.style.iconType&&(o.style.y+=o.style.height/2*1.5),m&&(o.style.image=e.shapeToImage(o,o.style.width+2*p+2,o.style.height+2*p+2).style.image,o=new s({zlevel:o.zlevel,style:o.style,draggable:!1,hoverable:!1}))):o=new s({zlevel:i,style:n.style,draggable:!1,hoverable:!1}),r.clone(n,o),o.position=n.position,t.push(o),e.addShape(o);var f="image"!==n.type?window.devicePixelRatio||1:1,g=(o.style.width/f-n.style._width)/2;o.style.x=n.style._x-g,o.style.y=n.style._y-g,"pin"==n.style.iconType&&(o.style.y-=n.style.height/2*1.5);var v=100*(a.period+10*Math.random());e.modShape(n.id,{invisible:!0});var y=o.style.x+o.style.width/2/f,b=o.style.y+o.style.height/2/f;"scale"===a.type?(e.modShape(o.id,{scale:[.1,.1,y,b]}),e.animate(o.id,"",a.loop).when(v,{scale:[1,1,y,b]}).done(function(){n.effect.show=!1,e.delShape(o.id)}).start()):e.animate(o.id,"style",a.loop).when(v,{y:o.style.y-u}).when(2*v,{y:o.style.y}).done(function(){n.effect.show=!1,e.delShape(o.id)}).start()}function n(e,t,n,i){var o=n.effect,r=o.color||n.style.strokeColor||n.style.color,a=o.scaleSize,s=o.shadowColor||r,l="undefined"!=typeof o.shadowBlur?o.shadowBlur:2*a,d=window.devicePixelRatio||1,h=new c({zlevel:i,position:n.position,scale:n.scale,style:{pointList:n.style.pointList,iconType:n.style.iconType,color:r,strokeColor:r,shadowColor:s,shadowBlur:l*d,random:!0,brushType:"fill",lineWidth:1,size:n.style.size},draggable:!1,hoverable:!1});t.push(h),e.addShape(h),e.modShape(n.id,{invisible:!0});for(var u=Math.round(100*o.period),p={},m={},f=0;20>f;f++)h.style["randomMap"+f]=0,p={},p["randomMap"+f]=100,m={},m["randomMap"+f]=0,h.style["randomMap"+f]=100*Math.random(),e.animate(h.id,"style",!0).when(u,p).when(2*u,m).when(3*u,p).when(4*u,p).delay(Math.random()*u*f).start()}function i(e,t,n,i,o){var s=n.effect,d=n.style,c=s.color||d.strokeColor||d.color,h=s.shadowColor||d.strokeColor||c,f=d.lineWidth*s.scaleSize,g="undefined"!=typeof s.shadowBlur?s.shadowBlur:f,v=new a({zlevel:i,style:{x:g,y:g,r:f,color:c,shadowColor:h,shadowBlur:g},hoverable:!1}),y=0;if(m&&!o){var i=v.zlevel;v=e.shapeToImage(v,2*(f+g),2*(f+g)),v.zlevel=i,v.hoverable=!1,y=g}o||(r.clone(n,v),v.position=n.position,t.push(v),e.addShape(v));var b=function(){o||(n.effect.show=!1,e.delShape(v.id)),v.effectAnimator=null};if(n instanceof u){for(var _=[0],x=0,E=d.pointList,C=d.controlPointList,w=1;w<E.length;w++){if(C){var T=C[2*(w-1)],S=C[2*(w-1)+1];x+=p.dist(E[w-1],T)+p.dist(T,S)+p.dist(S,E[w])}else x+=p.dist(E[w-1],E[w]);_.push(x)}for(var M={p:0},$=e.animation.animate(M,{loop:s.loop}),w=0;w<_.length;w++)$.when(_[w]*s.period,{p:w});$.during(function(){var t,n,i=Math.floor(M.p);if(i==E.length-1)t=E[i][0],n=E[i][1];else{var r=M.p-i,a=E[i],s=E[i+1];if(C){var d=C[2*i],c=C[2*i+1];t=l.cubicAt(a[0],d[0],c[0],s[0],r),n=l.cubicAt(a[1],d[1],c[1],s[1],r)}else t=(s[0]-a[0])*r+a[0],n=(s[1]-a[1])*r+a[1]}v.style.x=t,v.style.y=n,o||e.modShape(v)}).done(b).start(),$.duration=x*s.period,v.effectAnimator=$}else{var k=d.xStart-y,A=d.yStart-y,L=d.xEnd-y,N=d.yEnd-y;v.style.x=k,v.style.y=A;var O=(L-k)*(L-k)+(N-A)*(N-A),D=Math.round(Math.sqrt(Math.round(O*s.period*s.period)));if(n.style.curveness>0){var z=d.cpX1-y,I=d.cpY1-y;v.effectAnimator=e.animation.animate(v,{loop:s.loop}).when(D,{p:1}).during(function(t,n){v.style.x=l.quadraticAt(k,z,L,n),v.style.y=l.quadraticAt(A,I,N,n),o||e.modShape(v)}).done(b).start()}else v.effectAnimator=e.animation.animate(v.style,{loop:s.loop}).when(D,{x:L,y:N}).during(function(){o||e.modShape(v)}).done(b).start();v.effectAnimator.duration=D}return v}function o(e,t,n,o){var r=new h({style:{shapeList:[]},zlevel:o,hoverable:!1}),a=n.style.shapeList,s=n.effect;r.position=n.position;for(var l=0,d=[],c=0;c<a.length;c++){a[c].effect=s;var u=i(e,null,a[c],o,!0),p=u.effectAnimator;r.style.shapeList.push(u),p.duration>l&&(l=p.duration),0===c&&(r.style.color=u.style.color,r.style.shadowBlur=u.style.shadowBlur,r.style.shadowColor=u.style.shadowColor),d.push(p)}t.push(r),e.addShape(r);var m=function(){for(var e=0;e<d.length;e++)d[e].stop()};if(l){r.__dummy=0;var f=e.animate(r.id,"",s.loop).when(l,{__dummy:1}).during(function(){e.modShape(r)}).done(function(){n.effect.show=!1,e.delShape(r.id)}).start(),g=f.stop;f.stop=function(){m(),g.call(this)}}}var r=e("../util/ecData"),a=e("zrender/shape/Circle"),s=e("zrender/shape/Image"),l=e("zrender/tool/curve"),d=e("../util/shape/Icon"),c=e("../util/shape/Symbol"),h=e("zrender/shape/ShapeBundle"),u=e("zrender/shape/Polyline"),p=e("zrender/tool/vector"),m=e("zrender/tool/env").canvasSupported;return{point:t,largePoint:n,line:i,largeLine:o}}),n("echarts/layout/EdgeBundling",["require","../data/KDTree","zrender/tool/vector"],function(e){function t(e,t){e=e.array,t=t.array;var n=t[0]-e[0],i=t[1]-e[1],o=t[2]-e[2],r=t[3]-e[3];return n*n+i*i+o*o+r*r}function n(e){this.points=[e.mp0,e.mp1],this.group=e}function i(e){var t=e.points;t[0][1]<t[1][1]||e instanceof n?(this.array=[t[0][0],t[0][1],t[1][0],t[1][1]],this._startPoint=t[0],this._endPoint=t[1]):(this.array=[t[1][0],t[1][1],t[0][0],t[0][1]],this._startPoint=t[1],this._endPoint=t[0]),this.ink=c(t[0],t[1]),this.edge=e,this.group=null}function o(){this.edgeList=[],this.mp0=l(),this.mp1=l(),this.ink=0}function r(){this.maxNearestEdge=6,this.maxTurningAngle=Math.PI/4,this.maxIteration=20}var a=e("../data/KDTree"),s=e("zrender/tool/vector"),l=s.create,d=s.distSquare,c=s.dist,h=s.copy,u=s.clone;return i.prototype.getStartPoint=function(){return this._startPoint},i.prototype.getEndPoint=function(){return this._endPoint},o.prototype.addEdge=function(e){e.group=this,this.edgeList.push(e)},o.prototype.removeEdge=function(e){e.group=null,this.edgeList.splice(this.edgeList.indexOf(e),1)},r.prototype={constructor:r,run:function(e){function t(e,t){return d(e,t)<1e-10}function i(e,n){for(var i=[],o=0,r=0;r<e.length;r++)o>0&&t(e[r],i[o-1])||(i[o++]=u(e[r]));return n[0]&&!t(i[0],n[0])&&(i=i.reverse()),i}for(var o=this._iterate(e),r=0;r++<this.maxIteration;){for(var a=[],s=0;s<o.groups.length;s++)a.push(new n(o.groups[s]));var l=this._iterate(a);if(l.savedInk<=0)break;o=l}var c=[],h=function(e,t){for(var o,r=0;r<e.length;r++){var a=e[r];if(a.edgeList[0]&&a.edgeList[0].edge instanceof n){for(var s=[],l=0;l<a.edgeList.length;l++)s.push(a.edgeList[l].edge.group);o=t?t.slice():[],o.unshift(a.mp0),o.push(a.mp1),h(s,o)}else for(var l=0;l<a.edgeList.length;l++){var d=a.edgeList[l];o=t?t.slice():[],o.unshift(a.mp0),o.push(a.mp1),o.unshift(d.getStartPoint()),o.push(d.getEndPoint()),c.push({points:i(o,d.edge.points),rawEdge:d.edge})}}};return h(o.groups),c},_iterate:function(e){for(var n=[],r=[],s=0,d=0;d<e.length;d++){var c=new i(e[d]);n.push(c)}for(var u=new a(n,4),p=[],m=l(),f=l(),g=0,v=l(),y=l(),b=0,d=0;d<n.length;d++){var c=n[d];if(!c.group){u.nearestN(c,this.maxNearestEdge,t,p);for(var _=0,x=null,E=null,C=0;C<p.length;C++){var w=p[C],T=0;w.group?w.group!==E&&(E=w.group,g=this._calculateGroupEdgeInk(w.group,c,m,f),T=w.group.ink+c.ink-g):(g=this._calculateEdgeEdgeInk(c,w,m,f),T=w.ink+c.ink-g),T>_&&(_=T,x=w,h(y,f),h(v,m),b=g)}if(x){s+=_;var S;x.group||(S=new o,r.push(S),S.addEdge(x)),S=x.group,h(S.mp0,v),h(S.mp1,y),S.ink=b,x.group.addEdge(c)}else{var S=new o;r.push(S),h(S.mp0,c.getStartPoint()),h(S.mp1,c.getEndPoint()),S.ink=c.ink,S.addEdge(c)}}}return{groups:r,edges:n,savedInk:s}},_calculateEdgeEdgeInk:function(){var e=[],t=[];return function(n,i,o,r){e[0]=n.getStartPoint(),e[1]=i.getStartPoint(),t[0]=n.getEndPoint(),t[1]=i.getEndPoint(),this._calculateMeetPoints(e,t,o,r);var a=c(e[0],o)+c(o,r)+c(r,t[0])+c(e[1],o)+c(r,t[1]);return a}}(),_calculateGroupEdgeInk:function(e,t,n,i){for(var o=[],r=[],a=0;a<e.edgeList.length;a++){var s=e.edgeList[a];o.push(s.getStartPoint()),r.push(s.getEndPoint())}o.push(t.getStartPoint()),r.push(t.getEndPoint()),this._calculateMeetPoints(o,r,n,i);for(var l=c(n,i),a=0;a<o.length;a++)l+=c(o[a],n)+c(r[a],i);return l},_calculateMeetPoints:function(){var e=l(),t=l();return function(n,i,o,r){s.set(e,0,0),s.set(t,0,0);for(var a=n.length,l=0;a>l;l++)s.add(e,e,n[l]);s.scale(e,e,1/a),a=i.length;for(var l=0;a>l;l++)s.add(t,t,i[l]);s.scale(t,t,1/a),this._limitTurningAngle(n,e,t,o),this._limitTurningAngle(i,t,e,r)}}(),_limitTurningAngle:function(){var e=l(),t=l(),n=l(),i=l();return function(o,r,a,l){var h=Math.cos(this.maxTurningAngle),u=Math.tan(this.maxTurningAngle);s.sub(e,r,a),s.normalize(e,e),s.copy(l,r);for(var p=0,m=0;m<o.length;m++){var f=o[m];s.sub(t,f,r);var g=s.len(t);s.scale(t,t,1/g);var v=s.dot(t,e);if(h>v){s.scaleAndAdd(n,r,e,g*v);var y=c(n,f),b=y/u;s.scaleAndAdd(i,n,e,-b);var _=d(i,r);_>p&&(p=_,s.copy(l,i))}}}}()},r}),n("echarts/util/shape/GaugePointer",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(e){function t(e){n.call(this,e)}var n=e("zrender/shape/Base"),i=e("zrender/tool/util");return t.prototype={type:"gauge-pointer",buildPath:function(e,t){var n=t.r,i=t.width,o=t.angle,r=t.x-Math.cos(o)*i*(i>=n/3?1:2),a=t.y+Math.sin(o)*i*(i>=n/3?1:2);o=t.angle-Math.PI/2,e.moveTo(r,a),e.lineTo(t.x+Math.cos(o)*i,t.y-Math.sin(o)*i),e.lineTo(t.x+Math.cos(t.angle)*n,t.y-Math.sin(t.angle)*n),e.lineTo(t.x-Math.cos(o)*i,t.y+Math.sin(o)*i),e.lineTo(r,a)},getRect:function(e){if(e.__rect)return e.__rect;var t=2*e.width,n=e.x,i=e.y,o=n+Math.cos(e.angle)*e.r,r=i-Math.sin(e.angle)*e.r;return e.__rect={x:Math.min(n,o)-t,y:Math.min(i,r)-t,width:Math.abs(n-o)+t,height:Math.abs(i-r)+t},e.__rect},isCover:e("./normalIsCover")},i.inherits(t,n),t}),n("echarts/util/shape/MarkLine",["require","zrender/shape/Base","./Icon","zrender/shape/Line","zrender/shape/BezierCurve","zrender/tool/area","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/curve"],function(e){function t(e){n.call(this,e),this.style.curveness>0&&this.updatePoints(this.style),this.highlightStyle.curveness>0&&this.updatePoints(this.highlightStyle)}var n=e("zrender/shape/Base"),i=e("./Icon"),o=e("zrender/shape/Line"),r=new o({}),a=e("zrender/shape/BezierCurve"),s=new a({}),l=e("zrender/tool/area"),d=e("zrender/shape/util/dashedLineTo"),c=e("zrender/tool/util"),h=e("zrender/tool/curve");return t.prototype={type:"mark-line",brush:function(e,t){var n=this.style;t&&(n=this.getHighlightStyle(n,this.highlightStyle||{})),e.save(),this.setContext(e,n),this.setTransform(e),e.save(),e.beginPath(),this.buildPath(e,n),e.stroke(),e.restore(),this.brushSymbol(e,n,0),this.brushSymbol(e,n,1),this.drawText(e,n,this.style),e.restore()},buildPath:function(e,t){var n=t.lineType||"solid";if(e.moveTo(t.xStart,t.yStart),t.curveness>0){var i=null;switch(n){case"dashed":i=[5,5];break;case"dotted":i=[1,1]}i&&e.setLineDash&&e.setLineDash(i),e.quadraticCurveTo(t.cpX1,t.cpY1,t.xEnd,t.yEnd)}else if("solid"==n)e.lineTo(t.xEnd,t.yEnd);else{var o=(t.lineWidth||1)*("dashed"==t.lineType?5:1);d(e,t.xStart,t.yStart,t.xEnd,t.yEnd,o)}},updatePoints:function(e){var t=e.curveness||0,n=1,i=e.xStart,o=e.yStart,r=e.xEnd,a=e.yEnd,s=(i+r)/2-n*(o-a)*t,l=(o+a)/2-n*(r-i)*t;e.cpX1=s,e.cpY1=l},brushSymbol:function(e,t,n){if("none"!=t.symbol[n]){e.save(),e.beginPath(),e.lineWidth=t.symbolBorder,e.strokeStyle=t.symbolBorderColor;var o=t.symbol[n].replace("empty","").toLowerCase();t.symbol[n].match("empty")&&(e.fillStyle="#fff");var r=t.xStart,a=t.yStart,s=t.xEnd,l=t.yEnd,d=0===n?r:s,c=0===n?a:l,u=t.curveness||0,p=null!=t.symbolRotate[n]?t.symbolRotate[n]-0:0;if(p=p/180*Math.PI,"arrow"==o&&0===p)if(0===u){var m=0===n?-1:1;p=Math.PI/2+Math.atan2(m*(l-a),m*(s-r))}else{var f=t.cpX1,g=t.cpY1,v=h.quadraticDerivativeAt,y=v(r,f,s,n),b=v(a,g,l,n);p=Math.PI/2+Math.atan2(b,y)}e.translate(d,c),0!==p&&e.rotate(p);var _=t.symbolSize[n];i.prototype.buildPath(e,{x:-_,y:-_,width:2*_,height:2*_,iconType:o}),e.closePath(),e.fill(),e.stroke(),e.restore()}},getRect:function(e){return e.curveness>0?s.getRect(e):r.getRect(e),e.__rect},isCover:function(e,t){var n=this.transformCoordToLocal(e,t);return e=n[0],t=n[1],this.isCoverRect(e,t)?this.style.curveness>0?l.isInside(s,this.style,e,t):l.isInside(r,this.style,e,t):!1}},c.inherits(t,n),t}),n("zrender/dep/excanvas",["require"],function(){return document.createElement("canvas").getContext?G_vmlCanvasManager=!1:!function(){
function e(){return this.context_||(this.context_=new _(this))}function t(e,t){var n=F.call(arguments,2);return function(){return e.apply(t,n.concat(F.call(arguments)))}}function n(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function i(e,t,n){e.namespaces[t]||e.namespaces.add(t,n,"#default#VML")}function o(e){if(i(e,"g_vml_","urn:schemas-microsoft-com:vml"),i(e,"g_o_","urn:schemas-microsoft-com:office:office"),!e.styleSheets.ex_canvas_){var t=e.createStyleSheet();t.owningElement.id="ex_canvas_",t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function r(e){var t=e.srcElement;switch(e.propertyName){case"width":t.getContext().clearRect(),t.style.width=t.attributes.width.nodeValue+"px",t.firstChild.style.width=t.clientWidth+"px";break;case"height":t.getContext().clearRect(),t.style.height=t.attributes.height.nodeValue+"px",t.firstChild.style.height=t.clientHeight+"px"}}function a(e){var t=e.srcElement;t.firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}function s(){return[[1,0,0],[0,1,0],[0,0,1]]}function l(e,t){for(var n=s(),i=0;3>i;i++)for(var o=0;3>o;o++){for(var r=0,a=0;3>a;a++)r+=e[i][a]*t[a][o];n[i][o]=r}return n}function d(e,t){t.fillStyle=e.fillStyle,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.shadowBlur=e.shadowBlur,t.shadowColor=e.shadowColor,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY,t.strokeStyle=e.strokeStyle,t.globalAlpha=e.globalAlpha,t.font=e.font,t.textAlign=e.textAlign,t.textBaseline=e.textBaseline,t.scaleX_=e.scaleX_,t.scaleY_=e.scaleY_,t.lineScale_=e.lineScale_}function c(e){var t=e.indexOf("(",3),n=e.indexOf(")",t+1),i=e.substring(t+1,n).split(",");return(4!=i.length||"a"!=e.charAt(3))&&(i[3]=1),i}function h(e){return parseFloat(e)/100}function u(e,t,n){return Math.min(n,Math.max(t,e))}function p(e){var t,n,i,o,r,a;if(o=parseFloat(e[0])/360%360,0>o&&o++,r=u(h(e[1]),0,1),a=u(h(e[2]),0,1),0==r)t=n=i=a;else{var s=.5>a?a*(1+r):a+r-a*r,l=2*a-s;t=m(l,s,o+1/3),n=m(l,s,o),i=m(l,s,o-1/3)}return"#"+W[Math.floor(255*t)]+W[Math.floor(255*n)]+W[Math.floor(255*i)]}function m(e,t,n){return 0>n&&n++,n>1&&n--,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}function f(e){if(e in V)return V[e];var t,n=1;if(e=String(e),"#"==e.charAt(0))t=e;else if(/^rgb/.test(e)){for(var i,o=c(e),t="#",r=0;3>r;r++)i=-1!=o[r].indexOf("%")?Math.floor(255*h(o[r])):+o[r],t+=W[u(i,0,255)];n=+o[3]}else if(/^hsl/.test(e)){var o=c(e);t=p(o),n=o[3]}else t=U[e]||e;return V[e]={color:t,alpha:n}}function g(e){if(G[e])return G[e];var t,n=document.createElement("div"),i=n.style;try{i.font=e,t=i.fontFamily.split(",")[0]}catch(o){}return G[e]={style:i.fontStyle||j.style,variant:i.fontVariant||j.variant,weight:i.fontWeight||j.weight,size:i.fontSize||j.size,family:t||j.family}}function v(e,t){var n={};for(var i in e)n[i]=e[i];var o=parseFloat(t.currentStyle.fontSize),r=parseFloat(e.size);return n.size="number"==typeof e.size?e.size:-1!=e.size.indexOf("px")?r:-1!=e.size.indexOf("em")?o*r:-1!=e.size.indexOf("%")?o/100*r:-1!=e.size.indexOf("pt")?r/.75:o,n}function y(e){return e.style+" "+e.variant+" "+e.weight+" "+e.size+"px '"+e.family+"'"}function b(e){return X[e]||"square"}function _(e){this.m_=s(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*H,this.globalAlpha=1,this.font="12px ",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=e;var t="width:"+e.clientWidth+"px;height:"+e.clientHeight+"px;overflow:hidden;position:absolute",n=e.ownerDocument.createElement("div");n.style.cssText=t,e.appendChild(n);var i=n.cloneNode(!1);i.style.backgroundColor="#fff",i.style.filter="alpha(opacity=0)",e.appendChild(i),this.element_=n,this.scaleX_=1,this.scaleY_=1,this.lineScale_=1}function x(e,t,n,i){e.currentPath_.push({type:"bezierCurveTo",cp1x:t.x,cp1y:t.y,cp2x:n.x,cp2y:n.y,x:i.x,y:i.y}),e.currentX_=i.x,e.currentY_=i.y}function E(e,t){var n=f(e.strokeStyle),i=n.color,o=n.alpha*e.globalAlpha,r=e.lineScale_*e.lineWidth;1>r&&(o*=r),t.push("<g_vml_:stroke",' opacity="',o,'"',' joinstyle="',e.lineJoin,'"',' miterlimit="',e.miterLimit,'"',' endcap="',b(e.lineCap),'"',' weight="',r,'px"',' color="',i,'" />')}function C(e,t,n,i){var o=e.fillStyle,r=e.scaleX_,a=e.scaleY_,s=i.x-n.x,l=i.y-n.y;if(o instanceof M){var d=0,c={x:0,y:0},h=0,u=1;if("gradient"==o.type_){var p=o.x0_/r,m=o.y0_/a,g=o.x1_/r,v=o.y1_/a,y=w(e,p,m),b=w(e,g,v),_=b.x-y.x,x=b.y-y.y;d=180*Math.atan2(_,x)/Math.PI,0>d&&(d+=360),1e-6>d&&(d=0)}else{var y=w(e,o.x0_,o.y0_);c={x:(y.x-n.x)/s,y:(y.y-n.y)/l},s/=r*H,l/=a*H;var E=N.max(s,l);h=2*o.r0_/E,u=2*o.r1_/E-h}var C=o.colors_;C.sort(function(e,t){return e.offset-t.offset});for(var T=C.length,S=C[0].color,k=C[T-1].color,A=C[0].alpha*e.globalAlpha,L=C[T-1].alpha*e.globalAlpha,O=[],D=0;T>D;D++){var z=C[D];O.push(z.offset*u+h+" "+z.color)}t.push('<g_vml_:fill type="',o.type_,'"',' method="none" focus="100%"',' color="',S,'"',' color2="',k,'"',' colors="',O.join(","),'"',' opacity="',L,'"',' g_o_:opacity2="',A,'"',' angle="',d,'"',' focusposition="',c.x,",",c.y,'" />')}else if(o instanceof $){if(s&&l){var I=-n.x,R=-n.y;t.push("<g_vml_:fill",' position="',I/s*r*r,",",R/l*a*a,'"',' type="tile"',' src="',o.src_,'" />')}}else{var P=f(e.fillStyle),F=P.color,B=P.alpha*e.globalAlpha;t.push('<g_vml_:fill color="',F,'" opacity="',B,'" />')}}function w(e,t,n){var i=e.m_;return{x:H*(t*i[0][0]+n*i[1][0]+i[2][0])-P,y:H*(t*i[0][1]+n*i[1][1]+i[2][1])-P}}function T(e){return isFinite(e[0][0])&&isFinite(e[0][1])&&isFinite(e[1][0])&&isFinite(e[1][1])&&isFinite(e[2][0])&&isFinite(e[2][1])}function S(e,t,n){if(T(t)&&(e.m_=t,e.scaleX_=Math.sqrt(t[0][0]*t[0][0]+t[0][1]*t[0][1]),e.scaleY_=Math.sqrt(t[1][0]*t[1][0]+t[1][1]*t[1][1]),n)){var i=t[0][0]*t[1][1]-t[0][1]*t[1][0];e.lineScale_=R(I(i))}}function M(e){this.type_=e,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function $(e,t){switch(A(e),t){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=t;break;default:k("SYNTAX_ERR")}this.src_=e.src,this.width_=e.width,this.height_=e.height}function k(e){throw new L(e)}function A(e){e&&1==e.nodeType&&"IMG"==e.tagName||k("TYPE_MISMATCH_ERR"),"complete"!=e.readyState&&k("INVALID_STATE_ERR")}function L(e){this.code=this[e],this.message=e+": DOM Exception "+this.code}var N=Math,O=N.round,D=N.sin,z=N.cos,I=N.abs,R=N.sqrt,H=10,P=H/2,F=(+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],Array.prototype.slice);o(document);var B={init:function(e){var n=e||document;n.createElement("canvas"),n.attachEvent("onreadystatechange",t(this.init_,this,n))},init_:function(e){for(var t=e.getElementsByTagName("canvas"),n=0;n<t.length;n++)this.initElement(t[n])},initElement:function(t){if(!t.getContext){t.getContext=e,o(t.ownerDocument),t.innerHTML="",t.attachEvent("onpropertychange",r),t.attachEvent("onresize",a);var n=t.attributes;n.width&&n.width.specified?t.style.width=n.width.nodeValue+"px":t.width=t.clientWidth,n.height&&n.height.specified?t.style.height=n.height.nodeValue+"px":t.height=t.clientHeight}return t}};B.init();for(var W=[],q=0;16>q;q++)for(var Y=0;16>Y;Y++)W[16*q+Y]=q.toString(16)+Y.toString(16);var U={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},V={},j={style:"normal",variant:"normal",weight:"normal",size:12,family:""},G={},X={butt:"flat",round:"round"},Z=_.prototype;Z.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},Z.beginPath=function(){this.currentPath_=[]},Z.moveTo=function(e,t){var n=w(this,e,t);this.currentPath_.push({type:"moveTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},Z.lineTo=function(e,t){var n=w(this,e,t);this.currentPath_.push({type:"lineTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},Z.bezierCurveTo=function(e,t,n,i,o,r){var a=w(this,o,r),s=w(this,e,t),l=w(this,n,i);x(this,s,l,a)},Z.quadraticCurveTo=function(e,t,n,i){var o=w(this,e,t),r=w(this,n,i),a={x:this.currentX_+2/3*(o.x-this.currentX_),y:this.currentY_+2/3*(o.y-this.currentY_)},s={x:a.x+(r.x-this.currentX_)/3,y:a.y+(r.y-this.currentY_)/3};x(this,a,s,r)},Z.arc=function(e,t,n,i,o,r){n*=H;var a=r?"at":"wa",s=e+z(i)*n-P,l=t+D(i)*n-P,d=e+z(o)*n-P,c=t+D(o)*n-P;s!=d||r||(s+=.125);var h=w(this,e,t),u=w(this,s,l),p=w(this,d,c);this.currentPath_.push({type:a,x:h.x,y:h.y,radius:n,xStart:u.x,yStart:u.y,xEnd:p.x,yEnd:p.y})},Z.rect=function(e,t,n,i){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath()},Z.strokeRect=function(e,t,n,i){var o=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath(),this.stroke(),this.currentPath_=o},Z.fillRect=function(e,t,n,i){var o=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath(),this.fill(),this.currentPath_=o},Z.createLinearGradient=function(e,t,n,i){var o=new M("gradient");return o.x0_=e,o.y0_=t,o.x1_=n,o.y1_=i,o},Z.createRadialGradient=function(e,t,n,i,o,r){var a=new M("gradientradial");return a.x0_=e,a.y0_=t,a.r0_=n,a.x1_=i,a.y1_=o,a.r1_=r,a},Z.drawImage=function(e){var t,n,i,o,r,a,s,l,d=e.runtimeStyle.width,c=e.runtimeStyle.height;e.runtimeStyle.width="auto",e.runtimeStyle.height="auto";var h=e.width,u=e.height;if(e.runtimeStyle.width=d,e.runtimeStyle.height=c,3==arguments.length)t=arguments[1],n=arguments[2],r=a=0,s=i=h,l=o=u;else if(5==arguments.length)t=arguments[1],n=arguments[2],i=arguments[3],o=arguments[4],r=a=0,s=h,l=u;else{if(9!=arguments.length)throw Error("Invalid number of arguments");r=arguments[1],a=arguments[2],s=arguments[3],l=arguments[4],t=arguments[5],n=arguments[6],i=arguments[7],o=arguments[8]}var p=w(this,t,n),m=[],f=10,g=10,v=b=1;if(m.push(" <g_vml_:group",' coordsize="',H*f,",",H*g,'"',' coordorigin="0,0"',' style="width:',f,"px;height:",g,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var y=[],v=this.scaleX_,b=this.scaleY_;y.push("M11=",this.m_[0][0]/v,",","M12=",this.m_[1][0]/b,",","M21=",this.m_[0][1]/v,",","M22=",this.m_[1][1]/b,",","Dx=",O(p.x/H),",","Dy=",O(p.y/H),"");var _=p,x=w(this,t+i,n),E=w(this,t,n+o),C=w(this,t+i,n+o);_.x=N.max(_.x,x.x,E.x,C.x),_.y=N.max(_.y,x.y,E.y,C.y),m.push("padding:0 ",O(_.x/H),"px ",O(_.y/H),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",y.join(""),", SizingMethod='clip');")}else m.push("top:",O(p.y/H),"px;left:",O(p.x/H),"px;");m.push(' ">'),(r||a)&&m.push('<div style="overflow: hidden; width:',Math.ceil((i+r*i/s)*v),"px;"," height:",Math.ceil((o+a*o/l)*b),"px;"," filter:progid:DxImageTransform.Microsoft.Matrix(Dx=",-r*i/s*v,",Dy=",-a*o/l*b,');">'),m.push('<div style="width:',Math.round(v*h*i/s),"px;"," height:",Math.round(b*u*o/l),"px;"," filter:"),this.globalAlpha<1&&m.push(" progid:DXImageTransform.Microsoft.Alpha(opacity="+100*this.globalAlpha+")"),m.push(" progid:DXImageTransform.Microsoft.AlphaImageLoader(src=",e.src,',sizingMethod=scale)">'),(r||a)&&m.push("</div>"),m.push("</div></div>"),this.element_.insertAdjacentHTML("BeforeEnd",m.join(""))},Z.stroke=function(e){var t=[],n=10,i=10;t.push("<g_vml_:shape",' filled="',!!e,'"',' style="position:absolute;width:',n,"px;height:",i,'px;"',' coordorigin="0,0"',' coordsize="',H*n,",",H*i,'"',' stroked="',!e,'"',' path="');for(var o={x:null,y:null},r={x:null,y:null},a=0;a<this.currentPath_.length;a++){var s,l=this.currentPath_[a];switch(l.type){case"moveTo":s=l,t.push(" m ",O(l.x),",",O(l.y));break;case"lineTo":t.push(" l ",O(l.x),",",O(l.y));break;case"close":t.push(" x "),l=null;break;case"bezierCurveTo":t.push(" c ",O(l.cp1x),",",O(l.cp1y),",",O(l.cp2x),",",O(l.cp2y),",",O(l.x),",",O(l.y));break;case"at":case"wa":t.push(" ",l.type," ",O(l.x-this.scaleX_*l.radius),",",O(l.y-this.scaleY_*l.radius)," ",O(l.x+this.scaleX_*l.radius),",",O(l.y+this.scaleY_*l.radius)," ",O(l.xStart),",",O(l.yStart)," ",O(l.xEnd),",",O(l.yEnd))}l&&((null==o.x||l.x<o.x)&&(o.x=l.x),(null==r.x||l.x>r.x)&&(r.x=l.x),(null==o.y||l.y<o.y)&&(o.y=l.y),(null==r.y||l.y>r.y)&&(r.y=l.y))}t.push(' ">'),e?C(this,t,o,r):E(this,t),t.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",t.join(""))},Z.fill=function(){this.stroke(!0)},Z.closePath=function(){this.currentPath_.push({type:"close"})},Z.save=function(){var e={};d(this,e),this.aStack_.push(e),this.mStack_.push(this.m_),this.m_=l(s(),this.m_)},Z.restore=function(){this.aStack_.length&&(d(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},Z.translate=function(e,t){var n=[[1,0,0],[0,1,0],[e,t,1]];S(this,l(n,this.m_),!1)},Z.rotate=function(e){var t=z(e),n=D(e),i=[[t,n,0],[-n,t,0],[0,0,1]];S(this,l(i,this.m_),!1)},Z.scale=function(e,t){var n=[[e,0,0],[0,t,0],[0,0,1]];S(this,l(n,this.m_),!0)},Z.transform=function(e,t,n,i,o,r){var a=[[e,t,0],[n,i,0],[o,r,1]];S(this,l(a,this.m_),!0)},Z.setTransform=function(e,t,n,i,o,r){var a=[[e,t,0],[n,i,0],[o,r,1]];S(this,a,!0)},Z.drawText_=function(e,t,i,o,r){var a=this.m_,s=1e3,l=0,d=s,c={x:0,y:0},h=[],u=v(g(this.font),this.element_),p=y(u),m=this.element_.currentStyle,f=this.textAlign.toLowerCase();switch(f){case"left":case"center":case"right":break;case"end":f="ltr"==m.direction?"right":"left";break;case"start":f="rtl"==m.direction?"right":"left";break;default:f="left"}switch(this.textBaseline){case"hanging":case"top":c.y=u.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":c.y=-u.size/2.25}switch(f){case"right":l=s,d=.05;break;case"center":l=d=s/2}var b=w(this,t+c.x,i+c.y);h.push('<g_vml_:line from="',-l,' 0" to="',d,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!r,'" stroked="',!!r,'" style="position:absolute;width:1px;height:1px;">'),r?E(this,h):C(this,h,{x:-l,y:0},{x:d,y:u.size});var _=a[0][0].toFixed(3)+","+a[1][0].toFixed(3)+","+a[0][1].toFixed(3)+","+a[1][1].toFixed(3)+",0,0",x=O(b.x/H)+","+O(b.y/H);h.push('<g_vml_:skew on="t" matrix="',_,'" ',' offset="',x,'" origin="',l,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',n(e),'" style="v-text-align:',f,";font:",n(p),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",h.join(""))},Z.fillText=function(e,t,n,i){this.drawText_(e,t,n,i,!1)},Z.strokeText=function(e,t,n,i){this.drawText_(e,t,n,i,!0)},Z.measureText=function(e){if(!this.textMeasureEl_){var t='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",t),this.textMeasureEl_=this.element_.lastChild}var n=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";try{this.textMeasureEl_.style.font=this.font}catch(i){}return this.textMeasureEl_.appendChild(n.createTextNode(e)),{width:this.textMeasureEl_.offsetWidth}},Z.clip=function(){},Z.arcTo=function(){},Z.createPattern=function(e,t){return new $(e,t)},M.prototype.addColorStop=function(e,t){t=f(t),this.colors_.push({offset:e,color:t.color,alpha:t.alpha})};var K=L.prototype=new Error;K.INDEX_SIZE_ERR=1,K.DOMSTRING_SIZE_ERR=2,K.HIERARCHY_REQUEST_ERR=3,K.WRONG_DOCUMENT_ERR=4,K.INVALID_CHARACTER_ERR=5,K.NO_DATA_ALLOWED_ERR=6,K.NO_MODIFICATION_ALLOWED_ERR=7,K.NOT_FOUND_ERR=8,K.NOT_SUPPORTED_ERR=9,K.INUSE_ATTRIBUTE_ERR=10,K.INVALID_STATE_ERR=11,K.SYNTAX_ERR=12,K.INVALID_MODIFICATION_ERR=13,K.NAMESPACE_ERR=14,K.INVALID_ACCESS_ERR=15,K.VALIDATION_ERR=16,K.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=B,CanvasRenderingContext2D=_,CanvasGradient=M,CanvasPattern=$,DOMException=L}(),G_vmlCanvasManager}),n("zrender/shape/Base",["require","../tool/matrix","../tool/guid","../tool/util","../tool/log","../mixin/Transformable","../mixin/Eventful","../tool/area","../tool/color"],function(e){function t(t,i,o,r,a,s,l){a&&(t.font=a),t.textAlign=s,t.textBaseline=l;var d=n(i,o,r,a,s,l);i=(i+"").split("\n");var c=e("../tool/area").getTextHeight("",a);switch(l){case"top":r=d.y;break;case"bottom":r=d.y+c;break;default:r=d.y+c/2}for(var h=0,u=i.length;u>h;h++)t.fillText(i[h],o,r),r+=c}function n(t,n,i,o,r,a){var s=e("../tool/area"),l=s.getTextWidth(t,o),d=s.getTextHeight("",o);switch(t=(t+"").split("\n"),r){case"end":case"right":n-=l;break;case"center":n-=l/2}switch(a){case"top":break;case"bottom":i-=d*t.length;break;default:i-=d*t.length/2}return{x:n,y:i,width:l,height:d*t.length}}var i=window.G_vmlCanvasManager,o=e("../tool/matrix"),r=e("../tool/guid"),a=e("../tool/util"),s=e("../tool/log"),l=e("../mixin/Transformable"),d=e("../mixin/Eventful"),c=function(e){e=e||{},this.id=e.id||r();for(var t in e)this[t]=e[t];this.style=this.style||{},this.highlightStyle=this.highlightStyle||null,this.parent=null,this.__dirty=!0,this.__clipShapes=[],l.call(this),d.call(this)};c.prototype.invisible=!1,c.prototype.ignore=!1,c.prototype.zlevel=0,c.prototype.draggable=!1,c.prototype.clickable=!1,c.prototype.hoverable=!0,c.prototype.z=0,c.prototype.brush=function(e,t){var n=this.beforeBrush(e,t);switch(e.beginPath(),this.buildPath(e,n),n.brushType){case"both":e.fill();case"stroke":n.lineWidth>0&&e.stroke();break;default:e.fill()}this.drawText(e,n,this.style),this.afterBrush(e)},c.prototype.beforeBrush=function(e,t){var n=this.style;return this.brushTypeOnly&&(n.brushType=this.brushTypeOnly),t&&(n=this.getHighlightStyle(n,this.highlightStyle||{},this.brushTypeOnly)),"stroke"==this.brushTypeOnly&&(n.strokeColor=n.strokeColor||n.color),e.save(),this.doClip(e),this.setContext(e,n),this.setTransform(e),n},c.prototype.afterBrush=function(e){e.restore()};var h=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]];c.prototype.setContext=function(e,t){for(var n=0,i=h.length;i>n;n++){var o=h[n][0],r=t[o],a=h[n][1];"undefined"!=typeof r&&(e[a]=r)}};var u=o.create();return c.prototype.doClip=function(e){if(this.__clipShapes&&!i)for(var t=0;t<this.__clipShapes.length;t++){var n=this.__clipShapes[t];if(n.needTransform){var r=n.transform;o.invert(u,r),e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}if(e.beginPath(),n.buildPath(e,n.style),e.clip(),n.needTransform){var r=u;e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}}},c.prototype.getHighlightStyle=function(t,n,i){var o={};for(var r in t)o[r]=t[r];var a=e("../tool/color"),s=a.getHighlightColor();"stroke"!=t.brushType?(o.strokeColor=s,o.lineWidth=(t.lineWidth||1)+this.getHighlightZoom(),o.brushType="both"):"stroke"!=i?(o.strokeColor=s,o.lineWidth=(t.lineWidth||1)+this.getHighlightZoom()):o.strokeColor=n.strokeColor||a.mix(t.strokeColor,a.toRGB(s));for(var r in n)"undefined"!=typeof n[r]&&(o[r]=n[r]);return o},c.prototype.getHighlightZoom=function(){return"text"!=this.type?6:2},c.prototype.drift=function(e,t){this.position[0]+=e,this.position[1]+=t},c.prototype.buildPath=function(){s("buildPath not implemented in "+this.type)},c.prototype.getRect=function(){s("getRect not implemented in "+this.type)},c.prototype.isCover=function(t,n){var i=this.transformCoordToLocal(t,n);return t=i[0],n=i[1],this.isCoverRect(t,n)?e("../tool/area").isInside(this,this.style,t,n):!1},c.prototype.isCoverRect=function(e,t){var n=this.style.__rect;return n||(n=this.style.__rect=this.getRect(this.style)),e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},c.prototype.drawText=function(e,n,i){if("undefined"!=typeof n.text&&n.text!==!1){var o=n.textColor||n.color||n.strokeColor;e.fillStyle=o;var r,a,s,l,d=10,c=n.textPosition||this.textPosition||"top";switch(c){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var h=(i||n).__rect||this.getRect(i||n);switch(c){case"inside":s=h.x+h.width/2,l=h.y+h.height/2,r="center",a="middle","stroke"!=n.brushType&&o==n.color&&(e.fillStyle="#fff");break;case"left":s=h.x-d,l=h.y+h.height/2,r="end",a="middle";break;case"right":s=h.x+h.width+d,l=h.y+h.height/2,r="start",a="middle";break;case"top":s=h.x+h.width/2,l=h.y-d,r="center",a="bottom";break;case"bottom":s=h.x+h.width/2,l=h.y+h.height+d,r="center",a="top"}}break;case"start":case"end":var u=n.pointList||[[n.xStart||0,n.yStart||0],[n.xEnd||0,n.yEnd||0]],p=u.length;if(2>p)return;var m,f,g,v;switch(c){case"start":m=u[1][0],f=u[0][0],g=u[1][1],v=u[0][1];break;case"end":m=u[p-2][0],f=u[p-1][0],g=u[p-2][1],v=u[p-1][1]}s=f,l=v;var y=Math.atan((g-v)/(f-m))/Math.PI*180;0>f-m?y+=180:0>g-v&&(y+=360),d=5,y>=30&&150>=y?(r="center",a="bottom",l-=d):y>150&&210>y?(r="right",a="middle",s-=d):y>=210&&330>=y?(r="center",a="top",l+=d):(r="left",a="middle",s+=d);break;case"specific":s=n.textX||0,l=n.textY||0,r="start",a="middle"}null!=s&&null!=l&&t(e,n.text,s,l,n.textFont,n.textAlign||r,n.textBaseline||a)}},c.prototype.modSelf=function(){this.__dirty=!0,this.style&&(this.style.__rect=null),this.highlightStyle&&(this.highlightStyle.__rect=null)},c.prototype.isSilent=function(){return!(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)},a.merge(c.prototype,l.prototype,!0),a.merge(c.prototype,d.prototype,!0),c}),n("echarts/component/base",["require","../config","../util/ecData","../util/ecQuery","../util/number","zrender/tool/util","zrender/tool/env"],function(e){function t(e,t,o,r,a){this.ecTheme=e,this.messageCenter=t,this.zr=o,this.option=r,this.series=r.series,this.myChart=a,this.component=a.component,this.shapeList=[],this.effectList=[];var s=this;s._onlegendhoverlink=function(e){if(s.legendHoverLink)for(var t,o=e.target,r=s.shapeList.length-1;r>=0;r--)t=s.type==n.CHART_TYPE_PIE||s.type==n.CHART_TYPE_FUNNEL?i.get(s.shapeList[r],"name"):(i.get(s.shapeList[r],"series")||{}).name,t!=o||s.shapeList[r].invisible||s.shapeList[r].__animating||s.zr.addHoverShape(s.shapeList[r])},t&&t.bind(n.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink)}var n=e("../config"),i=e("../util/ecData"),o=e("../util/ecQuery"),r=e("../util/number"),a=e("zrender/tool/util");return t.prototype={canvasSupported:e("zrender/tool/env").canvasSupported,_getZ:function(e){if(null!=this[e])return this[e];var t=this.ecTheme[this.type];return t&&null!=t[e]?t[e]:(t=n[this.type],t&&null!=t[e]?t[e]:0)},getZlevelBase:function(){return this._getZ("zlevel")},getZBase:function(){return this._getZ("z")},reformOption:function(e){return e=a.merge(a.merge(e||{},a.clone(this.ecTheme[this.type]||{})),a.clone(n[this.type]||{})),this.z=e.z,this.zlevel=e.zlevel,e},reformCssArray:function(e){if(!(e instanceof Array))return[e,e,e,e];switch(e.length+""){case"4":return e;case"3":return[e[0],e[1],e[2],e[1]];case"2":return[e[0],e[1],e[0],e[1]];case"1":return[e[0],e[0],e[0],e[0]];case"0":return[0,0,0,0]}},getShapeById:function(e){for(var t=0,n=this.shapeList.length;n>t;t++)if(this.shapeList[t].id===e)return this.shapeList[t];return null},getFont:function(e){var t=this.getTextStyle(a.clone(e));return t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily},getTextStyle:function(e){return a.merge(a.merge(e||{},this.ecTheme.textStyle),n.textStyle)},getItemStyleColor:function(e,t,n,i){return"function"==typeof e?e.call(this.myChart,{seriesIndex:t,series:this.series[t],dataIndex:n,data:i}):e},getDataFromOption:function(e,t){return null!=e?null!=e.value?e.value:e:t},subPixelOptimize:function(e,t){return e=t%2===1?Math.floor(e)+.5:Math.round(e)},resize:function(){this.refresh&&this.refresh(),this.clearEffectShape&&this.clearEffectShape(!0);var e=this;setTimeout(function(){e.animationEffect&&e.animationEffect()},200)},clear:function(){this.clearEffectShape&&this.clearEffectShape(),this.zr&&this.zr.delShape(this.shapeList),this.shapeList=[]},dispose:function(){this.onbeforDispose&&this.onbeforDispose(),this.clear(),this.shapeList=null,this.effectList=null,this.messageCenter&&this.messageCenter.unbind(n.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink),this.onafterDispose&&this.onafterDispose()},query:o.query,deepQuery:o.deepQuery,deepMerge:o.deepMerge,parsePercent:r.parsePercent,parseCenter:r.parseCenter,parseRadius:r.parseRadius,numAddCommas:r.addCommas,getPrecision:r.getPrecision},t}),n("zrender/tool/log",["require","../config"],function(e){var t=e("../config");return function(){if(0!==t.debugMode)if(1==t.debugMode)for(var e in arguments)throw new Error(arguments[e]);else if(t.debugMode>1)for(var e in arguments)console.log(arguments[e])}}),n("zrender/mixin/Transformable",["require","../tool/matrix","../tool/vector"],function(e){"use strict";function t(e){return e>-s&&s>e}function n(e){return e>s||-s>e}var i=e("../tool/matrix"),o=e("../tool/vector"),r=[0,0],a=i.translate,s=5e-5,l=function(){this.position||(this.position=[0,0]),"undefined"==typeof this.rotation&&(this.rotation=[0,0,0]),this.scale||(this.scale=[1,1,0,0]),this.needLocalTransform=!1,this.needTransform=!1};return l.prototype={constructor:l,updateNeedTransform:function(){this.needLocalTransform=n(this.rotation[0])||n(this.position[0])||n(this.position[1])||n(this.scale[0]-1)||n(this.scale[1]-1)},updateTransform:function(){this.updateNeedTransform();var e=this.parent&&this.parent.needTransform;if(this.needTransform=this.needLocalTransform||e,this.needTransform){var t=this.transform||i.create();if(i.identity(t),this.needLocalTransform){var o=this.scale;if(n(o[0])||n(o[1])){r[0]=-o[2]||0,r[1]=-o[3]||0;var s=n(r[0])||n(r[1]);s&&a(t,t,r),i.scale(t,t,o),s&&(r[0]=-r[0],r[1]=-r[1],a(t,t,r))}if(this.rotation instanceof Array){if(0!==this.rotation[0]){r[0]=-this.rotation[1]||0,r[1]=-this.rotation[2]||0;var s=n(r[0])||n(r[1]);s&&a(t,t,r),i.rotate(t,t,this.rotation[0]),s&&(r[0]=-r[0],r[1]=-r[1],a(t,t,r))}}else 0!==this.rotation&&i.rotate(t,t,this.rotation);(n(this.position[0])||n(this.position[1]))&&a(t,t,this.position)}e&&(this.needLocalTransform?i.mul(t,this.parent.transform,t):i.copy(t,this.parent.transform)),this.transform=t,this.invTransform=this.invTransform||i.create(),i.invert(this.invTransform,t)}},setTransform:function(e){if(this.needTransform){var t=this.transform;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}},lookAt:function(){var e=o.create();return function(n){this.transform||(this.transform=i.create());var r=this.transform;if(o.sub(e,n,this.position),!t(e[0])||!t(e[1])){o.normalize(e,e);var a=this.scale;r[2]=e[0]*a[1],r[3]=e[1]*a[1],r[0]=e[1]*a[0],r[1]=-e[0]*a[0],r[4]=this.position[0],r[5]=this.position[1],this.decomposeTransform()}}}(),decomposeTransform:function(){if(this.transform){var e=this.transform,t=e[0]*e[0]+e[1]*e[1],i=this.position,o=this.scale,r=this.rotation;n(t-1)&&(t=Math.sqrt(t));var a=e[2]*e[2]+e[3]*e[3];n(a-1)&&(a=Math.sqrt(a)),i[0]=e[4],i[1]=e[5],o[0]=t,o[1]=a,o[2]=o[3]=0,r[0]=Math.atan2(-e[1]/a,e[0]/t),r[1]=r[2]=0}},transformCoordToLocal:function(e,t){var n=[e,t];return this.needTransform&&this.invTransform&&o.applyTransform(n,n,this.invTransform),n}},l}),n("zrender/tool/matrix",[],function(){var e="undefined"==typeof Float32Array?Array:Float32Array,t={create:function(){var n=new e(6);return t.identity(n),n},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},mul:function(e,t,n){return e[0]=t[0]*n[0]+t[2]*n[1],e[1]=t[1]*n[0]+t[3]*n[1],e[2]=t[0]*n[2]+t[2]*n[3],e[3]=t[1]*n[2]+t[3]*n[3],e[4]=t[0]*n[4]+t[2]*n[5]+t[4],e[5]=t[1]*n[4]+t[3]*n[5]+t[5],e},translate:function(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e},rotate:function(e,t,n){var i=t[0],o=t[2],r=t[4],a=t[1],s=t[3],l=t[5],d=Math.sin(n),c=Math.cos(n);return e[0]=i*c+a*d,e[1]=-i*d+a*c,e[2]=o*c+s*d,e[3]=-o*d+c*s,e[4]=c*r+d*l,e[5]=c*l-d*r,e},scale:function(e,t,n){var i=n[0],o=n[1];return e[0]=t[0]*i,e[1]=t[1]*o,e[2]=t[2]*i,e[3]=t[3]*o,e[4]=t[4]*i,e[5]=t[5]*o,e},invert:function(e,t){var n=t[0],i=t[2],o=t[4],r=t[1],a=t[3],s=t[5],l=n*a-r*i;return l?(l=1/l,e[0]=a*l,e[1]=-r*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*s-a*o)*l,e[5]=(r*o-n*s)*l,e):null}};return t}),n("zrender/tool/guid",[],function(){var e=2311;return function(){return"zrender__"+e++}}),n("zrender/mixin/Eventful",["require"],function(){var e=function(){this._handlers={}};return e.prototype.one=function(e,t,n){var i=this._handlers;return t&&e?(i[e]||(i[e]=[]),i[e].push({h:t,one:!0,ctx:n||this}),this):this},e.prototype.bind=function(e,t,n){var i=this._handlers;return t&&e?(i[e]||(i[e]=[]),i[e].push({h:t,one:!1,ctx:n||this}),this):this},e.prototype.unbind=function(e,t){var n=this._handlers;if(!e)return this._handlers={},this;if(t){if(n[e]){for(var i=[],o=0,r=n[e].length;r>o;o++)n[e][o].h!=t&&i.push(n[e][o]);n[e]=i}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},e.prototype.dispatch=function(e){if(this._handlers[e]){var t=arguments,n=t.length;n>3&&(t=Array.prototype.slice.call(t,1));for(var i=this._handlers[e],o=i.length,r=0;o>r;){switch(n){case 1:i[r].h.call(i[r].ctx);break;case 2:i[r].h.call(i[r].ctx,t[1]);break;case 3:i[r].h.call(i[r].ctx,t[1],t[2]);break;default:i[r].h.apply(i[r].ctx,t)}i[r].one?(i.splice(r,1),o--):r++}}return this},e.prototype.dispatchWithContext=function(e){if(this._handlers[e]){var t=arguments,n=t.length;n>4&&(t=Array.prototype.slice.call(t,1,t.length-1));
for(var i=t[t.length-1],o=this._handlers[e],r=o.length,a=0;r>a;){switch(n){case 1:o[a].h.call(i);break;case 2:o[a].h.call(i,t[1]);break;case 3:o[a].h.call(i,t[1],t[2]);break;default:o[a].h.apply(i,t)}o[a].one?(o.splice(a,1),r--):a++}}return this},e}),n("zrender/Painter",["require","./config","./tool/util","./tool/log","./loadingEffect/Base","./Layer","./shape/Image"],function(e){"use strict";function t(){return!1}function n(){}function i(e){return e?e.isBuildin?!0:"function"!=typeof e.resize||"function"!=typeof e.refresh?!1:!0:!1}var o=e("./config"),r=e("./tool/util"),a=e("./tool/log"),s=e("./loadingEffect/Base"),l=e("./Layer"),d=function(e,n){this.root=e,e.style["-webkit-tap-highlight-color"]="transparent",e.style["-webkit-user-select"]="none",e.style["user-select"]="none",e.style["-webkit-touch-callout"]="none",this.storage=n,e.innerHTML="",this._width=this._getWidth(),this._height=this._getHeight();var i=document.createElement("div");this._domRoot=i,i.style.position="relative",i.style.overflow="hidden",i.style.width=this._width+"px",i.style.height=this._height+"px",e.appendChild(i),this._layers={},this._zlevelList=[],this._layerConfig={},this._loadingEffect=new s({}),this.shapeToImage=this._createShapeToImageProcessor(),this._bgDom=document.createElement("div"),this._bgDom.style.cssText=["position:absolute;left:0px;top:0px;width:",this._width,"px;height:",this._height+"px;","-webkit-user-select:none;user-select;none;","-webkit-touch-callout:none;"].join(""),this._bgDom.setAttribute("data-zr-dom-id","bg"),this._bgDom.className=o.elementClassName,i.appendChild(this._bgDom),this._bgDom.onselectstart=t;var r=new l("_zrender_hover_",this);this._layers.hover=r,i.appendChild(r.dom),r.initContext(),r.dom.onselectstart=t,r.dom.style["-webkit-user-select"]="none",r.dom.style["user-select"]="none",r.dom.style["-webkit-touch-callout"]="none",this.refreshNextFrame=null};return d.prototype.render=function(e){return this.isLoading()&&this.hideLoading(),this.refresh(e,!0),this},d.prototype.refresh=function(e,t){var n=this.storage.getShapeList(!0);this._paintList(n,t);for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i],r=this._layers[o];!r.isBuildin&&r.refresh&&r.refresh()}return"function"==typeof e&&e(),this},d.prototype._preProcessLayer=function(e){e.unusedCount++,e.updateTransform()},d.prototype._postProcessLayer=function(e){e.dirty=!1,1==e.unusedCount&&e.clear()},d.prototype._paintList=function(e,t){"undefined"==typeof t&&(t=!1),this._updateLayerStatus(e);var n,i,r;this.eachBuildinLayer(this._preProcessLayer);for(var s=0,l=e.length;l>s;s++){var d=e[s];if(i!==d.zlevel&&(n&&(n.needTransform&&r.restore(),r.flush&&r.flush()),i=d.zlevel,n=this.getLayer(i),n.isBuildin||a("ZLevel "+i+" has been used by unkown layer "+n.id),r=n.ctx,n.unusedCount=0,(n.dirty||t)&&n.clear(),n.needTransform&&(r.save(),n.setTransform(r))),(n.dirty||t)&&!d.invisible&&(!d.onbrush||d.onbrush&&!d.onbrush(r,!1)))if(o.catchBrushException)try{d.brush(r,!1,this.refreshNextFrame)}catch(c){a(c,"brush error of "+d.type,d)}else d.brush(r,!1,this.refreshNextFrame);d.__dirty=!1}n&&(n.needTransform&&r.restore(),r.flush&&r.flush()),this.eachBuildinLayer(this._postProcessLayer)},d.prototype.getLayer=function(e){var t=this._layers[e];return t||(t=new l(e,this),t.isBuildin=!0,this._layerConfig[e]&&r.merge(t,this._layerConfig[e],!0),t.updateTransform(),this.insertLayer(e,t),t.initContext()),t},d.prototype.insertLayer=function(e,t){if(this._layers[e])return void a("ZLevel "+e+" has been used already");if(!i(t))return void a("Layer of zlevel "+e+" is not valid");var n=this._zlevelList.length,o=null,r=-1;if(n>0&&e>this._zlevelList[0]){for(r=0;n-1>r&&!(this._zlevelList[r]<e&&this._zlevelList[r+1]>e);r++);o=this._layers[this._zlevelList[r]]}this._zlevelList.splice(r+1,0,e);var s=o?o.dom:this._bgDom;s.nextSibling?s.parentNode.insertBefore(t.dom,s.nextSibling):s.parentNode.appendChild(t.dom),this._layers[e]=t},d.prototype.eachLayer=function(e,t){for(var n=0;n<this._zlevelList.length;n++){var i=this._zlevelList[n];e.call(t,this._layers[i],i)}},d.prototype.eachBuildinLayer=function(e,t){for(var n=0;n<this._zlevelList.length;n++){var i=this._zlevelList[n],o=this._layers[i];o.isBuildin&&e.call(t,o,i)}},d.prototype.eachOtherLayer=function(e,t){for(var n=0;n<this._zlevelList.length;n++){var i=this._zlevelList[n],o=this._layers[i];o.isBuildin||e.call(t,o,i)}},d.prototype.getLayers=function(){return this._layers},d.prototype._updateLayerStatus=function(e){var t=this._layers,n={};this.eachBuildinLayer(function(e,t){n[t]=e.elCount,e.elCount=0});for(var i=0,o=e.length;o>i;i++){var r=e[i],a=r.zlevel,s=t[a];if(s){if(s.elCount++,s.dirty)continue;s.dirty=r.__dirty}}this.eachBuildinLayer(function(e,t){n[t]!==e.elCount&&(e.dirty=!0)})},d.prototype.refreshShapes=function(e,t){for(var n=0,i=e.length;i>n;n++){var o=e[n];o.modSelf()}return this.refresh(t),this},d.prototype.setLoadingEffect=function(e){return this._loadingEffect=e,this},d.prototype.clear=function(){return this.eachBuildinLayer(this._clearLayer),this},d.prototype._clearLayer=function(e){e.clear()},d.prototype.modLayer=function(e,t){if(t){this._layerConfig[e]?r.merge(this._layerConfig[e],t,!0):this._layerConfig[e]=t;var n=this._layers[e];n&&r.merge(n,this._layerConfig[e],!0)}},d.prototype.delLayer=function(e){var t=this._layers[e];t&&(this.modLayer(e,{position:t.position,rotation:t.rotation,scale:t.scale}),t.dom.parentNode.removeChild(t.dom),delete this._layers[e],this._zlevelList.splice(r.indexOf(this._zlevelList,e),1))},d.prototype.refreshHover=function(){this.clearHover();for(var e=this.storage.getHoverShapes(!0),t=0,n=e.length;n>t;t++)this._brushHover(e[t]);var i=this._layers.hover.ctx;return i.flush&&i.flush(),this.storage.delHover(),this},d.prototype.clearHover=function(){var e=this._layers.hover;return e&&e.clear(),this},d.prototype.showLoading=function(e){return this._loadingEffect&&this._loadingEffect.stop(),e&&this.setLoadingEffect(e),this._loadingEffect.start(this),this.loading=!0,this},d.prototype.hideLoading=function(){return this._loadingEffect.stop(),this.clearHover(),this.loading=!1,this},d.prototype.isLoading=function(){return this.loading},d.prototype.resize=function(){var e=this._domRoot;e.style.display="none";var t=this._getWidth(),n=this._getHeight();if(e.style.display="",this._width!=t||n!=this._height){this._width=t,this._height=n,e.style.width=t+"px",e.style.height=n+"px";for(var i in this._layers)this._layers[i].resize(t,n);this.refresh(null,!0)}return this},d.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},d.prototype.dispose=function(){this.isLoading()&&this.hideLoading(),this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},d.prototype.getDomHover=function(){return this._layers.hover.dom},d.prototype.toDataURL=function(e,t,n){if(window.G_vmlCanvasManager)return null;var i=new l("image",this);this._bgDom.appendChild(i.dom),i.initContext();var r=i.ctx;i.clearColor=t||"#fff",i.clear();var s=this;this.storage.iterShape(function(e){if(!e.invisible&&(!e.onbrush||e.onbrush&&!e.onbrush(r,!1)))if(o.catchBrushException)try{e.brush(r,!1,s.refreshNextFrame)}catch(t){a(t,"brush error of "+e.type,e)}else e.brush(r,!1,s.refreshNextFrame)},{normal:"up",update:!0});var d=i.dom.toDataURL(e,n);return r=null,this._bgDom.removeChild(i.dom),d},d.prototype.getWidth=function(){return this._width},d.prototype.getHeight=function(){return this._height},d.prototype._getWidth=function(){var e=this.root,t=e.currentStyle||document.defaultView.getComputedStyle(e);return((e.clientWidth||parseInt(t.width,10))-parseInt(t.paddingLeft,10)-parseInt(t.paddingRight,10)).toFixed(0)-0},d.prototype._getHeight=function(){var e=this.root,t=e.currentStyle||document.defaultView.getComputedStyle(e);return((e.clientHeight||parseInt(t.height,10))-parseInt(t.paddingTop,10)-parseInt(t.paddingBottom,10)).toFixed(0)-0},d.prototype._brushHover=function(e){var t=this._layers.hover.ctx;if(!e.onbrush||e.onbrush&&!e.onbrush(t,!0)){var n=this.getLayer(e.zlevel);if(n.needTransform&&(t.save(),n.setTransform(t)),o.catchBrushException)try{e.brush(t,!0,this.refreshNextFrame)}catch(i){a(i,"hoverBrush error of "+e.type,e)}else e.brush(t,!0,this.refreshNextFrame);n.needTransform&&t.restore()}},d.prototype._shapeToImage=function(t,n,i,o,r){var a=document.createElement("canvas"),s=a.getContext("2d");a.style.width=i+"px",a.style.height=o+"px",a.setAttribute("width",i*r),a.setAttribute("height",o*r),s.clearRect(0,0,i*r,o*r);var l={position:n.position,rotation:n.rotation,scale:n.scale};n.position=[0,0,0],n.rotation=0,n.scale=[1,1],n&&n.brush(s,!1);var d=e("./shape/Image"),c=new d({id:t,style:{x:0,y:0,image:a}});return null!=l.position&&(c.position=n.position=l.position),null!=l.rotation&&(c.rotation=n.rotation=l.rotation),null!=l.scale&&(c.scale=n.scale=l.scale),c},d.prototype._createShapeToImageProcessor=function(){if(window.G_vmlCanvasManager)return n;var e=this;return function(t,n,i,r){return e._shapeToImage(t,n,i,r,o.devicePixelRatio)}},d}),n("zrender/Storage",["require","./tool/util","./Group"],function(e){"use strict";function t(e,t){return e.zlevel==t.zlevel?e.z==t.z?e.__renderidx-t.__renderidx:e.z-t.z:e.zlevel-t.zlevel}var n=e("./tool/util"),i=e("./Group"),o={hover:!1,normal:"down",update:!1},r=function(){this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],this._shapeListOffset=0};return r.prototype.iterShape=function(e,t){if(t||(t=o),t.hover)for(var n=0,i=this._hoverElements.length;i>n;n++){var r=this._hoverElements[n];if(r.updateTransform(),e(r))return this}switch(t.update&&this.updateShapeList(),t.normal){case"down":for(var i=this._shapeList.length;i--;)if(e(this._shapeList[i]))return this;break;default:for(var n=0,i=this._shapeList.length;i>n;n++)if(e(this._shapeList[n]))return this}return this},r.prototype.getHoverShapes=function(e){for(var n=[],i=0,o=this._hoverElements.length;o>i;i++){n.push(this._hoverElements[i]);var r=this._hoverElements[i].hoverConnect;if(r){var a;r=r instanceof Array?r:[r];for(var s=0,l=r.length;l>s;s++)a=r[s].id?r[s]:this.get(r[s]),a&&n.push(a)}}if(n.sort(t),e)for(var i=0,o=n.length;o>i;i++)n[i].updateTransform();return n},r.prototype.getShapeList=function(e){return e&&this.updateShapeList(),this._shapeList},r.prototype.updateShapeList=function(){this._shapeListOffset=0;for(var e=0,n=this._roots.length;n>e;e++){var i=this._roots[e];this._updateAndAddShape(i)}this._shapeList.length=this._shapeListOffset;for(var e=0,n=this._shapeList.length;n>e;e++)this._shapeList[e].__renderidx=e;this._shapeList.sort(t)},r.prototype._updateAndAddShape=function(e,t){if(!e.ignore)if(e.updateTransform(),e.clipShape&&(e.clipShape.parent=e,e.clipShape.updateTransform(),t?(t=t.slice(),t.push(e.clipShape)):t=[e.clipShape]),"group"==e.type){for(var n=0;n<e._children.length;n++){var i=e._children[n];i.__dirty=e.__dirty||i.__dirty,this._updateAndAddShape(i,t)}e.__dirty=!1}else e.__clipShapes=t,this._shapeList[this._shapeListOffset++]=e},r.prototype.mod=function(e,t){if("string"==typeof e&&(e=this._elements[e]),e&&(e.modSelf(),t))if(t.parent||t._storage||t.__clipShapes){var i={};for(var o in t)"parent"!==o&&"_storage"!==o&&"__clipShapes"!==o&&t.hasOwnProperty(o)&&(i[o]=t[o]);n.merge(e,i,!0)}else n.merge(e,t,!0);return this},r.prototype.drift=function(e,t,n){var i=this._elements[e];return i&&(i.needTransform=!0,"horizontal"===i.draggable?n=0:"vertical"===i.draggable&&(t=0),(!i.ondrift||i.ondrift&&!i.ondrift(t,n))&&i.drift(t,n)),this},r.prototype.addHover=function(e){return e.updateNeedTransform(),this._hoverElements.push(e),this},r.prototype.delHover=function(){return this._hoverElements=[],this},r.prototype.hasHoverShape=function(){return this._hoverElements.length>0},r.prototype.addRoot=function(e){this._elements[e.id]||(e instanceof i&&e.addChildrenToStorage(this),this.addToMap(e),this._roots.push(e))},r.prototype.delRoot=function(e){if("undefined"==typeof e){for(var t=0;t<this._roots.length;t++){var o=this._roots[t];o instanceof i&&o.delChildrenFromStorage(this)}return this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],void(this._shapeListOffset=0)}if(e instanceof Array)for(var t=0,r=e.length;r>t;t++)this.delRoot(e[t]);else{var a;a="string"==typeof e?this._elements[e]:e;var s=n.indexOf(this._roots,a);s>=0&&(this.delFromMap(a.id),this._roots.splice(s,1),a instanceof i&&a.delChildrenFromStorage(this))}},r.prototype.addToMap=function(e){return e instanceof i&&(e._storage=this),e.modSelf(),this._elements[e.id]=e,this},r.prototype.get=function(e){return this._elements[e]},r.prototype.delFromMap=function(e){var t=this._elements[e];return t&&(delete this._elements[e],t instanceof i&&(t._storage=null)),this},r.prototype.dispose=function(){this._elements=this._renderList=this._roots=this._hoverElements=null},r}),n("zrender/tool/curve",["require","./vector"],function(e){function t(e){return e>-g&&g>e}function n(e){return e>g||-g>e}function i(e,t,n,i,o){var r=1-o;return r*r*(r*e+3*o*t)+o*o*(o*i+3*r*n)}function o(e,t,n,i,o){var r=1-o;return 3*(((t-e)*r+2*(n-t)*o)*r+(i-n)*o*o)}function r(e,n,i,o,r,a){var s=o+3*(n-i)-e,l=3*(i-2*n+e),d=3*(n-e),c=e-r,h=l*l-3*s*d,u=l*d-9*s*c,p=d*d-3*l*c,m=0;if(t(h)&&t(u))if(t(l))a[0]=0;else{var f=-d/l;f>=0&&1>=f&&(a[m++]=f)}else{var g=u*u-4*h*p;if(t(g)){var b=u/h,f=-l/s+b,_=-b/2;f>=0&&1>=f&&(a[m++]=f),_>=0&&1>=_&&(a[m++]=_)}else if(g>0){var x=Math.sqrt(g),E=h*l+1.5*s*(-u+x),C=h*l+1.5*s*(-u-x);E=0>E?-Math.pow(-E,y):Math.pow(E,y),C=0>C?-Math.pow(-C,y):Math.pow(C,y);var f=(-l-(E+C))/(3*s);f>=0&&1>=f&&(a[m++]=f)}else{var w=(2*h*l-3*s*u)/(2*Math.sqrt(h*h*h)),T=Math.acos(w)/3,S=Math.sqrt(h),M=Math.cos(T),f=(-l-2*S*M)/(3*s),_=(-l+S*(M+v*Math.sin(T)))/(3*s),$=(-l+S*(M-v*Math.sin(T)))/(3*s);f>=0&&1>=f&&(a[m++]=f),_>=0&&1>=_&&(a[m++]=_),$>=0&&1>=$&&(a[m++]=$)}}return m}function a(e,i,o,r,a){var s=6*o-12*i+6*e,l=9*i+3*r-3*e-9*o,d=3*i-3*e,c=0;if(t(l)){if(n(s)){var h=-d/s;h>=0&&1>=h&&(a[c++]=h)}}else{var u=s*s-4*l*d;if(t(u))a[0]=-s/(2*l);else if(u>0){var p=Math.sqrt(u),h=(-s+p)/(2*l),m=(-s-p)/(2*l);h>=0&&1>=h&&(a[c++]=h),m>=0&&1>=m&&(a[c++]=m)}}return c}function s(e,t,n,i,o,r){var a=(t-e)*o+e,s=(n-t)*o+t,l=(i-n)*o+n,d=(s-a)*o+a,c=(l-s)*o+s,h=(c-d)*o+d;r[0]=e,r[1]=a,r[2]=d,r[3]=h,r[4]=h,r[5]=c,r[6]=l,r[7]=i}function l(e,t,n,o,r,a,s,l,d,c,h){var u,p=.005,m=1/0;b[0]=d,b[1]=c;for(var v=0;1>v;v+=.05){_[0]=i(e,n,r,s,v),_[1]=i(t,o,a,l,v);var y=f.distSquare(b,_);m>y&&(u=v,m=y)}m=1/0;for(var E=0;32>E&&!(g>p);E++){var C=u-p,w=u+p;_[0]=i(e,n,r,s,C),_[1]=i(t,o,a,l,C);var y=f.distSquare(_,b);if(C>=0&&m>y)u=C,m=y;else{x[0]=i(e,n,r,s,w),x[1]=i(t,o,a,l,w);var T=f.distSquare(x,b);1>=w&&m>T?(u=w,m=T):p*=.5}}return h&&(h[0]=i(e,n,r,s,u),h[1]=i(t,o,a,l,u)),Math.sqrt(m)}function d(e,t,n,i){var o=1-i;return o*(o*e+2*i*t)+i*i*n}function c(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function h(e,i,o,r,a){var s=e-2*i+o,l=2*(i-e),d=e-r,c=0;if(t(s)){if(n(l)){var h=-d/l;h>=0&&1>=h&&(a[c++]=h)}}else{var u=l*l-4*s*d;if(t(u)){var h=-l/(2*s);h>=0&&1>=h&&(a[c++]=h)}else if(u>0){var p=Math.sqrt(u),h=(-l+p)/(2*s),m=(-l-p)/(2*s);h>=0&&1>=h&&(a[c++]=h),m>=0&&1>=m&&(a[c++]=m)}}return c}function u(e,t,n){var i=e+n-2*t;return 0===i?.5:(e-t)/i}function p(e,t,n,i,o){var r=(t-e)*i+e,a=(n-t)*i+t,s=(a-r)*i+r;o[0]=e,o[1]=r,o[2]=s,o[3]=s,o[4]=a,o[5]=n}function m(e,t,n,i,o,r,a,s,l){var c,h=.005,u=1/0;b[0]=a,b[1]=s;for(var p=0;1>p;p+=.05){_[0]=d(e,n,o,p),_[1]=d(t,i,r,p);var m=f.distSquare(b,_);u>m&&(c=p,u=m)}u=1/0;for(var v=0;32>v&&!(g>h);v++){var y=c-h,E=c+h;_[0]=d(e,n,o,y),_[1]=d(t,i,r,y);var m=f.distSquare(_,b);if(y>=0&&u>m)c=y,u=m;else{x[0]=d(e,n,o,E),x[1]=d(t,i,r,E);var C=f.distSquare(x,b);1>=E&&u>C?(c=E,u=C):h*=.5}}return l&&(l[0]=d(e,n,o,c),l[1]=d(t,i,r,c)),Math.sqrt(u)}var f=e("./vector"),g=1e-4,v=Math.sqrt(3),y=1/3,b=f.create(),_=f.create(),x=f.create();return{cubicAt:i,cubicDerivativeAt:o,cubicRootAt:r,cubicExtrema:a,cubicSubdivide:s,cubicProjectPoint:l,quadraticAt:d,quadraticDerivativeAt:c,quadraticRootAt:h,quadraticExtremum:u,quadraticSubdivide:p,quadraticProjectPoint:m}}),n("zrender/animation/Animation",["require","./Clip","../tool/color","../tool/util","../tool/event"],function(e){"use strict";function t(e,t){return e[t]}function n(e,t,n){e[t]=n}function i(e,t,n){return(t-e)*n+e}function o(e,t,n,o,r){var a=e.length;if(1==r)for(var s=0;a>s;s++)o[s]=i(e[s],t[s],n);else for(var l=e[0].length,s=0;a>s;s++)for(var d=0;l>d;d++)o[s][d]=i(e[s][d],t[s][d],n)}function r(e){switch(typeof e){case"undefined":case"string":return!1}return"undefined"!=typeof e.length}function a(e,t,n,i,o,r,a,l,d){var c=e.length;if(1==d)for(var h=0;c>h;h++)l[h]=s(e[h],t[h],n[h],i[h],o,r,a);else for(var u=e[0].length,h=0;c>h;h++)for(var p=0;u>p;p++)l[h][p]=s(e[h][p],t[h][p],n[h][p],i[h][p],o,r,a)}function s(e,t,n,i,o,r,a){var s=.5*(n-e),l=.5*(i-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*r+s*o+t}function l(e){if(r(e)){var t=e.length;if(r(e[0])){for(var n=[],i=0;t>i;i++)n.push(f.call(e[i]));return n}return f.call(e)}return e}function d(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}var c=e("./Clip"),h=e("../tool/color"),u=e("../tool/util"),p=e("../tool/event").Dispatcher,m=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){setTimeout(e,16)},f=Array.prototype.slice,g=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time=0,p.call(this)};g.prototype={add:function(e){this._clips.push(e)},remove:function(e){if(e.__inStep)e.__needsRemove=!0;else{var t=u.indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)}},_update:function(){for(var e=(new Date).getTime(),t=e-this._time,n=this._clips,i=n.length,o=[],r=[],a=0;i>a;a++){var s=n[a];s.__inStep=!0;var l=s.step(e);s.__inStep=!1,l&&(o.push(l),r.push(s))}for(var a=0;i>a;)n[a].__needsRemove?(n[a]=n[i-1],n.pop(),i--):a++;i=o.length;for(var a=0;i>a;a++)r[a].fire(o[a]);this._time=e,this.onframe(t),this.dispatch("frame",t),this.stage.update&&this.stage.update()},start:function(){function e(){t._running&&(m(e),t._update())}var t=this;this._running=!0,this._time=(new Date).getTime(),m(e)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(e,t){t=t||{};var n=new v(e,t.loop,t.getter,t.setter);return n.animation=this,n},constructor:g},u.merge(g.prototype,p.prototype,!0);var v=function(e,i,o,r){this._tracks={},this._target=e,this._loop=i||!1,this._getter=o||t,this._setter=r||n,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};return v.prototype={when:function(e,t){for(var n in t)this._tracks[n]||(this._tracks[n]=[],0!==e&&this._tracks[n].push({time:0,value:l(this._getter(this._target,n))})),this._tracks[n].push({time:parseInt(e,10),value:t[n]});return this},during:function(e){return this._onframeList.push(e),this},start:function(e){var t=this,n=this._setter,l=this._getter,u="spline"===e,p=function(){if(t._clipCount--,0===t._clipCount){t._tracks={};for(var e=t._doneList.length,n=0;e>n;n++)t._doneList[n].call(t)}},m=function(m,f){var g=m.length;if(g){var v=m[0].value,y=r(v),b=!1,_=y&&r(v[0])?2:1;m.sort(function(e,t){return e.time-t.time});var x;if(g){x=m[g-1].time;for(var E=[],C=[],w=0;g>w;w++){E.push(m[w].time/x);var T=m[w].value;"string"==typeof T&&(T=h.toArray(T),0===T.length&&(T[0]=T[1]=T[2]=0,T[3]=1),b=!0),C.push(T)}var S,w,M,$,k,A,L,N=0,O=0;if(b)var D=[0,0,0,0];var z=function(e,r){if(O>r){for(S=Math.min(N+1,g-1),w=S;w>=0&&!(E[w]<=r);w--);w=Math.min(w,g-2)}else{for(w=N;g>w&&!(E[w]>r);w++);w=Math.min(w-1,g-2)}N=w,O=r;var c=E[w+1]-E[w];if(0!==c){if(M=(r-E[w])/c,u)if(k=C[w],$=C[0===w?w:w-1],A=C[w>g-2?g-1:w+1],L=C[w>g-3?g-1:w+2],y)a($,k,A,L,M,M*M,M*M*M,l(e,f),_);else{var h;b?(h=a($,k,A,L,M,M*M,M*M*M,D,1),h=d(D)):h=s($,k,A,L,M,M*M,M*M*M),n(e,f,h)}else if(y)o(C[w],C[w+1],M,l(e,f),_);else{var h;b?(o(C[w],C[w+1],M,D,1),h=d(D)):h=i(C[w],C[w+1],M),n(e,f,h)}for(w=0;w<t._onframeList.length;w++)t._onframeList[w](e,r)}},I=new c({target:t._target,life:x,loop:t._loop,delay:t._delay,onframe:z,ondestroy:p});e&&"spline"!==e&&(I.easing=e),t._clipList.push(I),t._clipCount++,t.animation.add(I)}}};for(var f in this._tracks)m(this._tracks[f],f);return this},stop:function(){for(var e=0;e<this._clipList.length;e++){var t=this._clipList[e];this.animation.remove(t)}this._clipList=[]},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this}},g}),n("zrender/Handler",["require","./config","./tool/env","./tool/event","./tool/util","./tool/vector","./tool/matrix","./mixin/Eventful"],function(e){"use strict";function t(e,t){return function(n,i){return e.call(t,n,i)}}function n(e,t){return function(n,i,o){return e.call(t,n,i,o)}}function i(e){for(var n=p.length;n--;){var i=p[n];e["_"+i+"Handler"]=t(f[i],e)}}function o(e,t,n){if(this._draggingTarget&&this._draggingTarget.id==e.id||e.isSilent())return!1;var i=this._event;if(e.isCover(t,n)){e.hoverable&&this.storage.addHover(e);for(var o=e.parent;o;){if(o.clipShape&&!o.clipShape.isCover(this._mouseX,this._mouseY))return!1;o=o.parent}return this._lastHover!=e&&(this._processOutShape(i),this._processDragLeave(i),this._lastHover=e,this._processDragEnter(i)),this._processOverShape(i),this._processDragOver(i),this._hasfound=1,!0}return!1}var r=e("./config"),a=e("./tool/env"),s=e("./tool/event"),l=e("./tool/util"),d=e("./tool/vector"),c=e("./tool/matrix"),h=r.EVENT,u=e("./mixin/Eventful"),p=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],m=function(e){if(window.G_vmlCanvasManager)return!0;e=e||window.event;var t=e.toElement||e.relatedTarget||e.srcElement||e.target;return t&&t.className.match(r.elementClassName)},f={resize:function(e){e=e||window.event,this._lastHover=null,this._isMouseDown=0,this.dispatch(h.RESIZE,e)},click:function(e,t){if(m(e)||t){e=this._zrenderEventFixed(e);var n=this._lastHover;(n&&n.clickable||!n)&&this._clickThreshold<5&&this._dispatchAgency(n,h.CLICK,e),this._mousemoveHandler(e)}},dblclick:function(e,t){if(m(e)||t){e=e||window.event,e=this._zrenderEventFixed(e);var n=this._lastHover;(n&&n.clickable||!n)&&this._clickThreshold<5&&this._dispatchAgency(n,h.DBLCLICK,e),this._mousemoveHandler(e)}},mousewheel:function(e,t){if(m(e)||t){e=this._zrenderEventFixed(e);var n=e.wheelDelta||-e.detail,i=n>0?1.1:1/1.1,o=!1,r=this._mouseX,a=this._mouseY;this.painter.eachBuildinLayer(function(t){var n=t.position;if(t.zoomable){t.__zoom=t.__zoom||1;var l=t.__zoom;l*=i,l=Math.max(Math.min(t.maxZoom,l),t.minZoom),i=l/t.__zoom,t.__zoom=l,n[0]-=(r-n[0])*(i-1),n[1]-=(a-n[1])*(i-1),t.scale[0]*=i,t.scale[1]*=i,t.dirty=!0,o=!0,s.stop(e)}}),o&&this.painter.refresh(),this._dispatchAgency(this._lastHover,h.MOUSEWHEEL,e),this._mousemoveHandler(e)}},mousemove:function(e,t){if((m(e)||t)&&!this.painter.isLoading()){e=this._zrenderEventFixed(e),this._lastX=this._mouseX,this._lastY=this._mouseY,this._mouseX=s.getX(e),this._mouseY=s.getY(e);var n=this._mouseX-this._lastX,i=this._mouseY-this._lastY;this._processDragStart(e),this._hasfound=0,this._event=e,this._iterateAndFindHover(),this._hasfound||((!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)&&(this._processOutShape(e),this._processDragLeave(e)),this._lastHover=null,this.storage.delHover(),this.painter.clearHover());var o="default";if(this._draggingTarget)this.storage.drift(this._draggingTarget.id,n,i),this._draggingTarget.modSelf(),this.storage.addHover(this._draggingTarget),this._clickThreshold++;else if(this._isMouseDown){var r=!1;this.painter.eachBuildinLayer(function(e){e.panable&&(o="move",e.position[0]+=n,e.position[1]+=i,r=!0,e.dirty=!0)}),r&&this.painter.refresh()}this._draggingTarget||this._hasfound&&this._lastHover.draggable?o="move":this._hasfound&&this._lastHover.clickable&&(o="pointer"),this.root.style.cursor=o,this._dispatchAgency(this._lastHover,h.MOUSEMOVE,e),(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover()}},mouseout:function(e,t){if(m(e)||t){e=this._zrenderEventFixed(e);var n=e.toElement||e.relatedTarget;if(n!=this.root)for(;n&&9!=n.nodeType;){if(n==this.root)return void this._mousemoveHandler(e);n=n.parentNode}e.zrenderX=this._lastX,e.zrenderY=this._lastY,this.root.style.cursor="default",this._isMouseDown=0,this._processOutShape(e),this._processDrop(e),this._processDragEnd(e),this.painter.isLoading()||this.painter.refreshHover(),this.dispatch(h.GLOBALOUT,e)}},mousedown:function(e,t){if(m(e)||t){if(this._clickThreshold=0,2==this._lastDownButton)return this._lastDownButton=e.button,void(this._mouseDownTarget=null);this._lastMouseDownMoment=new Date,e=this._zrenderEventFixed(e),this._isMouseDown=1,this._mouseDownTarget=this._lastHover,this._dispatchAgency(this._lastHover,h.MOUSEDOWN,e),this._lastDownButton=e.button}},mouseup:function(e,t){(m(e)||t)&&(e=this._zrenderEventFixed(e),this.root.style.cursor="default",this._isMouseDown=0,this._mouseDownTarget=null,this._dispatchAgency(this._lastHover,h.MOUSEUP,e),this._processDrop(e),this._processDragEnd(e))},touchstart:function(e,t){(m(e)||t)&&(e=this._zrenderEventFixed(e,!0),this._lastTouchMoment=new Date,this._mobileFindFixed(e),this._mousedownHandler(e))},touchmove:function(e,t){(m(e)||t)&&(e=this._zrenderEventFixed(e,!0),this._mousemoveHandler(e),this._isDragging&&s.stop(e))},touchend:function(e,t){if(m(e)||t){e=this._zrenderEventFixed(e,!0),this._mouseupHandler(e);var n=new Date;n-this._lastTouchMoment<h.touchClickDelay&&(this._mobileFindFixed(e),this._clickHandler(e),n-this._lastClickMoment<h.touchClickDelay/2&&(this._dblclickHandler(e),this._lastHover&&this._lastHover.clickable&&s.stop(e)),this._lastClickMoment=n),this.painter.clearHover()}}},g=function(e,t,r){u.call(this),this.root=e,this.storage=t,this.painter=r,this._lastX=this._lastY=this._mouseX=this._mouseY=0,this._findHover=n(o,this),this._domHover=r.getDomHover(),i(this),window.addEventListener?(window.addEventListener("resize",this._resizeHandler),a.os.tablet||a.os.phone?(e.addEventListener("touchstart",this._touchstartHandler),e.addEventListener("touchmove",this._touchmoveHandler),e.addEventListener("touchend",this._touchendHandler)):(e.addEventListener("click",this._clickHandler),e.addEventListener("dblclick",this._dblclickHandler),e.addEventListener("mousewheel",this._mousewheelHandler),e.addEventListener("mousemove",this._mousemoveHandler),e.addEventListener("mousedown",this._mousedownHandler),e.addEventListener("mouseup",this._mouseupHandler)),e.addEventListener("DOMMouseScroll",this._mousewheelHandler),e.addEventListener("mouseout",this._mouseoutHandler)):(window.attachEvent("onresize",this._resizeHandler),e.attachEvent("onclick",this._clickHandler),e.ondblclick=this._dblclickHandler,e.attachEvent("onmousewheel",this._mousewheelHandler),e.attachEvent("onmousemove",this._mousemoveHandler),e.attachEvent("onmouseout",this._mouseoutHandler),e.attachEvent("onmousedown",this._mousedownHandler),e.attachEvent("onmouseup",this._mouseupHandler))};g.prototype.on=function(e,t,n){return this.bind(e,t,n),this},g.prototype.un=function(e,t){return this.unbind(e,t),this},g.prototype.trigger=function(e,t){switch(e){case h.RESIZE:case h.CLICK:case h.DBLCLICK:case h.MOUSEWHEEL:case h.MOUSEMOVE:case h.MOUSEDOWN:case h.MOUSEUP:case h.MOUSEOUT:this["_"+e+"Handler"](t,!0)}},g.prototype.dispose=function(){var e=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),a.os.tablet||a.os.phone?(e.removeEventListener("touchstart",this._touchstartHandler),e.removeEventListener("touchmove",this._touchmoveHandler),e.removeEventListener("touchend",this._touchendHandler)):(e.removeEventListener("click",this._clickHandler),e.removeEventListener("dblclick",this._dblclickHandler),e.removeEventListener("mousewheel",this._mousewheelHandler),e.removeEventListener("mousemove",this._mousemoveHandler),e.removeEventListener("mousedown",this._mousedownHandler),e.removeEventListener("mouseup",this._mouseupHandler)),e.removeEventListener("DOMMouseScroll",this._mousewheelHandler),e.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),e.detachEvent("onclick",this._clickHandler),e.detachEvent("dblclick",this._dblclickHandler),e.detachEvent("onmousewheel",this._mousewheelHandler),e.detachEvent("onmousemove",this._mousemoveHandler),e.detachEvent("onmouseout",this._mouseoutHandler),e.detachEvent("onmousedown",this._mousedownHandler),e.detachEvent("onmouseup",this._mouseupHandler)),this.root=this._domHover=this.storage=this.painter=null,this.un()},g.prototype._processDragStart=function(e){var t=this._lastHover;if(this._isMouseDown&&t&&t.draggable&&!this._draggingTarget&&this._mouseDownTarget==t){if(t.dragEnableTime&&new Date-this._lastMouseDownMoment<t.dragEnableTime)return;var n=t;this._draggingTarget=n,this._isDragging=1,n.invisible=!0,this.storage.mod(n.id),this._dispatchAgency(n,h.DRAGSTART,e),this.painter.refresh()}},g.prototype._processDragEnter=function(e){this._draggingTarget&&this._dispatchAgency(this._lastHover,h.DRAGENTER,e,this._draggingTarget)},g.prototype._processDragOver=function(e){this._draggingTarget&&this._dispatchAgency(this._lastHover,h.DRAGOVER,e,this._draggingTarget)},g.prototype._processDragLeave=function(e){this._draggingTarget&&this._dispatchAgency(this._lastHover,h.DRAGLEAVE,e,this._draggingTarget)},g.prototype._processDrop=function(e){this._draggingTarget&&(this._draggingTarget.invisible=!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,h.DROP,e,this._draggingTarget))},g.prototype._processDragEnd=function(e){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,h.DRAGEND,e),this._lastHover=null),this._isDragging=0,this._draggingTarget=null},g.prototype._processOverShape=function(e){this._dispatchAgency(this._lastHover,h.MOUSEOVER,e)},g.prototype._processOutShape=function(e){this._dispatchAgency(this._lastHover,h.MOUSEOUT,e)},g.prototype._dispatchAgency=function(e,t,n,i){var o="on"+t,r={type:t,event:n,target:e,cancelBubble:!1},a=e;for(i&&(r.dragged=i);a&&(a[o]&&(r.cancelBubble=a[o](r)),a.dispatch(t,r),a=a.parent,!r.cancelBubble););if(e)r.cancelBubble||this.dispatch(t,r);else if(!i){var s={type:t,event:n};this.dispatch(t,s),this.painter.eachOtherLayer(function(e){"function"==typeof e[o]&&e[o](s),e.dispatch&&e.dispatch(t,s)})}},g.prototype._iterateAndFindHover=function(){var e=c.create();return function(){for(var t,n,i=this.storage.getShapeList(),o=[0,0],r=i.length-1;r>=0;r--){var a=i[r];if(t!==a.zlevel&&(n=this.painter.getLayer(a.zlevel,n),o[0]=this._mouseX,o[1]=this._mouseY,n.needTransform&&(c.invert(e,n.transform),d.applyTransform(o,o,e))),this._findHover(a,o[0],o[1]))break}}}();var v=[{x:10},{x:-20},{x:10,y:10},{y:-20}];return g.prototype._mobileFindFixed=function(e){this._lastHover=null,this._mouseX=e.zrenderX,this._mouseY=e.zrenderY,this._event=e,this._iterateAndFindHover();for(var t=0;!this._lastHover&&t<v.length;t++){var n=v[t];n.x&&(this._mouseX+=n.x),n.y&&(this._mouseY+=n.y),this._iterateAndFindHover()}this._lastHover&&(e.zrenderX=this._mouseX,e.zrenderY=this._mouseY)},g.prototype._zrenderEventFixed=function(e,t){if(e.zrenderFixed)return e;if(t){var n="touchend"!=e.type?e.targetTouches[0]:e.changedTouches[0];if(n){var i=this.painter._domRoot.getBoundingClientRect();e.zrenderX=n.clientX-i.left,e.zrenderY=n.clientY-i.top}}else{e=e||window.event;var o=e.toElement||e.relatedTarget||e.srcElement||e.target;o&&o!=this._domHover&&(e.zrenderX=("undefined"!=typeof e.offsetX?e.offsetX:e.layerX)+o.offsetLeft,e.zrenderY=("undefined"!=typeof e.offsetY?e.offsetY:e.layerY)+o.offsetTop)}return e.zrenderFixed=1,e},l.merge(g.prototype,u.prototype,!0),g}),n("zrender/shape/Star",["require","../tool/math","./Base","../tool/util"],function(e){var t=e("../tool/math"),n=t.sin,i=t.cos,o=Math.PI,r=e("./Base"),a=function(e){r.call(this,e)};return a.prototype={type:"star",buildPath:function(e,t){var r=t.n;
if(r&&!(2>r)){var a=t.x,s=t.y,l=t.r,d=t.r0;null==d&&(d=r>4?l*i(2*o/r)/i(o/r):l/3);var c=o/r,h=-o/2,u=a+l*i(h),p=s+l*n(h);h+=c;var m=t.pointList=[];m.push([u,p]);for(var f,g=0,v=2*r-1;v>g;g++)f=g%2===0?d:l,m.push([a+f*i(h),s+f*n(h)]),h+=c;m.push([u,p]),e.moveTo(m[0][0],m[0][1]);for(var g=0;g<m.length;g++)e.lineTo(m[g][0],m[g][1]);e.closePath()}},getRect:function(e){if(e.__rect)return e.__rect;var t;return t="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(e.x-e.r-t/2),y:Math.round(e.y-e.r-t/2),width:2*e.r+t,height:2*e.r+t},e.__rect}},e("../tool/util").inherits(a,r),a}),n("zrender/shape/Droplet",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(e){"use strict";var t=e("./Base"),n=e("./util/PathProxy"),i=e("../tool/area"),o=function(e){t.call(this,e),this._pathProxy=new n};return o.prototype={type:"droplet",buildPath:function(e,t){var i=this._pathProxy||new n;i.begin(e),i.moveTo(t.x,t.y+t.a),i.bezierCurveTo(t.x+t.a,t.y+t.a,t.x+3*t.a/2,t.y-t.a/3,t.x,t.y-t.b),i.bezierCurveTo(t.x-3*t.a/2,t.y-t.a/3,t.x-t.a,t.y+t.a,t.x,t.y+t.a),i.closePath()},getRect:function(e){return e.__rect?e.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,e),this._pathProxy.fastBoundingRect())},isCover:function(e,t){var n=this.transformCoordToLocal(e,t);return e=n[0],t=n[1],this.isCoverRect(e,t)?i.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,e,t):void 0}},e("../tool/util").inherits(o,t),o}),n("zrender/Layer",["require","./mixin/Transformable","./tool/util","./config"],function(e){function t(){return!1}function n(e,t,n){var i=document.createElement(t),o=n.getWidth(),r=n.getHeight();return i.style.position="absolute",i.style.left=0,i.style.top=0,i.style.width=o+"px",i.style.height=r+"px",i.width=o*a.devicePixelRatio,i.height=r*a.devicePixelRatio,i.setAttribute("data-zr-dom-id",e),i}var i=e("./mixin/Transformable"),o=e("./tool/util"),r=window.G_vmlCanvasManager,a=e("./config"),s=function(e,o){this.id=e,this.dom=n(e,"canvas",o),this.dom.onselectstart=t,this.dom.style["-webkit-user-select"]="none",this.dom.style["user-select"]="none",this.dom.style["-webkit-touch-callout"]="none",this.dom.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",this.dom.className=a.elementClassName,r&&r.initElement(this.dom),this.domBack=null,this.ctxBack=null,this.painter=o,this.unusedCount=0,this.config=null,this.dirty=!0,this.elCount=0,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.zoomable=!1,this.panable=!1,this.maxZoom=1/0,this.minZoom=0,i.call(this)};return s.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");var e=a.devicePixelRatio;1!=e&&this.ctx.scale(e,e)},s.prototype.createBackBuffer=function(){if(!r){this.domBack=n("back-"+this.id,"canvas",this.painter),this.ctxBack=this.domBack.getContext("2d");var e=a.devicePixelRatio;1!=e&&this.ctxBack.scale(e,e)}},s.prototype.resize=function(e,t){var n=a.devicePixelRatio;this.dom.style.width=e+"px",this.dom.style.height=t+"px",this.dom.setAttribute("width",e*n),this.dom.setAttribute("height",t*n),1!=n&&this.ctx.scale(n,n),this.domBack&&(this.domBack.setAttribute("width",e*n),this.domBack.setAttribute("height",t*n),1!=n&&this.ctxBack.scale(n,n))},s.prototype.clear=function(){var e=this.dom,t=this.ctx,n=e.width,i=e.height,o=this.clearColor&&!r,s=this.motionBlur&&!r,l=this.lastFrameAlpha,d=a.devicePixelRatio;if(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,n/d,i/d)),t.clearRect(0,0,n/d,i/d),o&&(t.save(),t.fillStyle=this.clearColor,t.fillRect(0,0,n/d,i/d),t.restore()),s){var c=this.domBack;t.save(),t.globalAlpha=l,t.drawImage(c,0,0,n/d,i/d),t.restore()}},o.merge(s.prototype,i.prototype),s}),n("zrender/shape/Heart",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(e){"use strict";var t=e("./Base"),n=e("./util/PathProxy"),i=e("../tool/area"),o=function(e){t.call(this,e),this._pathProxy=new n};return o.prototype={type:"heart",buildPath:function(e,t){var i=this._pathProxy||new n;i.begin(e),i.moveTo(t.x,t.y),i.bezierCurveTo(t.x+t.a/2,t.y-2*t.b/3,t.x+2*t.a,t.y+t.b/3,t.x,t.y+t.b),i.bezierCurveTo(t.x-2*t.a,t.y+t.b/3,t.x-t.a/2,t.y-2*t.b/3,t.x,t.y),i.closePath()},getRect:function(e){return e.__rect?e.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,e),this._pathProxy.fastBoundingRect())},isCover:function(e,t){var n=this.transformCoordToLocal(e,t);return e=n[0],t=n[1],this.isCoverRect(e,t)?i.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,e,t):void 0}},e("../tool/util").inherits(o,t),o}),n("zrender/loadingEffect/Base",["require","../tool/util","../shape/Text","../shape/Rectangle"],function(e){function t(e){this.setOptions(e)}var n=e("../tool/util"),i=e("../shape/Text"),o=e("../shape/Rectangle"),r="Loading...",a="normal 16px Arial";return t.prototype.createTextShape=function(e){return new i({highlightStyle:n.merge({x:this.canvasWidth/2,y:this.canvasHeight/2,text:r,textAlign:"center",textBaseline:"middle",textFont:a,color:"#333",brushType:"fill"},e,!0)})},t.prototype.createBackgroundShape=function(e){return new o({highlightStyle:{x:0,y:0,width:this.canvasWidth,height:this.canvasHeight,brushType:"fill",color:e}})},t.prototype.start=function(e){function t(t){e.storage.addHover(t)}function n(){e.refreshHover()}this.canvasWidth=e._width,this.canvasHeight=e._height,this.loadingTimer=this._start(t,n)},t.prototype._start=function(){return setInterval(function(){},1e4)},t.prototype.stop=function(){clearInterval(this.loadingTimer)},t.prototype.setOptions=function(e){this.options=e||{}},t.prototype.adjust=function(e,t){return e<=t[0]?e=t[0]:e>=t[1]&&(e=t[1]),e},t.prototype.getLocation=function(e,t,n){var i=null!=e.x?e.x:"center";switch(i){case"center":i=Math.floor((this.canvasWidth-t)/2);break;case"left":i=0;break;case"right":i=this.canvasWidth-t}var o=null!=e.y?e.y:"center";switch(o){case"center":o=Math.floor((this.canvasHeight-n)/2);break;case"top":o=0;break;case"bottom":o=this.canvasHeight-n}return{x:i,y:o,width:t,height:n}},t}),n("zrender/shape/util/PathProxy",["require","../../tool/vector"],function(e){var t=e("../../tool/vector"),n=function(e,t){this.command=e,this.points=t||null},i=function(){this.pathCommands=[],this._ctx=null,this._min=[],this._max=[]};return i.prototype.fastBoundingRect=function(){var e=this._min,n=this._max;e[0]=e[1]=1/0,n[0]=n[1]=-1/0;for(var i=0;i<this.pathCommands.length;i++){var o=this.pathCommands[i],r=o.points;switch(o.command){case"M":t.min(e,e,r),t.max(n,n,r);break;case"L":t.min(e,e,r),t.max(n,n,r);break;case"C":for(var a=0;6>a;a+=2)e[0]=Math.min(e[0],e[0],r[a]),e[1]=Math.min(e[1],e[1],r[a+1]),n[0]=Math.max(n[0],n[0],r[a]),n[1]=Math.max(n[1],n[1],r[a+1]);break;case"Q":for(var a=0;4>a;a+=2)e[0]=Math.min(e[0],e[0],r[a]),e[1]=Math.min(e[1],e[1],r[a+1]),n[0]=Math.max(n[0],n[0],r[a]),n[1]=Math.max(n[1],n[1],r[a+1]);break;case"A":var s=r[0],l=r[1],d=r[2],c=r[3];e[0]=Math.min(e[0],e[0],s-d),e[1]=Math.min(e[1],e[1],l-c),n[0]=Math.max(n[0],n[0],s+d),n[1]=Math.max(n[1],n[1],l+c)}}return{x:e[0],y:e[1],width:n[0]-e[0],height:n[1]-e[1]}},i.prototype.begin=function(e){return this._ctx=e||null,this.pathCommands.length=0,this},i.prototype.moveTo=function(e,t){return this.pathCommands.push(new n("M",[e,t])),this._ctx&&this._ctx.moveTo(e,t),this},i.prototype.lineTo=function(e,t){return this.pathCommands.push(new n("L",[e,t])),this._ctx&&this._ctx.lineTo(e,t),this},i.prototype.bezierCurveTo=function(e,t,i,o,r,a){return this.pathCommands.push(new n("C",[e,t,i,o,r,a])),this._ctx&&this._ctx.bezierCurveTo(e,t,i,o,r,a),this},i.prototype.quadraticCurveTo=function(e,t,i,o){return this.pathCommands.push(new n("Q",[e,t,i,o])),this._ctx&&this._ctx.quadraticCurveTo(e,t,i,o),this},i.prototype.arc=function(e,t,i,o,r,a){return this.pathCommands.push(new n("A",[e,t,i,i,o,r-o,0,a?0:1])),this._ctx&&this._ctx.arc(e,t,i,o,r,a),this},i.prototype.arcTo=function(e,t,n,i,o){return this._ctx&&this._ctx.arcTo(e,t,n,i,o),this},i.prototype.rect=function(e,t,n,i){return this._ctx&&this._ctx.rect(e,t,n,i),this},i.prototype.closePath=function(){return this.pathCommands.push(new n("z")),this._ctx&&this._ctx.closePath(),this},i.prototype.isEmpty=function(){return 0===this.pathCommands.length},i.PathSegment=n,i}),n("zrender/Group",["require","./tool/guid","./tool/util","./mixin/Transformable","./mixin/Eventful"],function(e){var t=e("./tool/guid"),n=e("./tool/util"),i=e("./mixin/Transformable"),o=e("./mixin/Eventful"),r=function(e){e=e||{},this.id=e.id||t();for(var n in e)this[n]=e[n];this.type="group",this.clipShape=null,this._children=[],this._storage=null,this.__dirty=!0,i.call(this),o.call(this)};return r.prototype.ignore=!1,r.prototype.children=function(){return this._children.slice()},r.prototype.childAt=function(e){return this._children[e]},r.prototype.addChild=function(e){e!=this&&e.parent!=this&&(e.parent&&e.parent.removeChild(e),this._children.push(e),e.parent=this,this._storage&&this._storage!==e._storage&&(this._storage.addToMap(e),e instanceof r&&e.addChildrenToStorage(this._storage)))},r.prototype.removeChild=function(e){var t=n.indexOf(this._children,e);t>=0&&this._children.splice(t,1),e.parent=null,this._storage&&(this._storage.delFromMap(e.id),e instanceof r&&e.delChildrenFromStorage(this._storage))},r.prototype.clearChildren=function(){for(var e=0;e<this._children.length;e++){var t=this._children[e];this._storage&&(this._storage.delFromMap(t.id),t instanceof r&&t.delChildrenFromStorage(this._storage))}this._children.length=0},r.prototype.eachChild=function(e,t){for(var n=!!t,i=0;i<this._children.length;i++){var o=this._children[i];n?e.call(t,o):e(o)}},r.prototype.traverse=function(e,t){for(var n=!!t,i=0;i<this._children.length;i++){var o=this._children[i];n?e.call(t,o):e(o),"group"===o.type&&o.traverse(e,t)}},r.prototype.addChildrenToStorage=function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToMap(n),n instanceof r&&n.addChildrenToStorage(e)}},r.prototype.delChildrenFromStorage=function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromMap(n.id),n instanceof r&&n.delChildrenFromStorage(e)}},r.prototype.modSelf=function(){this.__dirty=!0},n.merge(r.prototype,i.prototype,!0),n.merge(r.prototype,o.prototype,!0),r}),n("zrender/shape/util/dashedLineTo",[],function(){var e=[5,5];return function(t,n,i,o,r,a){if(t.setLineDash)return e[0]=e[1]=a,t.setLineDash(e),t.moveTo(n,i),void t.lineTo(o,r);a="number"!=typeof a?5:a;var s=o-n,l=r-i,d=Math.floor(Math.sqrt(s*s+l*l)/a);s/=d,l/=d;for(var c=!0,h=0;d>h;++h)c?t.moveTo(n,i):t.lineTo(n,i),c=!c,n+=s,i+=l;t.lineTo(o,r)}}),n("zrender/animation/Clip",["require","./easing"],function(e){function t(e){this._targetPool=e.target||{},this._targetPool instanceof Array||(this._targetPool=[this._targetPool]),this._life=e.life||1e3,this._delay=e.delay||0,this._startTime=(new Date).getTime()+this._delay,this._endTime=this._startTime+1e3*this._life,this.loop="undefined"==typeof e.loop?!1:e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart}var n=e("./easing");return t.prototype={step:function(e){var t=(e-this._startTime)/this._life;if(!(0>t)){t=Math.min(t,1);var i="string"==typeof this.easing?n[this.easing]:this.easing,o="function"==typeof i?i(t):t;return this.fire("frame",o),1==t?this.loop?(this.restart(),"restart"):(this.__needsRemove=!0,"destroy"):null}},restart:function(){var e=(new Date).getTime(),t=(e-this._startTime)%this._life;this._startTime=(new Date).getTime()-t+this.gap,this.__needsRemove=!1},fire:function(e,t){for(var n=0,i=this._targetPool.length;i>n;n++)this["on"+e]&&this["on"+e](this._targetPool[n],t)},constructor:t},t}),n("echarts/util/shape/normalIsCover",[],function(){return function(e,t){var n=this.transformCoordToLocal(e,t);return e=n[0],t=n[1],this.isCoverRect(e,t)}}),n("zrender/animation/easing",[],function(){var e={Linear:function(e){return e},QuadraticIn:function(e){return e*e},QuadraticOut:function(e){return e*(2-e)},QuadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},CubicIn:function(e){return e*e*e},CubicOut:function(e){return--e*e*e+1},CubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},QuarticIn:function(e){return e*e*e*e},QuarticOut:function(e){return 1- --e*e*e*e},QuarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},QuinticIn:function(e){return e*e*e*e*e},QuinticOut:function(e){return--e*e*e*e*e+1},QuinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},SinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},SinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},SinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},ExponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},ExponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},ExponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},CircularIn:function(e){return 1-Math.sqrt(1-e*e)},CircularOut:function(e){return Math.sqrt(1- --e*e)},CircularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},ElasticIn:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/i)))},ElasticOut:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin(2*(e-t)*Math.PI/i)+1)},ElasticInOut:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*n*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/i):n*Math.pow(2,-10*(e-=1))*Math.sin(2*(e-t)*Math.PI/i)*.5+1)},BackIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},BackOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},BackInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)},BounceIn:function(t){return 1-e.BounceOut(1-t)},BounceOut:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},BounceInOut:function(t){return.5>t?.5*e.BounceIn(2*t):.5*e.BounceOut(2*t-1)+.5}};return e}),n("zrender/shape/util/smoothSpline",["require","../../tool/vector"],function(e){function t(e,t,n,i,o,r,a){var s=.5*(n-e),l=.5*(i-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*r+s*o+t}var n=e("../../tool/vector");return function(e,i){for(var o=e.length,r=[],a=0,s=1;o>s;s++)a+=n.distance(e[s-1],e[s]);var l=a/5;l=o>l?o:l;for(var s=0;l>s;s++){var d,c,h,u=s/(l-1)*(i?o:o-1),p=Math.floor(u),m=u-p,f=e[p%o];i?(d=e[(p-1+o)%o],c=e[(p+1)%o],h=e[(p+2)%o]):(d=e[0===p?p:p-1],c=e[p>o-2?o-1:p+1],h=e[p>o-3?o-1:p+2]);var g=m*m,v=m*g;r.push([t(d[0],f[0],c[0],h[0],m,g,v),t(d[1],f[1],c[1],h[1],m,g,v)])}return r}}),n("zrender/shape/util/smoothBezier",["require","../../tool/vector"],function(e){var t=e("../../tool/vector");return function(e,n,i,o){var r,a,s,l,d=[],c=[],h=[],u=[],p=!!o;if(p){s=[1/0,1/0],l=[-1/0,-1/0];for(var m=0,f=e.length;f>m;m++)t.min(s,s,e[m]),t.max(l,l,e[m]);t.min(s,s,o[0]),t.max(l,l,o[1])}for(var m=0,f=e.length;f>m;m++){var r,a,g=e[m];if(i)r=e[m?m-1:f-1],a=e[(m+1)%f];else{if(0===m||m===f-1){d.push(t.clone(e[m]));continue}r=e[m-1],a=e[m+1]}t.sub(c,a,r),t.scale(c,c,n);var v=t.distance(g,r),y=t.distance(g,a),b=v+y;0!==b&&(v/=b,y/=b),t.scale(h,c,-v),t.scale(u,c,y);var _=t.add([],g,h),x=t.add([],g,u);p&&(t.max(_,_,s),t.min(_,_,l),t.max(x,x,s),t.min(x,x,l)),d.push(_),d.push(x)}return i&&d.push(t.clone(d.shift())),d}}),n("echarts/util/ecQuery",["require","zrender/tool/util"],function(e){function t(e,t){if("undefined"!=typeof e){if(!t)return e;t=t.split(".");for(var n=t.length,i=0;n>i;){if(e=e[t[i]],"undefined"==typeof e)return;i++}return e}}function n(e,n){for(var i,o=0,r=e.length;r>o;o++)if(i=t(e[o],n),"undefined"!=typeof i)return i}function i(e,n){for(var i,r=e.length;r--;){var a=t(e[r],n);"undefined"!=typeof a&&("undefined"==typeof i?i=o.clone(a):o.merge(i,a,!0))}return i}var o=e("zrender/tool/util");return{query:t,deepQuery:n,deepMerge:i}}),n("echarts/data/KDTree",["require","./quickSelect"],function(e){function t(e,t){this.left=null,this.right=null,this.axis=e,this.data=t}var n=e("./quickSelect"),i=function(e,t){e.length&&(t||(t=e[0].array.length),this.dimension=t,this.root=this._buildTree(e,0,e.length-1,0),this._stack=[],this._nearstNList=[])};return i.prototype._buildTree=function(e,i,o,r){if(i>o)return null;var a=Math.floor((i+o)/2);a=n(e,i,o,a,function(e,t){return e.array[r]-t.array[r]});var s=e[a],l=new t(r,s);return r=(r+1)%this.dimension,o>i&&(l.left=this._buildTree(e,i,a-1,r),l.right=this._buildTree(e,a+1,o,r)),l},i.prototype.nearest=function(e,t){var n=this.root,i=this._stack,o=0,r=1/0,a=null;for(n.data!==e&&(r=t(n.data,e),a=n),e.array[n.axis]<n.data.array[n.axis]?(n.right&&(i[o++]=n.right),n.left&&(i[o++]=n.left)):(n.left&&(i[o++]=n.left),n.right&&(i[o++]=n.right));o--;){n=i[o];var s=e.array[n.axis]-n.data.array[n.axis],l=0>s,d=!1;s*=s,r>s&&(s=t(n.data,e),r>s&&n.data!==e&&(r=s,a=n),d=!0),l?(d&&n.right&&(i[o++]=n.right),n.left&&(i[o++]=n.left)):(d&&n.left&&(i[o++]=n.left),n.right&&(i[o++]=n.right))}return a.data},i.prototype._addNearest=function(e,t,n){for(var i=this._nearstNList,o=e-1;o>0&&!(t>=i[o-1].dist);o--)i[o].dist=i[o-1].dist,i[o].node=i[o-1].node;i[o].dist=t,i[o].node=n},i.prototype.nearestN=function(e,t,n,i){if(0>=t)return i.length=0,i;for(var o=this.root,r=this._stack,a=0,s=this._nearstNList,l=0;t>l;l++)s[l]||(s[l]={}),s[l].dist=0,s[l].node=null;var d=n(o.data,e),c=0;for(o.data!==e&&(c++,this._addNearest(c,d,o)),e.array[o.axis]<o.data.array[o.axis]?(o.right&&(r[a++]=o.right),o.left&&(r[a++]=o.left)):(o.left&&(r[a++]=o.left),o.right&&(r[a++]=o.right));a--;){o=r[a];var d=e.array[o.axis]-o.data.array[o.axis],h=0>d,u=!1;d*=d,(t>c||d<s[c-1].dist)&&(d=n(o.data,e),(t>c||d<s[c-1].dist)&&o.data!==e&&(t>c&&c++,this._addNearest(c,d,o)),u=!0),h?(u&&o.right&&(r[a++]=o.right),o.left&&(r[a++]=o.left)):(u&&o.left&&(r[a++]=o.left),o.right&&(r[a++]=o.right))}for(var l=0;c>l;l++)i[l]=s[l].node.data;return i.length=c,i},i}),n("echarts/data/quickSelect",["require"],function(){function e(e,t){return e-t}function t(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function n(e,n,i,o,r){for(var a=n;i>n;){var a=Math.round((i+n)/2),s=e[a];t(e,a,i),a=n;for(var l=n;i-1>=l;l++)r(s,e[l])>=0&&(t(e,l,a),a++);if(t(e,i,a),a===o)return a;o>a?n=a+1:i=a-1}return n}function i(t,i,o,r,a){return arguments.length<=3&&(r=i,a=2==arguments.length?e:o,i=0,o=t.length-1),n(t,i,o,r,a)}return i}),n("echarts/component/dataView",["require","./base","../config","zrender/tool/util","../component"],function(e){function t(e,t,i,o,r){n.call(this,e,t,i,o,r),this.dom=r.dom,this._tDom=document.createElement("div"),this._textArea=document.createElement("textArea"),this._buttonRefresh=document.createElement("button"),this._buttonRefresh.setAttribute("type","button"),this._buttonClose=document.createElement("button"),this._buttonClose.setAttribute("type","button"),this._hasShow=!1,this._zrHeight=i.getHeight(),this._zrWidth=i.getWidth(),this._tDom.className="echarts-dataview",this.hide(),this.dom.firstChild.appendChild(this._tDom),window.addEventListener?(this._tDom.addEventListener("click",this._stop),this._tDom.addEventListener("mousewheel",this._stop),this._tDom.addEventListener("mousemove",this._stop),this._tDom.addEventListener("mousedown",this._stop),this._tDom.addEventListener("mouseup",this._stop),this._tDom.addEventListener("touchstart",this._stop),this._tDom.addEventListener("touchmove",this._stop),this._tDom.addEventListener("touchend",this._stop)):(this._tDom.attachEvent("onclick",this._stop),this._tDom.attachEvent("onmousewheel",this._stop),this._tDom.attachEvent("onmousemove",this._stop),this._tDom.attachEvent("onmousedown",this._stop),this._tDom.attachEvent("onmouseup",this._stop))}var n=e("./base"),i=e("../config"),o=e("zrender/tool/util");return t.prototype={type:i.COMPONENT_TYPE_DATAVIEW,_lang:["Data View","close","refresh"],_gCssText:"position:absolute;display:block;overflow:hidden;transition:height 0.8s,background-color 1s;-moz-transition:height 0.8s,background-color 1s;-webkit-transition:height 0.8s,background-color 1s;-o-transition:height 0.8s,background-color 1s;z-index:1;left:0;top:0;",hide:function(){this._sizeCssText="width:"+this._zrWidth+"px;height:0px;background-color:#f0ffff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText},show:function(e){this._hasShow=!0;var t=this.query(this.option,"toolbox.feature.dataView.lang")||this._lang;this.option=e,this._tDom.innerHTML='<p style="padding:8px 0;margin:0 0 10px 0;border-bottom:1px solid #eee">'+(t[0]||this._lang[0])+"</p>";var n=this.query(this.option,"toolbox.feature.dataView.optionToContent");"function"!=typeof n?this._textArea.value=this._optionToContent():(this._textArea=document.createElement("div"),this._textArea.innerHTML=n(this.option)),this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;",this._tDom.appendChild(this._textArea),this._buttonClose.style.cssText="float:right;padding:1px 6px;",this._buttonClose.innerHTML=t[1]||this._lang[1];var i=this;this._buttonClose.onclick=function(){i.hide()},this._tDom.appendChild(this._buttonClose),this.query(this.option,"toolbox.feature.dataView.readOnly")===!1?(this._buttonRefresh.style.cssText="float:right;margin-right:10px;padding:1px 6px;",this._buttonRefresh.innerHTML=t[2]||this._lang[2],this._buttonRefresh.onclick=function(){i._save()},this._textArea.readOnly=!1,this._textArea.style.cursor="default"):(this._buttonRefresh.style.cssText="display:none",this._textArea.readOnly=!0,this._textArea.style.cursor="text"),this._tDom.appendChild(this._buttonRefresh),this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText},_optionToContent:function(){var e,t,n,o,r,a,s=[],l="";if(this.option.xAxis)for(s=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis],e=0,o=s.length;o>e;e++)if("category"==(s[e].type||"category")){for(a=[],t=0,n=s[e].data.length;n>t;t++)a.push(this.getDataFromOption(s[e].data[t]));l+=a.join(", ")+"\n\n"}if(this.option.yAxis)for(s=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis],e=0,o=s.length;o>e;e++)if("category"==s[e].type){for(a=[],t=0,n=s[e].data.length;n>t;t++)a.push(this.getDataFromOption(s[e].data[t]));l+=a.join(", ")+"\n\n"}var d,c=this.option.series;for(e=0,o=c.length;o>e;e++){for(a=[],t=0,n=c[e].data.length;n>t;t++)r=c[e].data[t],d=c[e].type==i.CHART_TYPE_PIE||c[e].type==i.CHART_TYPE_MAP?(r.name||"-")+":":"",c[e].type==i.CHART_TYPE_SCATTER&&(r=this.getDataFromOption(r).join(", ")),a.push(d+this.getDataFromOption(r));l+=(c[e].name||"-")+" : \n",l+=a.join(c[e].type==i.CHART_TYPE_SCATTER?"\n":", "),l+="\n\n"}return l},_save:function(){var e=this.query(this.option,"toolbox.feature.dataView.contentToOption");if("function"!=typeof e){for(var t=this._textArea.value.split("\n"),n=[],o=0,r=t.length;r>o;o++)t[o]=this._trim(t[o]),""!==t[o]&&n.push(t[o]);this._contentToOption(n)}else e(this._textArea,this.option);this.hide();var a=this;setTimeout(function(){a.messageCenter&&a.messageCenter.dispatch(i.EVENT.DATA_VIEW_CHANGED,null,{option:a.option},a.myChart)},a.canvasSupported?800:100)},_contentToOption:function(e){var t,n,o,r,a,s,l,d=[],c=0;if(this.option.xAxis)for(d=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis],t=0,r=d.length;r>t;t++)if("category"==(d[t].type||"category")){for(s=e[c].split(","),n=0,o=d[t].data.length;o>n;n++)l=this._trim(s[n]||""),a=d[t].data[n],"undefined"!=typeof d[t].data[n].value?d[t].data[n].value=l:d[t].data[n]=l;c++}if(this.option.yAxis)for(d=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis],t=0,r=d.length;r>t;t++)if("category"==d[t].type){for(s=e[c].split(","),n=0,o=d[t].data.length;o>n;n++)l=this._trim(s[n]||""),a=d[t].data[n],"undefined"!=typeof d[t].data[n].value?d[t].data[n].value=l:d[t].data[n]=l;c++}var h=this.option.series;for(t=0,r=h.length;r>t;t++)if(c++,h[t].type==i.CHART_TYPE_SCATTER)for(var n=0,o=h[t].data.length;o>n;n++)s=e[c],l=s.replace(" ","").split(","),"undefined"!=typeof h[t].data[n].value?h[t].data[n].value=l:h[t].data[n]=l,c++;else{s=e[c].split(",");for(var n=0,o=h[t].data.length;o>n;n++)l=(s[n]||"").replace(/.*:/,""),l=this._trim(l),l="-"!=l&&""!==l?l-0:"-","undefined"!=typeof h[t].data[n].value?h[t].data[n].value=l:h[t].data[n]=l;c++}},_trim:function(e){var t=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return e.replace(t,"")},_stop:function(e){e=e||window.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},resize:function(){this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth(),this._tDom.offsetHeight>10&&(this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText,this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;")},dispose:function(){window.removeEventListener?(this._tDom.removeEventListener("click",this._stop),this._tDom.removeEventListener("mousewheel",this._stop),this._tDom.removeEventListener("mousemove",this._stop),this._tDom.removeEventListener("mousedown",this._stop),this._tDom.removeEventListener("mouseup",this._stop),this._tDom.removeEventListener("touchstart",this._stop),this._tDom.removeEventListener("touchmove",this._stop),this._tDom.removeEventListener("touchend",this._stop)):(this._tDom.detachEvent("onclick",this._stop),this._tDom.detachEvent("onmousewheel",this._stop),this._tDom.detachEvent("onmousemove",this._stop),this._tDom.detachEvent("onmousedown",this._stop),this._tDom.detachEvent("onmouseup",this._stop)),this._buttonRefresh.onclick=null,this._buttonClose.onclick=null,this._hasShow&&(this._tDom.removeChild(this._textArea),this._tDom.removeChild(this._buttonRefresh),this._tDom.removeChild(this._buttonClose)),this._textArea=null,this._buttonRefresh=null,this._buttonClose=null,this.dom.firstChild.removeChild(this._tDom),this._tDom=null}},o.inherits(t,n),e("../component").define("dataView",t),t}),n("echarts/util/coordinates",["require","zrender/tool/math"],function(e){function t(e,t){return[e*i.sin(t),e*i.cos(t)]}function n(e,t){return[Math.sqrt(e*e+t*t),Math.atan(t/e)]}var i=e("zrender/tool/math");return{polar2cartesian:t,cartesian2polar:n}}),n("echarts/component/valueAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/date","zrender/tool/util","../util/smartSteps","../util/accMath","../util/smartLogSteps","../component"],function(e){function t(e,t,i,o,r,a,s){if(!s||0===s.length)return void console.err("option.series.length == 0.");n.call(this,e,t,i,o,r),this.series=s,this.grid=this.component.grid;for(var l in a)this[l]=a[l];this.refresh(o,s)}var n=e("./base"),i=e("zrender/shape/Text"),o=e("zrender/shape/Line"),r=e("zrender/shape/Rectangle"),a=e("../config");a.valueAxis={zlevel:0,z:0,show:!0,position:"left",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:[0,0],axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!1,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var s=e("../util/date"),l=e("zrender/tool/util");return t.prototype={type:a.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){if(this._hasData=!1,this._calculateValue(),this._hasData&&this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var e=0,t=this.shapeList.length;t>e;e++)this.zr.addShape(this.shapeList[e])}},_buildAxisTick:function(){var e,t=this._valueList,n=this._valueList.length,i=this.option.axisTick,r=i.length,a=i.lineStyle.color,s=i.lineStyle.width;if(this.isHorizontal())for(var l,d="bottom"===this.option.position?i.inside?this.grid.getYend()-r-1:this.grid.getYend()+1:i.inside?this.grid.getY()+1:this.grid.getY()-r-1,c=0;n>c;c++)l=this.subPixelOptimize(this.getCoord(t[c]),s),e={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:l,yStart:d,xEnd:l,yEnd:d+r,strokeColor:a,lineWidth:s}},this.shapeList.push(new o(e));else for(var h,u="left"===this.option.position?i.inside?this.grid.getX()+1:this.grid.getX()-r-1:i.inside?this.grid.getXend()-r-1:this.grid.getXend()+1,c=0;n>c;c++)h=this.subPixelOptimize(this.getCoord(t[c]),s),e={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:u,yStart:h,xEnd:u+r,yEnd:h,strokeColor:a,lineWidth:s}},this.shapeList.push(new o(e))},_buildAxisLabel:function(){var e,t=this._valueList,n=this._valueList.length,o=this.option.axisLabel.rotate,r=this.option.axisLabel.margin,a=this.option.axisLabel.clickable,s=this.option.axisLabel.textStyle;if(this.isHorizontal()){var l,d;"bottom"===this.option.position?(l=this.grid.getYend()+r,d="top"):(l=this.grid.getY()-r,d="bottom");for(var c=0;n>c;c++)e={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoord(t[c]),y:l,color:"function"==typeof s.color?s.color(t[c]):s.color,text:this._valueLabel[c],textFont:this.getFont(s),textAlign:s.align||"center",textBaseline:s.baseline||d}},o&&(e.style.textAlign=o>0?"bottom"===this.option.position?"right":"left":"bottom"===this.option.position?"left":"right",e.rotation=[o*Math.PI/180,e.style.x,e.style.y]),this.shapeList.push(new i(this._axisLabelClickable(a,e)))}else{var h,u;"left"===this.option.position?(h=this.grid.getX()-r,u="right"):(h=this.grid.getXend()+r,u="left");for(var c=0;n>c;c++)e={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:h,y:this.getCoord(t[c]),color:"function"==typeof s.color?s.color(t[c]):s.color,text:this._valueLabel[c],textFont:this.getFont(s),textAlign:s.align||u,textBaseline:s.baseline||(0===c&&""!==this.option.name?"bottom":c===n-1&&""!==this.option.name?"top":"middle")}},o&&(e.rotation=[o*Math.PI/180,e.style.x,e.style.y]),this.shapeList.push(new i(this._axisLabelClickable(a,e)))}},_buildSplitLine:function(){var e,t=this._valueList,n=this._valueList.length,i=this.option.splitLine,r=i.lineStyle.type,a=i.lineStyle.width,s=i.lineStyle.color;s=s instanceof Array?s:[s];var l=s.length;if(this.isHorizontal())for(var d,c=this.grid.getY(),h=this.grid.getYend(),u=0;n>u;u++)d=this.subPixelOptimize(this.getCoord(t[u]),a),e={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:d,yStart:c,xEnd:d,yEnd:h,strokeColor:s[u%l],lineType:r,lineWidth:a}},this.shapeList.push(new o(e));else for(var p,m=this.grid.getX(),f=this.grid.getXend(),u=0;n>u;u++)p=this.subPixelOptimize(this.getCoord(t[u]),a),e={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:m,yStart:p,xEnd:f,yEnd:p,strokeColor:s[u%l],lineType:r,lineWidth:a}},this.shapeList.push(new o(e))},_buildSplitArea:function(){var e,t=this.option.splitArea.areaStyle.color;if(t instanceof Array){var n=t.length,i=this._valueList,o=this._valueList.length;if(this.isHorizontal())for(var a,s=this.grid.getY(),l=this.grid.getHeight(),d=this.grid.getX(),c=0;o>=c;c++)a=o>c?this.getCoord(i[c]):this.grid.getXend(),e={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:d,y:s,width:a-d,height:l,color:t[c%n]}},this.shapeList.push(new r(e)),d=a;else for(var h,u=this.grid.getX(),p=this.grid.getWidth(),m=this.grid.getYend(),c=0;o>=c;c++)h=o>c?this.getCoord(i[c]):this.grid.getY(),e={zlevel:this.getZlevelBase(),
z:this.getZBase(),hoverable:!1,style:{x:u,y:h,width:p,height:m-h,color:t[c%n]}},this.shapeList.push(new r(e)),m=h}else e={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:t}},this.shapeList.push(new r(e))},_calculateValue:function(){if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){for(var e,t,n={},i=this.component.legend,o=0,r=this.series.length;r>o;o++)!(this.series[o].type!=a.CHART_TYPE_LINE&&this.series[o].type!=a.CHART_TYPE_BAR&&this.series[o].type!=a.CHART_TYPE_SCATTER&&this.series[o].type!=a.CHART_TYPE_K&&this.series[o].type!=a.CHART_TYPE_EVENTRIVER||i&&!i.isSelected(this.series[o].name)||(e=this.series[o].xAxisIndex||0,t=this.series[o].yAxisIndex||0,this.option.xAxisIndex!=e&&this.option.yAxisIndex!=t||!this._calculSum(n,o)));var s;for(var o in n){s=n[o];for(var l=0,d=s.length;d>l;l++)if(!isNaN(s[l])){this._hasData=!0,this._min=s[l],this._max=s[l];break}if(this._hasData)break}for(var o in n){s=n[o];for(var l=0,d=s.length;d>l;l++)isNaN(s[l])||(this._min=Math.min(this._min,s[l]),this._max=Math.max(this._max,s[l]))}var c="log"!==this.option.type?this.option.boundaryGap:[0,0],h=Math.abs(this._max-this._min);this._min=isNaN(this.option.min-0)?this._min-Math.abs(h*c[0]):this.option.min-0,this._max=isNaN(this.option.max-0)?this._max+Math.abs(h*c[1]):this.option.max-0,this._min===this._max&&(0===this._max?this._max=1:this._max>0?this._min=this._max/this.option.splitNumber!=null?this.option.splitNumber:5:this._max=this._max/this.option.splitNumber!=null?this.option.splitNumber:5),"time"===this.option.type?this._reformTimeValue():"log"===this.option.type?this._reformLogValue():this._reformValue(this.option.scale)}else this._hasData=!0,this._min=this.option.min-0,this._max=this.option.max-0,"time"===this.option.type?this._reformTimeValue():"log"===this.option.type?this._reformLogValue():this._customerValue()},_calculSum:function(e,t){var n,i,o=this.series[t].name||"kener";if(this.series[t].stack){var r="__Magic_Key_Positive__"+this.series[t].stack,l="__Magic_Key_Negative__"+this.series[t].stack;e[r]=e[r]||[],e[l]=e[l]||[],e[o]=e[o]||[],i=this.series[t].data;for(var d=0,c=i.length;c>d;d++)n=this.getDataFromOption(i[d]),"-"!==n&&(n-=0,n>=0?null!=e[r][d]?e[r][d]+=n:e[r][d]=n:null!=e[l][d]?e[l][d]+=n:e[l][d]=n,this.option.scale&&e[o].push(n))}else if(e[o]=e[o]||[],this.series[t].type!=a.CHART_TYPE_EVENTRIVER){i=this.series[t].data;for(var d=0,c=i.length;c>d;d++)n=this.getDataFromOption(i[d]),this.series[t].type===a.CHART_TYPE_K?(e[o].push(n[0]),e[o].push(n[1]),e[o].push(n[2]),e[o].push(n[3])):n instanceof Array?(-1!=this.option.xAxisIndex&&e[o].push("time"!=this.option.type?n[0]:s.getNewDate(n[0])),-1!=this.option.yAxisIndex&&e[o].push("time"!=this.option.type?n[1]:s.getNewDate(n[1]))):e[o].push(n)}else{i=this.series[t].data;for(var d=0,c=i.length;c>d;d++)for(var h=i[d].evolution,u=0,p=h.length;p>u;u++)e[o].push(s.getNewDate(h[u].time))}},_reformValue:function(t){var n=e("../util/smartSteps"),i=this.option.splitNumber;!t&&this._min>=0&&this._max>=0&&(this._min=0),!t&&this._min<=0&&this._max<=0&&(this._max=0);var o=n(this._min,this._max,i);i=null!=i?i:o.secs,this._min=o.min,this._max=o.max,this._valueList=o.pnts,this._reformLabelData()},_reformTimeValue:function(){var e=null!=this.option.splitNumber?this.option.splitNumber:5,t=s.getAutoFormatter(this._min,this._max,e),n=t.formatter,i=t.gapValue;this._valueList=[s.getNewDate(this._min)];var o;switch(n){case"week":o=s.nextMonday(this._min);break;case"month":o=s.nextNthOnMonth(this._min,1);break;case"quarter":o=s.nextNthOnQuarterYear(this._min,1);break;case"half-year":o=s.nextNthOnHalfYear(this._min,1);break;case"year":o=s.nextNthOnYear(this._min,1);break;default:72e5>=i?o=(Math.floor(this._min/i)+1)*i:(o=s.getNewDate(this._min- -i),o.setHours(6*Math.round(o.getHours()/6)),o.setMinutes(0),o.setSeconds(0))}for(o-this._min<i/2&&(o-=-i),t=s.getNewDate(o),e*=1.5;e-- >=0&&(("month"==n||"quarter"==n||"half-year"==n||"year"==n)&&t.setDate(1),!(this._max-t<i/2));)this._valueList.push(t),t=s.getNewDate(t- -i);this._valueList.push(s.getNewDate(this._max)),this._reformLabelData(function(e){return function(t){return s.format(e,t)}}(n))},_customerValue:function(){var t=e("../util/accMath"),n=null!=this.option.splitNumber?this.option.splitNumber:5,i=(this._max-this._min)/n;this._valueList=[];for(var o=0;n>=o;o++)this._valueList.push(t.accAdd(this._min,t.accMul(i,o)));this._reformLabelData()},_reformLogValue:function(){var t=this.option,n=e("../util/smartLogSteps")({dataMin:this._min,dataMax:this._max,logPositive:t.logPositive,logLabelBase:t.logLabelBase,splitNumber:t.splitNumber});this._min=n.dataMin,this._max=n.dataMax,this._valueList=n.tickList,this._dataMappingMethods=n.dataMappingMethods,this._reformLabelData(n.labelFormatter)},_reformLabelData:function(e){this._valueLabel=[];var t=this.option.axisLabel.formatter;if(t)for(var n=0,i=this._valueList.length;i>n;n++)"function"==typeof t?this._valueLabel.push(e?t.call(this.myChart,this._valueList[n],e):t.call(this.myChart,this._valueList[n])):"string"==typeof t&&this._valueLabel.push(e?s.format(t,this._valueList[n]):t.replace("{value}",this._valueList[n]));else for(var n=0,i=this._valueList.length;i>n;n++)this._valueLabel.push(e?e(this._valueList[n]):this.numAddCommas(this._valueList[n]))},getExtremum:function(){this._calculateValue();var e=this._dataMappingMethods;return{min:this._min,max:this._max,dataMappingMethods:e?l.merge({},e):null}},refresh:function(e,t){e&&(this.option=this.reformOption(e),this.option.axisLabel.textStyle=l.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle),this.series=t),this.zr&&(this.clear(),this._buildShape())},getCoord:function(e){this._dataMappingMethods&&(e=this._dataMappingMethods.value2Coord(e)),e=e<this._min?this._min:e,e=e>this._max?this._max:e;var t;return t=this.isHorizontal()?this.grid.getX()+(e-this._min)/(this._max-this._min)*this.grid.getWidth():this.grid.getYend()-(e-this._min)/(this._max-this._min)*this.grid.getHeight()},getCoordSize:function(e){return Math.abs(this.isHorizontal()?e/(this._max-this._min)*this.grid.getWidth():e/(this._max-this._min)*this.grid.getHeight())},getValueFromCoord:function(e){var t;return this.isHorizontal()?(e=e<this.grid.getX()?this.grid.getX():e,e=e>this.grid.getXend()?this.grid.getXend():e,t=this._min+(e-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)):(e=e<this.grid.getY()?this.grid.getY():e,e=e>this.grid.getYend()?this.grid.getYend():e,t=this._max-(e-this.grid.getY())/this.grid.getHeight()*(this._max-this._min)),this._dataMappingMethods&&(t=this._dataMappingMethods.coord2Value(t)),t.toFixed(2)-0},isMaindAxis:function(e){for(var t=0,n=this._valueList.length;n>t;t++)if(this._valueList[t]===e)return!0;return!1}},l.inherits(t,n),e("../component").define("valueAxis",t),t}),n("echarts/component/categoryAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","../component"],function(e){function t(e,t,i,o,r,a){if(o.data.length<1)return void console.error("option.data.length < 1.");n.call(this,e,t,i,o,r),this.grid=this.component.grid;for(var s in a)this[s]=a[s];this.refresh(o)}var n=e("./base"),i=e("zrender/shape/Text"),o=e("zrender/shape/Line"),r=e("zrender/shape/Rectangle"),a=e("../config");a.categoryAxis={zlevel:0,z:0,show:!0,position:"bottom",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:!0,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!0,interval:"auto",inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,interval:"auto",rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var s=e("zrender/tool/util"),l=e("zrender/tool/area");return t.prototype={type:a.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(e){var t=this.getDataFromOption(this.option.data[e]),n=this.option.data[e].formatter||this.option.axisLabel.formatter;return n&&("function"==typeof n?t=n.call(this.myChart,t):"string"==typeof n&&(t=n.replace("{value}",t))),t},_getInterval:function(){var e=this.option.axisLabel.interval;if("auto"==e){var t=this.option.axisLabel.textStyle.fontSize,n=this.option.data,i=this.option.data.length;if(this.isHorizontal())if(i>3){var o,r,a=this.getGap(),d=!1,c=Math.floor(.5/a);for(c=1>c?1:c,e=Math.floor(15/a);!d&&i>e;){e+=c,d=!0,o=Math.floor(a*e);for(var h=Math.floor((i-1)/e)*e;h>=0;h-=e){if(0!==this.option.axisLabel.rotate)r=t;else if(n[h].textStyle)r=l.getTextWidth(this._getReformedLabel(h),this.getFont(s.merge(n[h].textStyle,this.option.axisLabel.textStyle)));else{var u=this._getReformedLabel(h)+"",p=(u.match(/\w/g)||"").length,m=u.length-p;r=p*t*2/3+m*t}if(r>o){d=!1;break}}}}else e=1;else if(i>3){var a=this.getGap();for(e=Math.floor(11/a);t>a*e-6&&i>e;)e++}else e=1}else e="function"==typeof e?1:e-0+1;return e},_buildShape:function(){if(this._interval=this._getInterval(),this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var e=0,t=this.shapeList.length;t>e;e++)this.zr.addShape(this.shapeList[e])}},_buildAxisTick:function(){var e,t=this.option.data,n=this.option.data.length,i=this.option.axisTick,r=i.length,a=i.lineStyle.color,s=i.lineStyle.width,l="function"==typeof i.interval?i.interval:"auto"==i.interval&&"function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,d=l?1:"auto"==i.interval?this._interval:i.interval-0+1,c=i.onGap,h=c?this.getGap()/2:"undefined"==typeof c&&this.option.boundaryGap?this.getGap()/2:0,u=h>0?-d:0;if(this.isHorizontal())for(var p,m="bottom"==this.option.position?i.inside?this.grid.getYend()-r-1:this.grid.getYend()+1:i.inside?this.grid.getY()+1:this.grid.getY()-r-1,f=u;n>f;f+=d)(!l||l(f,t[f]))&&(p=this.subPixelOptimize(this.getCoordByIndex(f)+(f>=0?h:0),s),e={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:p,yStart:m,xEnd:p,yEnd:m+r,strokeColor:a,lineWidth:s}},this.shapeList.push(new o(e)));else for(var g,v="left"==this.option.position?i.inside?this.grid.getX()+1:this.grid.getX()-r-1:i.inside?this.grid.getXend()-r-1:this.grid.getXend()+1,f=u;n>f;f+=d)(!l||l(f,t[f]))&&(g=this.subPixelOptimize(this.getCoordByIndex(f)-(f>=0?h:0),s),e={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:v,yStart:g,xEnd:v+r,yEnd:g,strokeColor:a,lineWidth:s}},this.shapeList.push(new o(e)))},_buildAxisLabel:function(){var e,t,n=this.option.data,o=this.option.data.length,r=this.option.axisLabel,a=r.rotate,l=r.margin,d=r.clickable,c=r.textStyle,h="function"==typeof r.interval?r.interval:!1;if(this.isHorizontal()){var u,p;"bottom"==this.option.position?(u=this.grid.getYend()+l,p="top"):(u=this.grid.getY()-l,p="bottom");for(var m=0;o>m;m+=this._interval)h&&!h(m,n[m])||""===this._getReformedLabel(m)||(t=s.merge(n[m].textStyle||{},c),e={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoordByIndex(m),y:u,color:t.color,text:this._getReformedLabel(m),textFont:this.getFont(t),textAlign:t.align||"center",textBaseline:t.baseline||p}},a&&(e.style.textAlign=a>0?"bottom"==this.option.position?"right":"left":"bottom"==this.option.position?"left":"right",e.rotation=[a*Math.PI/180,e.style.x,e.style.y]),this.shapeList.push(new i(this._axisLabelClickable(d,e))))}else{var f,g;"left"==this.option.position?(f=this.grid.getX()-l,g="right"):(f=this.grid.getXend()+l,g="left");for(var m=0;o>m;m+=this._interval)h&&!h(m,n[m])||""===this._getReformedLabel(m)||(t=s.merge(n[m].textStyle||{},c),e={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:f,y:this.getCoordByIndex(m),color:t.color,text:this._getReformedLabel(m),textFont:this.getFont(t),textAlign:t.align||g,textBaseline:t.baseline||0===m&&""!==this.option.name?"bottom":m==o-1&&""!==this.option.name?"top":"middle"}},a&&(e.rotation=[a*Math.PI/180,e.style.x,e.style.y]),this.shapeList.push(new i(this._axisLabelClickable(d,e))))}},_buildSplitLine:function(){var e,t=this.option.data,n=this.option.data.length,i=this.option.splitLine,r=i.lineStyle.type,a=i.lineStyle.width,s=i.lineStyle.color;s=s instanceof Array?s:[s];var l=s.length,d="function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,c=i.onGap,h=c?this.getGap()/2:"undefined"==typeof c&&this.option.boundaryGap?this.getGap()/2:0;if(n-=c||"undefined"==typeof c&&this.option.boundaryGap?1:0,this.isHorizontal())for(var u,p=this.grid.getY(),m=this.grid.getYend(),f=0;n>f;f+=this._interval)(!d||d(f,t[f]))&&(u=this.subPixelOptimize(this.getCoordByIndex(f)+h,a),e={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:u,yStart:p,xEnd:u,yEnd:m,strokeColor:s[f/this._interval%l],lineType:r,lineWidth:a}},this.shapeList.push(new o(e)));else for(var g,v=this.grid.getX(),y=this.grid.getXend(),f=0;n>f;f+=this._interval)(!d||d(f,t[f]))&&(g=this.subPixelOptimize(this.getCoordByIndex(f)-h,a),e={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:v,yStart:g,xEnd:y,yEnd:g,strokeColor:s[f/this._interval%l],lineType:r,lineWidth:a}},this.shapeList.push(new o(e)))},_buildSplitArea:function(){var e,t=this.option.data,n=this.option.splitArea,i=n.areaStyle.color;if(i instanceof Array){var o=i.length,a=this.option.data.length,s="function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,l=n.onGap,d=l?this.getGap()/2:"undefined"==typeof l&&this.option.boundaryGap?this.getGap()/2:0;if(this.isHorizontal())for(var c,h=this.grid.getY(),u=this.grid.getHeight(),p=this.grid.getX(),m=0;a>=m;m+=this._interval)s&&!s(m,t[m])&&a>m||(c=a>m?this.getCoordByIndex(m)+d:this.grid.getXend(),e={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:p,y:h,width:c-p,height:u,color:i[m/this._interval%o]}},this.shapeList.push(new r(e)),p=c);else for(var f,g=this.grid.getX(),v=this.grid.getWidth(),y=this.grid.getYend(),m=0;a>=m;m+=this._interval)s&&!s(m,t[m])&&a>m||(f=a>m?this.getCoordByIndex(m)-d:this.grid.getY(),e={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:g,y:f,width:v,height:y-f,color:i[m/this._interval%o]}},this.shapeList.push(new r(e)),y=f)}else e={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:i}},this.shapeList.push(new r(e))},refresh:function(e){e&&(this.option=this.reformOption(e),this.option.axisLabel.textStyle=this.getTextStyle(this.option.axisLabel.textStyle)),this.clear(),this._buildShape()},getGap:function(){var e=this.option.data.length,t=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();return this.option.boundaryGap?t/e:t/(e>1?e-1:1)},getCoord:function(e){for(var t=this.option.data,n=t.length,i=this.getGap(),o=this.option.boundaryGap?i/2:0,r=0;n>r;r++){if(this.getDataFromOption(t[r])==e)return o=this.isHorizontal()?this.grid.getX()+o:this.grid.getYend()-o;o+=i}},getCoordByIndex:function(e){if(0>e)return this.isHorizontal()?this.grid.getX():this.grid.getYend();if(e>this.option.data.length-1)return this.isHorizontal()?this.grid.getXend():this.grid.getY();var t=this.getGap(),n=this.option.boundaryGap?t/2:0;return n+=e*t,n=this.isHorizontal()?this.grid.getX()+n:this.grid.getYend()-n},getNameByIndex:function(e){return this.getDataFromOption(this.option.data[e])},getIndexByName:function(e){for(var t=this.option.data,n=t.length,i=0;n>i;i++)if(this.getDataFromOption(t[i])==e)return i;return-1},getValueFromCoord:function(){return""},isMainAxis:function(e){return e%this._interval===0}},s.inherits(t,n),e("../component").define("categoryAxis",t),t}),n("zrender/tool/computeBoundingBox",["require","./vector","./curve"],function(e){function t(e,t,n){if(0!==e.length){for(var i=e[0][0],o=e[0][0],r=e[0][1],a=e[0][1],s=1;s<e.length;s++){var l=e[s];l[0]<i&&(i=l[0]),l[0]>o&&(o=l[0]),l[1]<r&&(r=l[1]),l[1]>a&&(a=l[1])}t[0]=i,t[1]=r,n[0]=o,n[1]=a}}function n(e,t,n,i,o,a){var s=[];r.cubicExtrema(e[0],t[0],n[0],i[0],s);for(var l=0;l<s.length;l++)s[l]=r.cubicAt(e[0],t[0],n[0],i[0],s[l]);var d=[];r.cubicExtrema(e[1],t[1],n[1],i[1],d);for(var l=0;l<d.length;l++)d[l]=r.cubicAt(e[1],t[1],n[1],i[1],d[l]);s.push(e[0],i[0]),d.push(e[1],i[1]);var c=Math.min.apply(null,s),h=Math.max.apply(null,s),u=Math.min.apply(null,d),p=Math.max.apply(null,d);o[0]=c,o[1]=u,a[0]=h,a[1]=p}function i(e,t,n,i,o){var a=r.quadraticExtremum(e[0],t[0],n[0]),s=r.quadraticExtremum(e[1],t[1],n[1]);a=Math.max(Math.min(a,1),0),s=Math.max(Math.min(s,1),0);var l=1-a,d=1-s,c=l*l*e[0]+2*l*a*t[0]+a*a*n[0],h=l*l*e[1]+2*l*a*t[1]+a*a*n[1],u=d*d*e[0]+2*d*s*t[0]+s*s*n[0],p=d*d*e[1]+2*d*s*t[1]+s*s*n[1];i[0]=Math.min(e[0],n[0],c,u),i[1]=Math.min(e[1],n[1],h,p),o[0]=Math.max(e[0],n[0],c,u),o[1]=Math.max(e[1],n[1],h,p)}var o=e("./vector"),r=e("./curve"),a=o.create(),s=o.create(),l=o.create(),d=function(e,t,n,i,r,d,c,h){if(Math.abs(i-r)>=2*Math.PI)return c[0]=e-n,c[1]=t-n,h[0]=e+n,void(h[1]=t+n);if(a[0]=Math.cos(i)*n+e,a[1]=Math.sin(i)*n+t,s[0]=Math.cos(r)*n+e,s[1]=Math.sin(r)*n+t,o.min(c,a,s),o.max(h,a,s),i%=2*Math.PI,0>i&&(i+=2*Math.PI),r%=2*Math.PI,0>r&&(r+=2*Math.PI),i>r&&!d?r+=2*Math.PI:r>i&&d&&(i+=2*Math.PI),d){var u=r;r=i,i=u}for(var p=0;r>p;p+=Math.PI/2)p>i&&(l[0]=Math.cos(p)*n+e,l[1]=Math.sin(p)*n+t,o.min(c,l,c),o.max(h,l,h))};return t.cubeBezier=n,t.quadraticBezier=i,t.arc=d,t}),n("echarts/util/smartSteps",[],function(){function e(e){return S.log(A(e))/S.LN10}function t(e){return S.pow(10,e)}function n(e){return e===$(e)}function i(e,t,i,o){b=o||{},_=b.steps||w,x=b.secs||T,i=M(+i||0)%99,e=+e||0,t=+t||0,E=C=0,"min"in b&&(e=+b.min||0,E=1),"max"in b&&(t=+b.max||0,C=1),e>t&&(t=[e,e=t][0]);var r=t-e;if(E&&C)return y(e,t,i);if((i||5)>r){if(n(e)&&n(t))return p(e,t,i);if(0===r)return m(e,t,i)}return d(e,t,i)}function o(e,n,i,o){o=o||0;var s=r((n-e)/i,-1),l=r(e,-1,1),d=r(n,-1),c=S.min(s.e,l.e,d.e);0===l.c?c=S.min(s.e,d.e):0===d.c&&(c=S.min(s.e,l.e)),a(s,{c:0,e:c}),a(l,s,1),a(d,s),o+=c,e=l.c,n=d.c;for(var h=(n-e)/i,u=t(o),p=0,m=[],f=i+1;f--;)m[f]=(e+h*f)*u;if(0>o){p=g(u),h=+(h*u).toFixed(p),e=+(e*u).toFixed(p),n=+(n*u).toFixed(p);for(var f=m.length;f--;)m[f]=m[f].toFixed(p),0===+m[f]&&(m[f]="0")}else e*=u,n*=u,h*=u;return x=0,_=0,b=0,{min:e,max:n,secs:i,step:h,fix:p,exp:o,pnts:m}}function r(i,o,r){o=M(o%10)||2,0>o&&(n(i)?o=(""+A(i)).replace(/0+$/,"").length||1:(i=i.toFixed(15).replace(/0+$/,""),o=i.replace(".","").replace(/^[-0]+/,"").length,i=+i));var a=$(e(i))-o+1,s=+(i*t(-a)).toFixed(15)||0;return s=r?$(s):k(s),!s&&(a=0),(""+A(s)).length>o&&(a+=1,s/=10),{c:s,e:a}}function a(e,n,i){var o=n.e-e.e;o&&(e.e+=o,e.c*=t(-o),e.c=i?$(e.c):k(e.c))}function s(e,t,n){e.e<t.e?a(t,e,n):a(e,t,n)}function l(e,t){t=t||w,e=r(e);for(var n=e.c,i=0;n>t[i];)i++;if(!t[i])for(n/=10,e.e+=1,i=0;n>t[i];)i++;return e.c=t[i],e}function d(e,t,i){var s,d=i||+x.slice(-1),m=l((t-e)/d,_),g=r(t-e),y=r(e,-1,1),b=r(t,-1);if(a(g,m),a(y,m,1),a(b,m),i?s=h(y,b,d):d=c(y,b),n(e)&&n(t)&&e*t>=0){if(d>t-e)return p(e,t,d);d=u(e,t,i,y,b,d)}var w=f(e,t,y.c,b.c);return y.c=w[0],b.c=w[1],(E||C)&&v(e,t,y,b),o(y.c,b.c,d,b.e)}function c(e,n){for(var i,o,r,a,s=[],d=x.length;d--;)i=x[d],o=l((n.c-e.c)/i,_),o=o.c*t(o.e),r=$(e.c/o)*o,a=k(n.c/o)*o,s[d]={min:r,max:a,step:o,span:a-r};return s.sort(function(e,t){var n=e.span-t.span;return 0===n&&(n=e.step-t.step),n}),s=s[0],i=s.span/s.step,e.c=s.min,n.c=s.max,3>i?2*i:i}function h(e,n,i){for(var o,r,a=n.c,s=(n.c-e.c)/i-1;a>e.c;)s=l(s+1,_),s=s.c*t(s.e),o=s*i,r=k(n.c/s)*s,a=r-o;var d=e.c-a,c=r-n.c,h=d-c;return h>1.1*s&&(h=M(h/s/2)*s,a+=h,r+=h),e.c=a,n.c=r,s}function u(e,i,o,r,a,s){var l=a.c-r.c,d=l/s*t(a.e);if(!n(d)&&(d=$(d),l=d*s,i-e>l&&(d+=1,l=d*s,!o&&d*(s-1)>=i-e&&(s-=1,l=d*s)),l>=i-e)){var c=l-(i-e);r.c=M(e-c/2),a.c=M(i+c/2),r.e=0,a.e=0}return s}function p(e,t,n){if(n=n||5,E)t=e+n;else if(C)e=t-n;else{var i=n-(t-e),r=M(e-i/2),a=M(t+i/2),s=f(e,t,r,a);e=s[0],t=s[1]}return o(e,t,n)}function m(e,t,n){n=n||5;var i=S.min(A(t/n),n)/2.1;return E?t=e+i:C?e=t-i:(e-=i,t+=i),d(e,t,n)}function f(e,t,n,i){return e>=0&&0>n?(i-=n,n=0):0>=t&&i>0&&(n-=i,i=0),[n,i]}function g(e){return e=(+e).toFixed(15).split("."),e.pop().replace(/0+$/,"").length}function v(e,t,n,i){if(E){var o=r(e,4,1);n.e-o.e>6&&(o={c:0,e:n.e}),s(n,o),s(i,o),i.c+=o.c-n.c,n.c=o.c}else if(C){var a=r(t,4);i.e-a.e>6&&(a={c:0,e:i.e}),s(n,a),s(i,a),n.c+=a.c-i.c,i.c=a.c}}function y(e,t,n){var i=n?[n]:x,s=t-e;if(0===s)return t=r(t,3),n=i[0],t.c=M(t.c+n/2),o(t.c-n,t.c,n,t.e);A(t/s)<1e-6&&(t=0),A(e/s)<1e-6&&(e=0);var l,d,c,h=[[5,10],[10,2],[50,10],[100,2]],u=[],p=[],m=r(t-e,3),f=r(e,-1,1),g=r(t,-1);a(f,m,1),a(g,m),s=g.c-f.c,m.c=s;for(var v=i.length;v--;){n=i[v],l=k(s/n),d=l*n-s,c=3*(d+3),c+=2*(n-i[0]+2),n%5===0&&(c-=10);for(var y=h.length;y--;)l%h[y][0]===0&&(c/=h[y][1]);p[v]=[n,l,d,c].join(),u[v]={secs:n,step:l,delta:d,score:c}}return u.sort(function(e,t){return e.score-t.score}),u=u[0],f.c=M(f.c-u.delta/2),g.c=M(g.c+u.delta/2),o(f.c,g.c,u.secs,m.e)}var b,_,x,E,C,w=[10,20,25,50],T=[4,5,6],S=Math,M=S.round,$=S.floor,k=S.ceil,A=S.abs;return i}),n("echarts/util/date",[],function(){function e(e,t,n){n=n>1?n:2;for(var i,o,r,a,s=0,l=c.length;l>s;s++)if(i=c[s].value,o=Math.ceil(t/i)*i-Math.floor(e/i)*i,Math.round(o/i)<=1.2*n){r=c[s].formatter,a=c[s].value;break}return null==r&&(r="year",i=317088e5,o=Math.ceil(t/i)*i-Math.floor(e/i)*i,a=Math.round(o/(n-1)/i)*i),{formatter:r,gapValue:a}}function t(e){return 10>e?"0"+e:e}function n(e,n){("week"==e||"month"==e||"quarter"==e||"half-year"==e||"year"==e)&&(e="MM - dd\nyyyy");var i=d(n),o=i.getFullYear(),r=i.getMonth()+1,a=i.getDate(),s=i.getHours(),l=i.getMinutes(),c=i.getSeconds();return e=e.replace("MM",t(r)),e=e.toLowerCase(),e=e.replace("yyyy",o),e=e.replace("yy",o%100),e=e.replace("dd",t(a)),e=e.replace("d",a),e=e.replace("hh",t(s)),e=e.replace("h",s),e=e.replace("mm",t(l)),e=e.replace("m",l),e=e.replace("ss",t(c)),e=e.replace("s",c)}function i(e){return e=d(e),e.setDate(e.getDate()+8-e.getDay()),e}function o(e,t,n){return e=d(e),e.setMonth(Math.ceil((e.getMonth()+1)/n)*n),e.setDate(t),e}function r(e,t){return o(e,t,1)}function a(e,t){return o(e,t,3)}function s(e,t){return o(e,t,6)}function l(e,t){return o(e,t,12)}function d(e){return e instanceof Date?e:new Date("string"==typeof e?e.replace(/-/g,"/"):e)}var c=[{formatter:"hh : mm : ss",value:1e3},{formatter:"hh : mm : ss",value:5e3},{formatter:"hh : mm : ss",value:1e4},{formatter:"hh : mm : ss",value:15e3},{formatter:"hh : mm : ss",value:3e4},{formatter:"hh : mm\nMM - dd",value:6e4},{formatter:"hh : mm\nMM - dd",value:3e5},{formatter:"hh : mm\nMM - dd",value:6e5},{formatter:"hh : mm\nMM - dd",value:9e5},{formatter:"hh : mm\nMM - dd",value:18e5},{formatter:"hh : mm\nMM - dd",value:36e5},{formatter:"hh : mm\nMM - dd",value:72e5},{formatter:"hh : mm\nMM - dd",value:216e5},{formatter:"hh : mm\nMM - dd",value:432e5},{formatter:"MM - dd\nyyyy",value:864e5},{formatter:"week",value:6048e5},{formatter:"month",value:26784e5},{formatter:"quarter",value:8208e6},{formatter:"half-year",value:16416e6},{formatter:"year",value:32832e6}];return{getAutoFormatter:e,getNewDate:d,format:n,nextMonday:i,nextNthPerNmonth:o,nextNthOnMonth:r,nextNthOnQuarterYear:a,nextNthOnHalfYear:s,nextNthOnYear:l}}),n("echarts/util/shape/Cross",["require","zrender/shape/Base","zrender/shape/Line","zrender/tool/util","./normalIsCover"],function(e){function t(e){n.call(this,e)}var n=e("zrender/shape/Base"),i=e("zrender/shape/Line"),o=e("zrender/tool/util");return t.prototype={type:"cross",buildPath:function(e,t){var n=t.rect;t.xStart=n.x,t.xEnd=n.x+n.width,t.yStart=t.yEnd=t.y,i.prototype.buildPath(e,t),t.xStart=t.xEnd=t.x,t.yStart=n.y,t.yEnd=n.y+n.height,i.prototype.buildPath(e,t)},getRect:function(e){return e.rect},isCover:e("./normalIsCover")},o.inherits(t,n),t}),n("echarts/util/smartLogSteps",["require","./number"],function(e){function t(e){return n(),g=e||{},i(),o(),[r(),n()][0]}function n(){u=g=y=f=b=_=v=x=p=m=null}function i(){p=g.logLabelBase,null==p?(m="plain",p=10,f=A):(p=+p,1>p&&(p=10),m="exponent",f=w(p)),v=g.splitNumber,null==v&&(v=D);var e=parseFloat(g.dataMin),t=parseFloat(g.dataMax);isFinite(e)||isFinite(t)?isFinite(e)?isFinite(t)?e>t&&(t=[e,e=t][0]):t=e:e=t:e=t=1,u=g.logPositive,null==u&&(u=t>0||0===e),b=u?e:-t,_=u?t:-e,O>b&&(b=O),O>_&&(_=O)}function o(){function e(){v>c&&(v=c);var e=$(l(c/v)),t=M(l(c/e)),n=e*t,i=(n-u)/2,o=$(l(a-i));h(o-a)&&(o-=1),y=-o*f;for(var s=o;r>=s-e;s+=e)x.push(T(p,s))}function t(){for(var e=n(d,0),t=e+2;t>e&&o(e+1)+i(e+1)*N<a;)e++;for(var l=n(s,0),t=l-2;l>t&&o(l-1)+i(l-1)*N>r;)l--;y=-(o(e)*A+i(e)*L);for(var c=e;l>=c;c++){var h=o(c),u=i(c);x.push(T(10,h)*T(2,u))}}function n(e,t){return 3*e+t}function i(e){return e-3*o(e)}function o(e){return $(l(e/3))}x=[];var r=l(w(_)/f),a=l(w(b)/f),s=M(r),d=$(a),c=s-d,u=r-a;"exponent"===m?e():z>=c&&v>z?t():e()}function r(){for(var e=[],t=0,n=x.length;n>t;t++)e[t]=(u?1:-1)*x[t];!u&&e.reverse();var i=s(),o=i.value2Coord,r=o(e[0]),l=o(e[e.length-1]);return r===l&&(r-=1,l+=1),{dataMin:r,dataMax:l,tickList:e,logPositive:u,labelFormatter:a(),dataMappingMethods:i}}function a(){if("exponent"===m){var e=p,t=f;return function(n){if(!isFinite(parseFloat(n)))return"";var i="";return 0>n&&(n=-n,i="-"),i+e+c(w(n)/t)}}return function(e){return isFinite(parseFloat(e))?E.addCommas(d(e)):""}}function s(){var e=u,t=y;return{value2Coord:function(n){return null==n||isNaN(n)||!isFinite(n)?n:(n=parseFloat(n),isFinite(n)?e&&O>n?n=O:!e&&n>-O&&(n=-O):n=O,n=S(n),(e?1:-1)*(w(n)+t))},coord2Value:function(n){return null==n||isNaN(n)||!isFinite(n)?n:(n=parseFloat(n),isFinite(n)||(n=O),e?T(k,n-t):-T(k,-n+t))}}}function l(e){return+Number(+e).toFixed(14)}function d(e){return Number(e).toFixed(15).replace(/\.?0*$/,"")}function c(e){e=d(Math.round(e));for(var t=[],n=0,i=e.length;i>n;n++){var o=e.charAt(n);t.push(I[o]||"")}return t.join("")}function h(e){return e>-O&&O>e}var u,p,m,f,g,v,y,b,_,x,E=e("./number"),C=Math,w=C.log,T=C.pow,S=C.abs,M=C.ceil,$=C.floor,k=C.E,A=C.LN10,L=C.LN2,N=L/A,O=1e-9,D=5,z=2,I={0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"","-":""};return t}),n("echarts/util/shape/HandlePolygon",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util"],function(e){function t(e){n.call(this,e)}var n=e("zrender/shape/Base"),i=e("zrender/shape/Polygon"),o=e("zrender/tool/util");return t.prototype={type:"handle-polygon",buildPath:function(e,t){i.prototype.buildPath(e,t)},isCover:function(e,t){var n=this.transformCoordToLocal(e,t);e=n[0],t=n[1];var i=this.style.rect;return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height?!0:!1}},o.inherits(t,n),t}),n("echarts/util/shape/Candle",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(e){function t(e){n.call(this,e)}var n=e("zrender/shape/Base"),i=e("zrender/tool/util");return t.prototype={type:"candle",_numberOrder:function(e,t){return t-e},buildPath:function(e,t){var n=i.clone(t.y).sort(this._numberOrder);e.moveTo(t.x,n[3]),e.lineTo(t.x,n[2]),e.moveTo(t.x-t.width/2,n[2]),e.rect(t.x-t.width/2,n[2],t.width,n[1]-n[2]),e.moveTo(t.x,n[1]),e.lineTo(t.x,n[0])},getRect:function(e){if(!e.__rect){var t=0;("stroke"==e.brushType||"fill"==e.brushType)&&(t=e.lineWidth||1);var n=i.clone(e.y).sort(this._numberOrder);e.__rect={x:Math.round(e.x-e.width/2-t/2),y:Math.round(n[3]-t/2),width:e.width+t,height:n[0]-n[3]+t}}return e.__rect},isCover:e("./normalIsCover")},i.inherits(t,n),t}),n("echarts/util/shape/Chain",["require","zrender/shape/Base","./Icon","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/matrix"],function(e){function t(e){n.call(this,e)}var n=e("zrender/shape/Base"),i=e("./Icon"),o=e("zrender/shape/util/dashedLineTo"),r=e("zrender/tool/util"),a=e("zrender/tool/matrix");return t.prototype={type:"chain",brush:function(e,t){var n=this.style;t&&(n=this.getHighlightStyle(n,this.highlightStyle||{})),e.save(),this.setContext(e,n),this.setTransform(e),e.save(),e.beginPath(),this.buildLinePath(e,n),e.stroke(),e.restore(),this.brushSymbol(e,n),e.restore()},buildLinePath:function(e,t){var n=t.x,i=t.y+5,r=t.width,a=t.height/2-10;if(e.moveTo(n,i),e.lineTo(n,i+a),e.moveTo(n+r,i),e.lineTo(n+r,i+a),e.moveTo(n,i+a/2),t.lineType&&"solid"!=t.lineType){if("dashed"==t.lineType||"dotted"==t.lineType){var s=(t.lineWidth||1)*("dashed"==t.lineType?5:1);o(e,n,i+a/2,n+r,i+a/2,s)}}else e.lineTo(n+r,i+a/2)},brushSymbol:function(e,t){var n=t.y+t.height/4;e.save();for(var o,r=t.chainPoint,a=0,s=r.length;s>a;a++){if(o=r[a],"none"!=o.symbol){e.beginPath();var l=o.symbolSize;i.prototype.buildPath(e,{iconType:o.symbol,x:o.x-l,y:n-l,width:2*l,height:2*l,n:o.n}),e.fillStyle=o.isEmpty?"#fff":t.strokeColor,e.closePath(),e.fill(),e.stroke()}o.showLabel&&(e.font=o.textFont,e.fillStyle=o.textColor,e.textAlign=o.textAlign,e.textBaseline=o.textBaseline,o.rotation?(e.save(),this._updateTextTransform(e,o.rotation),e.fillText(o.name,o.textX,o.textY),e.restore()):e.fillText(o.name,o.textX,o.textY))}e.restore()},_updateTextTransform:function(e,t){var n=a.create();if(a.identity(n),0!==t[0]){var i=t[1]||0,o=t[2]||0;(i||o)&&a.translate(n,n,[-i,-o]),a.rotate(n,n,t[0]),(i||o)&&a.translate(n,n,[i,o])}e.transform.apply(e,n)},isCover:function(e,t){var n=this.style;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height?!0:!1}},r.inherits(t,n),t}),n("zrender",["zrender/zrender"],function(e){return e}),n("echarts",["echarts/echarts"],function(e){return e});var i=t("zrender");i.tool={color:t("zrender/tool/color"),math:t("zrender/tool/math"),util:t("zrender/tool/util"),vector:t("zrender/tool/vector"),area:t("zrender/tool/area"),event:t("zrender/tool/event")},i.animation={Animation:t("zrender/animation/Animation"),Cip:t("zrender/animation/Clip"),easing:t("zrender/animation/easing")};var o=t("echarts");return o.config=t("echarts/config"),t("echarts/chart/bar"),t("echarts/chart/line"),t("echarts/chart/pie"),t("echarts/chart/radar"),t("echarts/chart/scatter"),t("echarts/chart/chord"),t("echarts/chart/gauge"),t("echarts/chart/funnel"),e.echarts=o,e.zrender=i,o}(window),function(){"use strict";function e(e){return function(t,n,i){function o(t){t&&(r.setOption(t),angular.element(e).bind("resize",function(){r.resize()}))}var r;r=echarts.init(n[0],"macarons"),o(t.options),t.$watch("options",function(e,t){angular.equals(e,t)||o(e)})}}var t=angular.module("ngecharts",[]);t.directive("echarts",["$window",function(t){return{restrict:"EA",template:"<div></div>",scope:{options:"=options"},link:e(t)}}])}();